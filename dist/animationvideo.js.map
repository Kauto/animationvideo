{"version":3,"file":"animationvideo.js","sources":["../src/lib/Engine.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isArray.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isString.js","../src/lib/ImageManager.js","../node_modules/lodash/isNumber.js","../src/lib/Scenes/Default.js","../src/lib/Scenes/Audio.js","../src/func/transform.js","../src/lib/Scenes/Norm.js","../src/lib/Scenes/NormAudio.js","../src/lib/Scenes.js","../src/func/ifnull.js","../src/func/calc.js","../src/lib/Sprites/Circle.js","../src/lib/Sprites/Callback.js","../src/lib/Sprites/Group.js","../src/lib/Sprites/Canvas.js","../src/lib/Sprites/Emitter.js","../src/lib/Sprites/FastBlur.js","../src/lib/Sprites/Image.js","../src/lib/Sprites/Text.js","../node_modules/color-name/index.js","../node_modules/simple-swizzle/index.js","../node_modules/simple-swizzle/node_modules/is-arrayish/index.js","../node_modules/color-string/index.js","../node_modules/color-convert/conversions.js","../node_modules/color-convert/route.js","../node_modules/color-convert/index.js","../node_modules/color/index.js","../src/lib/Sprites/Particle.js","../src/lib/Sprites/Path.js","../src/lib/Sprites/Rect.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assignValue.js","../node_modules/lodash/_copyObject.js","../node_modules/lodash/identity.js","../node_modules/lodash/_apply.js","../node_modules/lodash/_overRest.js","../node_modules/lodash/constant.js","../node_modules/lodash/_shortOut.js","../node_modules/lodash/_setToString.js","../node_modules/lodash/_baseSetToString.js","../node_modules/lodash/_baseRest.js","../node_modules/lodash/isLength.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/_isIterateeCall.js","../node_modules/lodash/_createAssigner.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/keys.js","../node_modules/lodash/assign.js","../src/lib/Sprites/Scroller.js","../src/lib/Sprites/StarField.js","../src/lib/Sprites.js","../src/lib/Sequence.js","../src/lib/Animations/Callback.js","../node_modules/eases/linear.js","../node_modules/pasition/dist/pasition.js","../src/lib/Animations/ChangeTo.js","../src/lib/Animations/End.js","../src/lib/Animations/EndDisabled.js","../src/lib/Animations/Image.js","../src/lib/Animations/ImageFrame.js","../src/lib/Animations/Move.js","../src/lib/Animations/Once.js","../src/lib/Animations/Play.js","../src/lib/Animations/Shake.js","../src/lib/Animations/ShowOnce.js","../src/lib/Animations/Stop.js","../src/lib/Animations/Wait.js","../src/lib/Animations/WaitDisabled.js","../src/lib/Animations.js","../node_modules/eases/bounce-out.js","../node_modules/eases/sine-out.js","../node_modules/eases/index.js","../node_modules/eases/back-in-out.js","../node_modules/eases/back-in.js","../node_modules/eases/back-out.js","../node_modules/eases/bounce-in-out.js","../node_modules/eases/bounce-in.js","../node_modules/eases/circ-in-out.js","../node_modules/eases/circ-in.js","../node_modules/eases/circ-out.js","../node_modules/eases/cubic-in-out.js","../node_modules/eases/cubic-in.js","../node_modules/eases/cubic-out.js","../node_modules/eases/elastic-in-out.js","../node_modules/eases/elastic-in.js","../node_modules/eases/elastic-out.js","../node_modules/eases/expo-in-out.js","../node_modules/eases/expo-in.js","../node_modules/eases/expo-out.js","../node_modules/eases/quad-in-out.js","../node_modules/eases/quad-in.js","../node_modules/eases/quad-out.js","../node_modules/eases/quart-in-out.js","../node_modules/eases/quart-in.js","../node_modules/eases/quart-out.js","../node_modules/eases/quint-in-out.js","../node_modules/eases/quint-in.js","../node_modules/eases/quint-out.js","../node_modules/eases/sine-in-out.js","../node_modules/eases/sine-in.js","../src/animationvideo.js"],"sourcesContent":["'use strict';\n\nclass Engine {\n  constructor(canvas, scene, autoresize) {\n    this._output = {\n      canvas: null,\n      context: null,\n      w: 0,\n      h: 0,\n      ratio: 1\n    };\n\n    // the current _scene-object\n    this._scene = null;\n    // is a _scene ready for action?\n    this._isSceneInitialized = false;\n    // new _scene to initialize\n    this._newScene = null;\n\n    // time measurement\n    this._lastTimestamp = 0;\n    this._timePassed = 0;\n\n    // reference to\n    this._referenceRequestAnimationFrame = null;\n\n\n    // data about the _output canvas\n    this._output.canvas = canvas;\n    if (!(typeof(canvas) === \"object\" && canvas !== null && canvas.getContext)) {\n      throw 'No context';\n    }\n    this._output.context = canvas.getContext(\"2d\");\n    this._output.w = this._output.canvas.width;\n    this._output.h = this._output.canvas.height;\n    this._output.ratio = this._output.w / this._output.h;\n\n    if (autoresize) {\n      window.addEventListener('resize', this.maximizeCanvas, false);\n      window.addEventListener('orientationchange', this.maximizeCanvas, false);\n      this.resize();\n\n      canvas.addEventListener('click', () => {\n        if (this._isSceneInitialized && this._scene.audioElement) {\n          this._scene.audioElement.play();\n        }\n      }, false);\n    }\n    this.changeScene(scene);\n    this.normalizeContext(this._output.context);\n  }\n\n  normalizeContext(ctx) {\n    ctx.textBaseline = 'middle';\n    ctx.textAlign = 'center';\n    ctx.globalAlpha = 1;\n    ctx.globalCompositeOperation = 'source-over';\n  }\n\n  getWidth() {\n    return this._output.w;\n  }\n\n  getHeight() {\n    return this._output.h;\n  }\n\n  maximizeCanvas() {\n    let gameArea = self.output.canvas;\n    let newWidth = window.innerWidth;\n    let newHeight = window.innerHeight;\n    let newWidthToHeight = newWidth / newHeight;\n\n    if (newWidthToHeight > self.output.ratio) {\n      newWidth = newHeight * self.output.ratio;\n      gameArea.style.height = newHeight + 'px';\n      gameArea.style.width = newWidth + 'px';\n    } else {\n      newHeight = newWidth / self.output.ratio;\n      gameArea.style.width = newWidth + 'px';\n      gameArea.style.height = newHeight + 'px';\n    }\n\n    gameArea.style.marginTop = (-newHeight / 2) + 'px';\n    gameArea.style.marginLeft = (-newWidth / 2) + 'px';\n\n    $(self.output.canvas).css({\n      width: newWidth,\n      height: newHeight\n    });\n    $(self.output.canvas).siblings().css({\n      width: newWidth\n    });\n  };\n\n  changeScene(scene) {\n    this._newScene = scene;\n  }\n\n  loadingscreen() {\n    let ctx = this._output.context;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.globalAlpha = 1;\n\n    ctx.fillStyle = \"rgba(0,0,0,0.5)\";\n    ctx.fillRect(0, 0, this._output.w, this._output.h);\n\n    ctx.font = \"20px Georgia\";\n    ctx.fillStyle = \"#FFF\";\n    let percent = (this._isSceneInitialized ? this._scene.getPercentLoaded() : 0);\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'bottom';\n    ctx.fillText(\"Loading \" + percent + \"%\", 10 + Math.random() * 3, this._output.h - 10 + Math.random() * 3);\n\n    this.normalizeContext(ctx);\n  }\n\n  run(initParameter) {\n\n    initParameter = initParameter || {};\n\n    function mainLoop() {\n      this._referenceRequestAnimationFrame = window.requestAnimationFrame(mainLoop.bind(this));\n\n      if (this._newScene !== null) {\n        let parameterForNewScene = (this._scene ? this._scene.destroy(this._output) : initParameter);\n        if (parameterForNewScene) {\n          this._newScene.callInit(this._output, parameterForNewScene, this);\n          this._scene = this._newScene;\n          this._newScene = null;\n          this._isSceneInitialized = false;\n        }\n      }\n\n      let now = this._scene.currentTime();\n      this._timePassed = now - this._lastTimestamp;\n      this._lastTimestamp = now;\n\n      if (this._isSceneInitialized) {\n        if (this._timePassed !== 0) {\n          this._scene.move(this._output, this._timePassed);\n\n          // if timepassed is negativ scene will do a reset. timepassed have to be the full new time\n          if (this._timePassed < 0) {\n            this._timePassed = this._scene.totalTimePassed;\n          }\n\n          this._scene.draw(this._output);\n        }\n      } else {\n        this._isSceneInitialized = this._scene.callLoading(this._output);\n      }\n    }\n\n    // First call ever\n    this._referenceRequestAnimationFrame = window.requestAnimationFrame(mainLoop.bind(this));\n  }\n\n  destroy() {\n    this._referenceRequestAnimationFrame && window.cancelAnimationFrame(this._referenceRequestAnimationFrame);\n    this._referenceRequestAnimationFrame = null;\n  }\n}\n\nexport default Engine;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","import isString from 'lodash/isString';\n\nclass ImageManager {\n\n  static add(Images, Callbacks) {\n    const self = this || ImageManager;\n    for (let i in Images) {\n      if (!self.Images[i]) {\n        self.Images[i] = new window.Image();\n        self.Images[i].onload = function () {\n          self.loaded++;\n          if (Callbacks && typeof(Callbacks) === \"function\") {\n            if (self.isLoaded()) {\n              Callbacks();\n            }\n          } else if (Callbacks && typeof(Callbacks[i]) === \"function\") {\n            Callbacks[i](i, self.Images[i]);\n          }\n        };\n        self.Images[i].src = Images[i];\n        self.count++;\n      } else {\n        if (Callbacks && typeof(Callbacks[i]) === \"function\") {\n          Callbacks[i](i, self.Images[i]);\n        }\n      }\n    }\n    if (Callbacks && typeof(Callbacks) === \"function\" && self.isLoaded()) {\n      Callbacks();\n    }\n    return self;\n  }\n\n  static reset() {\n    const self = this || ImageManager;\n    self.Images = {};\n    self.count = 0;\n    self.loaded = 0;\n    return self;\n  }\n\n  static getLoaded() {\n    return (this || ImageManager).loaded;\n  }\n\n  static getCount() {\n    return (this || ImageManager).count;\n  }\n\n  static isLoaded() {\n    const self = this || ImageManager;\n    return (self.loaded === self.count);\n  }\n\n  static getImage(nameOrImage) {\n    return isString(nameOrImage) ? (this || ImageManager).Images[nameOrImage] : nameOrImage;\n  }\n}\n\nImageManager.Images = {};\nImageManager.count = 0;\nImageManager.loaded = 0;\n\nexport default ImageManager;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","'use strict';\nimport ImageManager from '../ImageManager';\nimport isNumeric from 'lodash/isNumber';\n\nclass Scene {\n  constructor(endTime) {\n    // Layer consists of Sprites\n    this.layer = [];\n\n    // For precalculation if a layer is a function\n    this._cacheLayerIsFunction = [];\n\n    this.totalTimePassed = 0;\n\n    this.initCallback = null;\n    this.loadingCallback = null;\n    this.destroyCallback = null;\n    this.sceneCallback = null;\n    this.engine = null;\n    this.loadingShow = true;\n    this.endTime = endTime;\n    this.additionalModifier = undefined;\n  }\n\n  currentTime() {\n    return Date.now();\n  }\n\n  init(callbackOrImages) {\n    if (typeof callbackOrImages === 'function') {\n      this.initCallback = callbackOrImages;\n    } else {\n      ImageManager.add(callbackOrImages);\n    }\n    return this;\n  }\n\n  callInit(output, parameter, engine) {\n    this.initCallback && this.initCallback(output, parameter);\n\n    this.engine = engine;\n  }\n\n  destroy(callback) {\n    this.destroyCallback = callback;\n    return this;\n  }\n\n  scene(callback) {\n    this.sceneCallback = callback;\n    return this;\n  }\n\n  callDestroy(output) {\n    if (this.destroyCallback) {\n      return this.destroyCallback(output);\n    } else {\n      return true;\n    }\n  }\n\n  loadingscreen(output, progress) {\n    const ctx = output.context,\n      loadedHeight = Math.max(1, progress * output.h);\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.globalAlpha = 1;\n    ctx.clearRect(0, 0, output.w, output.h);\n    ctx.fillStyle = \"#aaa\";\n    ctx.fillRect(0, output.h / 2 - (loadedHeight / 2), output.w, loadedHeight);\n    ctx.font = \"20px Georgia\";\n    ctx.fillStyle = \"#fff\";\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'bottom';\n    let text = progress;\n\n    if (isNumeric(progress)) {\n      text = \"Loading \" + Math.round(100 * progress) + \"%\";\n    }\n    ctx.fillText(text, 10 + Math.random() * 3, output.h - 10 + Math.random() * 3);\n\n    this.engine && this.engine.normalizeContext(ctx);\n  }\n\n  loading(callbackOrBool) {\n    if (typeof callback === 'function') {\n      this.loadingCallback = callback;\n      this.loadingShow = true;\n    } else {\n      this.loadingCallback = null;\n      this.loadingShow = !!callbackOrBool;\n    }\n    return this;\n  }\n\n  callLoading(output) {\n    const imagePercentage = ImageManager.getCount() && ImageManager.getLoaded() < ImageManager.getCount() && ImageManager.getLoaded() / ImageManager.getCount();\n\n    if (this.loadingShow) {\n      if (this.loadingCallback) {\n        let result = this.loadingCallback(output, imagePercentage);\n        if (result === null) {\n          return false;\n        } else if (result !== true) {\n          this.loadingscreen(output, result ? result : (imagePercentage || 'Loading...'));\n          return false;\n        }\n      } else {\n        if (imagePercentage) {\n          this.loadingscreen(output, imagePercentage);\n        }\n      }\n    }\n\n    if (imagePercentage) {\n      return false;\n    }\n\n    this.reset(output);\n    return true;\n  }\n\n  move(output, timepassed) {\n    // calc total time\n    this.totalTimePassed += timepassed;\n\n    // Jump back?\n    if (timepassed < 0) {\n      // Back to the beginning\n      this.reset(output);\n      timepassed = this.totalTimePassed;\n    } else if (this.endTime && this.endTime <= this.totalTimePassed) {\n      // End Engine\n      this.engine.destroy();\n      // set timepassed to match endtime\n      timepassed -= this.totalTimePassed - this.endTime;\n      this.totalTimePassed = this.endTime;\n    }\n\n    let l, i, lay, layif;\n\n    l = this.layer.length;\n    while (l--) {\n      lay = this.layer[l];\n      layif = this._cacheLayerIsFunction[l];\n      i = lay.length;\n      while (i--) {\n        if (!layif[i] && lay[i] !== null) {\n          if (lay[i].animate(timepassed)) {\n            this.layer[l][i] = null;\n          }\n        }\n      }\n    }\n  }\n\n  draw(output) {\n    let l, i, lay, layif;\n\n    l = this.layer.length;\n    while (l--) {\n      lay = this.layer[l];\n      layif = this._cacheLayerIsFunction[l];\n      i = lay.length;\n      while (i--) {\n        if (lay[i] !== null) {\n          if (layif[i]) {\n            if (lay[i](output.context, this.totalTimePassed)) {\n              this.layer[l][i] = null;\n            }\n          }\n          else {\n            this.layer[l][i].draw(output.context, this.additionalModifier);\n          }\n        }\n      }\n    }\n  }\n\n  calcLayerIsFunction() {\n    this._cacheLayerIsFunction = new Array(this.layer.length);\n    for (let l in this.layer) {\n      this._cacheLayerIsFunction[l] = new Array(this.layer[l].length);\n      for (let i in this.layer[l]) {\n        this._cacheLayerIsFunction[l][i] = (typeof this.layer[l][i] === \"function\");\n      }\n    }\n  }\n\n  reset(output) {\n    this.layer = this.sceneCallback(output, []);\n    this.calcLayerIsFunction();\n  }\n}\n\nexport default Scene;\n","'use strict';\nimport Scene from './Default';\n\nexport default class SceneAudio extends Scene {\n  constructor(audioElement) {\n    super();\n    this.audioStartTime = null;\n    this.audioPosition = null;\n    this.enableAndroidHack = false;\n    this.audioElement = audioElement;\n  }\n\n  currentTime() {\n    let currentTime = super.currentTime();\n    if (this.audioElement) {\n      // Android workaround\n      if (this.enableAndroidHack) {\n        if (this.audioStartTime === null) {\n          this.audioStartTime = currentTime;\n          this.audioPosition = this.audioElement.currentTime;\n          return this.audioElement.currentTime * 1000;\n        } else {\n          if (this.audioElement.controller.playbackState === 'playing') {\n            if (this.audioElement.currentTime === this.audioPosition) {\n              return this.audioPosition * 1000 + Math.min(260, currentTime - this.audioStartTime);\n            } else if ((this.audioElement.currentTime - this.audioPosition) < 0.5 && (this.audioElement.currentTime > this.audioPosition) && currentTime - this.audioStartTime < 350) {\n              this.audioStartTime = this.audioStartTime + (this.audioElement.currentTime - this.audioPosition) * 1000;\n              this.audioPosition = this.audioElement.currentTime;\n              return this.audioPosition * 1000 + currentTime - this.audioStartTime;\n            }\n          }\n          this.audioStartTime = currentTime;\n          this.audioPosition = this.audioElement.currentTime;\n          return this.audioPosition * 1000;\n        }\n      } else {\n        return this.audioElement.currentTime * 1000;\n      }\n    }\n    else {\n      return currentTime;\n    }\n  }\n\n  init(...arg) {\n    // init audio\n    if (this.audioElement) {\n      var canPlayType = this.audioElement.canPlayType(\"audio/mp3\");\n      if (canPlayType.match(/maybe|probably/i)) {\n        //this.audioshift = 1500;\n      }\n      // Android hack\n      if (typeof(MediaController) === 'function') {\n        this.audioElement.controller = new MediaController();\n        this.enableAndroidHack = true;\n      }\n      this.audioElement.preload = \"auto\";\n      this.audioElement.load();\n    }\n\n    return super.init(...arg);\n  }\n\n  callLoading(output) {\n    let loaded = super.callLoading(output);\n\n    if (loaded && this.audioElement) {\n      if (!(this.audioElement.readyState >= this.audioElement.HAVE_ENOUGH_DATA))\n      {\n        this.loadingscreen(output, \"Waiting for Audio\");\n        return false;\n      } else {\n        this.audioElement.play();\n        this.loadingscreen(output, \"Click to play\");\n      }\n    }\n\n\t\treturn loaded;\n  }\n}","// https://github.com/simonsarris/Canvas-tutorials/blob/master/transform.js\n// Last updated November 2011\n// By Simon Sarris\n// www.simonsarris.com\n// sarris@acm.org\n//\n// Free to use and distribute at will\n// So long as you are nice to people, etc\n\n// Simple class for keeping track of the current transformation matrix\n\n// For instance:\n//    var t = new Transform();\n//    t.rotate(5);\n//    var m = t.m;\n//    ctx.setTransform(m[0], m[1], m[2], m[3], m[4], m[5]);\n\n// Is equivalent to:\n//    ctx.rotate(5);\n\n// But now you can retrieve it :)\n\n// Remember that this does not account for any CSS transforms applied to the canvas\n//https://www.npmjs.com/package/canvas-get-transform\nfunction Transform() {\n  this.reset();\n}\n\nTransform.prototype.reset = function() {\n  this.m = [1,0,0,1,0,0];\n  return this;\n};\n\nTransform.prototype.multiply = function(matrix) {\n  var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n  var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n\n  var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n  var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n\n  var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n  var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n\n  this.m[0] = m11;\n  this.m[1] = m12;\n  this.m[2] = m21;\n  this.m[3] = m22;\n  this.m[4] = dx;\n  this.m[5] = dy;\n  return this;\n};\n\nTransform.prototype.invert = function() {\n  var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n  var m0 = this.m[3] * d;\n  var m1 = -this.m[1] * d;\n  var m2 = -this.m[2] * d;\n  var m3 = this.m[0] * d;\n  var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n  var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n  this.m[0] = m0;\n  this.m[1] = m1;\n  this.m[2] = m2;\n  this.m[3] = m3;\n  this.m[4] = m4;\n  this.m[5] = m5;\n  return this;\n};\n\nTransform.prototype.rotate = function(rad) {\n  var c = Math.cos(rad);\n  var s = Math.sin(rad);\n  var m11 = this.m[0] * c + this.m[2] * s;\n  var m12 = this.m[1] * c + this.m[3] * s;\n  var m21 = this.m[0] * -s + this.m[2] * c;\n  var m22 = this.m[1] * -s + this.m[3] * c;\n  this.m[0] = m11;\n  this.m[1] = m12;\n  this.m[2] = m21;\n  this.m[3] = m22;\n  return this;\n};\n\nTransform.prototype.translate = function(x, y) {\n  this.m[4] += this.m[0] * x + this.m[2] * y;\n  this.m[5] += this.m[1] * x + this.m[3] * y;\n  return this;\n};\n\nTransform.prototype.scale = function(sx, sy) {\n  this.m[0] *= sx;\n  this.m[1] *= sx;\n  this.m[2] *= sy;\n  this.m[3] *= sy;\n  return this;\n};\n\nTransform.prototype.transformPoint = function(px, py) {\n  var x = px;\n  var y = py;\n  px = x * this.m[0] + y * this.m[2] + this.m[4];\n  py = x * this.m[1] + y * this.m[3] + this.m[5];\n  return [px, py];\n};\n\nTransform.prototype.clone = function() {\n  var n = new Transform();\n  n.m = this.m.slice(0);\n  return n;\n}\n\nexport default Transform;\n","'use strict';\nimport Scene from './Default';\nimport Transform from '../../func/transform';\n\nexport default class SceneNorm extends Scene {\n  constructor(endTime) {\n    super(endTime);\n    this.transform = null;\n    this.transformInvert = null;\n  }\n\n  _getViewport() {\n    if (!this.engine) return new Transform();\n\n    if (!this.transform) {\n        this.additionalModifier = {\n          a: 1,\n          w: this.engine._output.w / 2,\n          h: this.engine._output.h / 2\n        };\n        const scale = this.engine._output.ratio > 1 ? this.additionalModifier.w : this.additionalModifier.h;\n\n      this.transform = (new Transform())\n        .translate(this.additionalModifier.w, this.additionalModifier.h)\n        .scale(scale, scale);\n      this.transformInvert = null;\n\n      // Maybe move a cam in the future\n      //\t\t\toutput.context.scale(cam.zoom,cam.zoom);\n      //\t\t\toutput.context.translate(-cam.centerX,-cam.centerY);\n      //output.context.translate(-0.5,-0.5);\n    }\n    return this.transform\n  }\n\n  transformPoint(x, y) {\n    if (!this.transformInvert) {\n      this.transformInvert = this._getViewport().clone().invert()\n    }\n    return this.transformInvert.transformPoint(x, y);\n  }\n\n  draw(output) {\n    output.context.save();\n\n    output.context.setTransform(...this._getViewport().m);\n\n    super.draw(output);\n    output.context.restore();\n  }\n\n}\n","'use strict';\nimport SceneAudio from './Audio';\n\nexport default class SceneNormAudio extends SceneAudio {\n  constructor(audioElement) {\n    super(audioElement);\n  }\n\n  draw(output) {\n    output.context.save();\n    output.context.translate(output.w / 2, output.h / 2);\n    output.context.scale(output.w, output.h);\n\n    // Maybe move a cam in the future\n    //\t\t\toutput.context.scale(cam.zoom,cam.zoom);\n    //\t\t\toutput.context.translate(-cam.centerX,-cam.centerY);\n    output.context.translate(-0.5,-0.5);\n\n    super.draw(output);\n    output.context.restore();\n  }\n\n}\n","import _Default from './Scenes/Default';\nimport _Audio from './Scenes/Audio';\nimport _Norm from './Scenes/Norm';\nimport _NormAudio from './Scenes/NormAudio';\n\nconst\n  Default = (...args) => new _Default(...args),\n  Norm = (...args) => new _Norm(...args),\n  NormAudio = (...args) => new _NormAudio(...args),\n  Audio = (...args) => new _Audio(...args);\n\nexport default {\n  Default,\n  Audio,\n  Norm,\n  NormAudio\n};\n","export default function ifNull(value, alternative)\t{\n\treturn (typeof(value) === \"undefined\" || value === null || value === \"\" ? alternative : value);\n}","export default function calc(c, ...params) {\n\treturn typeof(c) === \"function\" ? c.apply(null,params) : c;\n}","import ifNull from '../../func/ifnull';\nimport calc from '../../func/calc';\n\nconst degToRad = 0.017453292519943295; //Math.PI / 180;\n\n// Sprite\n// Draw a Circle\nexport default class Circle {\n\n  constructor(params) {\n    // Position\n    this.x = ifNull(calc(params.x), 0);\n    this.y = ifNull(calc(params.y), 0);\n    // rotation\n    this.arc = ifNull(calc(params.arc), 0);\n    // Scale\n    this.scaleX = ifNull(calc(params.scaleX), 1);\n    this.scaleY = ifNull(calc(params.scaleY), 1);\n    // Alpha\n    this.a = ifNull(calc(params.a), 1);\n    // Alphamode\n    this.alphaMode = ifNull(calc(params.alphaMode), \"source-over\");\n    // Color\n    this.color = ifNull(calc(params.color), \"#fff\");\n    // Animation\n    this.animation = calc(params.animation);\n    // Sprite active\n    this.enabled = ifNull(calc(params.enabled), true);\n  }\n\n  changeAnimationStatus(ani) {\n    if (typeof this.animation === \"object\") {\n      this.animation.changeAnimationStatus(ani);\n    }\n  };\n\n  // Animation-Funktion\n  animate(timepassed) {\n    if (typeof(this.animation) === \"object\") {\n      // run animation\n      if (this.animation.run(this, timepassed, true) >= 0) {\n        // disable\n        this.enabled = false;\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  // Draw-Funktion\n  draw(context, additionalModifier) {\n    if (this.enabled) {\n      let a = this.a;\n      if (additionalModifier) {\n        a *= additionalModifier.a;\n      }\n      context.globalCompositeOperation = this.alphaMode;\n      context.globalAlpha = a;\n      context.save();\n      context.translate(this.x, this.y);\n      context.scale(this.scaleX, this.scaleY);\n      context.beginPath();\n      context.fillStyle = this.color;\n      context.arc(0, 0, 1, (90 + this.arc) * degToRad, (450 - this.arc) * degToRad, false);\n      context.fill();\n      context.closePath();\n      context.restore();\n    }\n  };\n}","import Circle from './Circle';\n\nexport default class Callback extends Circle{\n    constructor(params) {\n        super(params);\n        // Callback\n\t\tthis.callback = params.callback;\n    }\n\n    draw(context, additionalParameter) {\n\t\tif (this.enabled) {\n\t\t\tthis.callback(context, additionalParameter, this);\n\t\t}\n    }\n}","import ifNull from '../../func/ifnull';\nimport Circle from './Circle';\n\nconst degToRad = 0.017453292519943295; //Math.PI / 180;\n\nexport default class Group extends Circle {\n  constructor(params) {\n    super(params);\n    // Sprite\n    this.sprite = ifNull(params.sprite, []);\n  }\n\n  // overwrite changeAnimationStatus\n  changeAnimationStatus(ani) {\n    // call super\n    super.changeAnimationStatus(ani);\n    // changeAnimationStatus for all sprites\n    for (let i in this.sprite) {\n      this.sprite[i].changeAnimationStatus(ani);\n    }\n  }\n\n  // overwrite change\n  animate(timepassed) {\n    // call super\n    let finished = super.animate(timepassed),\n      spriteFinished = true;\n    // animate all sprites\n    if (this.enabled) {\n      for (let i in this.sprite) {\n        spriteFinished = this.sprite[i].animate(timepassed) && spriteFinished;\n      }\n    }\n\n    if (this.animation) {\n      return finished;\n    } else {\n      if (spriteFinished) {\n        this.enabled = false;\n      }\n      return spriteFinished;\n    }\n  }\n\n  // draw-methode\n  draw(context, additionalModifier) {\n    if (this.enabled) {\n      if (!additionalModifier) {\n        if (this.a < 1) {\n          additionalModifier = {\n            a:this.a\n          };\n        }\n      } else {\n        additionalModifier = Object.assign({}. additionalModifier);\n        additionalModifier.a *= this.a;\n      }\n\n      context.save();\n      context.translate(this.x, this.y);\n      context.scale(this.scaleX, this.scaleY);\n      context.rotate(this.arc * degToRad);\n      // draw all sprites\n      for (let i in this.sprite) {\n        this.sprite[i].draw(context, additionalModifier);\n      }\n      context.restore();\n    }\n  }\n}\n","import calc from '../../func/calc';\nimport Group from './Group';\n\nconst degToRad = 0.017453292519943295; //Math.PI / 180;\n\nexport default class Canvas extends Group {\n\n  constructor(params) {\n    super(params);\n    // Size\n    this.width = calc(params.width);\n    this.height = calc(params.height);\n  }\n\n  generateTempCanvas(context) {\n    let w = context.canvas.width,\n      h = context.canvas.height;\n    this.temp_canvas = document.createElement('canvas');\n    this.temp_canvas.width = Math.round(w / this.scaleX);\n    this.temp_canvas.height = Math.round(h / this.scaleY);\n    this.tctx = this.temp_canvas.getContext('2d');\n    this.tctx.globalCompositeOperation = \"source-over\";\n    this.tctx.globalAlpha = 1;\n    if (!this.width) {\n      this.width = w;\n    }\n    if (!this.height) {\n      this.height = h;\n    }\n  }\n\n  // draw-methode\n  draw(context, additionalModifier) {\n    if (this.enabled) {\n      if (!this.temp_canvas) {\n        this.generateTempCanvas(context);\n      }\n\n      let a = this.a,\n        w = this.width,\n        h = this.height,\n        wh = w >> 1,\n        hh = h >> 1;\n\n      if (additionalModifier) {\n        a *= additionalModifier.a;\n      }\n\n      // draw all sprites\n      for (let i in this.sprite) {\n        this.sprite[i].draw(this.tctx, false);\n      }\n\n      context.save();\n      context.globalCompositeOperation = this.alphaMode;\n      context.globalAlpha = a;\n      context.translate(this.x + wh, this.y + hh);\n      context.scale(this.scaleX, this.scaleY);\n      context.rotate(this.arc * degToRad);\n      context.drawImage(this.temp_canvas, 0, 0, w, h, -wh, -hh, w, h);\n      context.restore();\n    }\n  }\n}\n","import ifNull from '../../func/ifnull';\nimport calc from '../../func/calc';\nimport Group from './Group';\n\nexport default class Emitter extends Group {\n    constructor(params) {\n        super(params.self || {});\n        let staticArray = {},\n          functionArray = {};\n\n        for(let i in params) {\n            if (['self', 'class', 'count'].indexOf(i) === -1) {\n                if (typeof(params[i]) === 'function') {\n                  functionArray[i] = params[i];\n                } else {\n                  staticArray[i] = params[i];\n                }\n            }\n        }\n\n        // add the letters\n        let count = ifNull(calc(params.count), 1);\n        this.sprite = [];\n\n        for(let i = 0; i < count; i++) {\n            let classToEmit = params.class,\n                parameter = {};\n            for(let index in staticArray) {\n              parameter[index] = staticArray[index];\n            }\n            for(let index in functionArray) {\n              parameter[index] = functionArray[index].call(null, i);\n            }\n            this.sprite[i] = new classToEmit(parameter);\n        }\n    }\n}","import ifNull from '../../func/ifnull';\nimport calc from '../../func/calc';\nimport Circle from './Circle';\n\nexport default class FastBlur extends Circle {\n\n  constructor(params) {\n    super(params);\n    // Size\n    this.width = calc(params.width);\n    this.height = calc(params.height);\n    // Darker\n    this.darker = ifNull(calc(params.darker), 0);\n    this.pixel = ifNull(calc(params.pixel), false);\n    this.clear = ifNull(calc(params.clear), false);\n  }\n\n  generateTempCanvas(context) {\n    let w = context.canvas.width,\n      h = context.canvas.height;\n    this.temp_canvas = document.createElement('canvas');\n    this.temp_canvas.width = Math.ceil(w / this.scaleX);\n    this.temp_canvas.height = Math.ceil(h / this.scaleY);\n    this.tctx = this.temp_canvas.getContext('2d');\n    this.tctx.globalCompositeOperation = \"source-over\";\n    this.tctx.globalAlpha = 1;\n    if (!this.width) {\n      this.width = w;\n    }\n    if (!this.height) {\n      this.height = h;\n    }\n  }\n\n  // draw-methode\n  draw(context, additionalModifier) {\n    if (this.enabled) {\n      if (!this.temp_canvas) {\n        this.generateTempCanvas(context);\n      }\n\n      let a = this.a,\n        w = this.width,\n        h = this.height,\n        targetW = Math.round(w / this.scaleX),\n        targetH = Math.round(h / this.scaleY);\n\n      if (additionalModifier) {\n        a *= additionalModifier.a;\n        if (additionalModifier.w) {\n          targetW = Math.round(w * additionalModifier.w / this.scaleX);\n          targetH = Math.round(h * additionalModifier.h / this.scaleY);\n        }\n      }\n\n      if (a > 0 && targetW && targetH) {\n        this.tctx.globalCompositeOperation = \"copy\";\n        this.tctx.globalAlpha = 1;\n        this.tctx.drawImage(context.canvas, 0, 0, context.canvas.width, context.canvas.height, 0, 0, targetW, targetH);\n\n        if (this.darker > 0) {\n          this.tctx.globalCompositeOperation = this.clear ? \"source-atop\" : \"source-over\"; // \"source-atop\"; source-atop works with transparent background but source-over is much faster\n          this.tctx.fillStyle = \"rgba(0,0,0,\" + this.darker + \")\";\n          this.tctx.fillRect(0, 0, targetW, targetH);\n        }\n\n        // optional: clear screen\n        if (this.clear) {\n          context.clearRect(this.x, this.y, w, h);\n        }\n        context.globalCompositeOperation = this.alphaMode;\n        context.globalAlpha = a;\n        context.imageSmoothingEnabled = !this.pixel;\n        context.drawImage(this.temp_canvas, 0, 0, targetW, targetH, this.x, this.y, w, h);\n        context.imageSmoothingEnabled = true;\n      }\n    } else {\n      // optional: clear screen\n      if (this.clear) {\n        if (!this.width) {\n          this.width = context.canvas.width;\n        }\n        if (!this.height) {\n          this.height = context.canvas.height;\n        }\n        context.clearRect(this.x, this.y, this.width, this.height);\n      }\n    }\n  }\n}\n","import ifNull from '../../func/ifnull';\nimport calc from '../../func/calc';\nimport ImageManager from '../ImageManager';\nimport Circle from './Circle';\n\nconst degToRad = 0.017453292519943295; //Math.PI / 180;\n\n// Sprite\n// Draw a Image\nclass Image extends Circle {\n  constructor(params) {\n    super(params);\n    // Image\n    this.image = ImageManager.getImage(calc(params.image));\n    // relativ position\n    this.position = ifNull(calc(params.position), Image.CENTER);\n    this.frameX = ifNull(calc(params.frameX), 0);\n    this.frameY = ifNull(calc(params.frameY), 0);\n    this.frameWidth = ifNull(calc(params.frameWidth), 0);\n    this.frameHeight = ifNull(calc(params.frameHeight), 0);\n  }\n\n  // Draw-Funktion\n  draw(context, additionalModifier) {\n    if (this.enabled) {\n      let a = this.a,\n        frameWidth = this.frameWidth || this.image.width,\n        frameHeight = this.frameHeight || this.image.height,\n        sX = frameWidth * this.scaleX,\n        sY = frameHeight * this.scaleY;\n      if (additionalModifier) {\n        a *= additionalModifier.a;\n      }\n      context.globalCompositeOperation = this.alphaMode;\n      context.globalAlpha = a;\n      if (this.arc == 0) {\n        if (this.position === Image.LEFT_TOP) {\n          context.drawImage(\n            this.image,\n            this.frameX,\n            this.frameY,\n            frameWidth,\n            frameHeight,\n            this.x,\n            this.y,\n            sX,\n            sY\n          );\n        }\n        else {\n          context.drawImage(\n            this.image,\n            this.frameX,\n            this.frameY,\n            frameWidth,\n            frameHeight,\n            this.x - sX / 2,\n            this.y - sY / 2,\n            sX,\n            sY\n          );\n        }\n      }\n      else {\n        context.save();\n        context.translate(this.x, this.y);\n        context.rotate(this.arc * degToRad);\n        context.drawImage(\n          this.image,\n          this.frameX,\n          this.frameY,\n          frameWidth,\n          frameHeight,\n          -(sX >> 1),\n          -(sY >> 1),\n          sX,\n          sY\n        );\n        context.restore();\n\n      }\n    }\n  };\n}\nImage.LEFT_TOP = 0;\nImage.CENTER = 1;\n\nexport default Image;\n","import ifNull from '../../func/ifnull';\nimport calc from '../../func/calc';\nimport Circle from './Circle';\n\nconst degToRad = 0.017453292519943295; //Math.PI / 180;\n\nclass Text extends Circle {\n  constructor(params) {\n    super(params);\n    // Sprite\n    this.text = calc(params.text);\n    // font\n    this.font = ifNull(calc(params.font), '26px monospace');\n    // position\n    this.position = ifNull(calc(params.position), Text.CENTER);\n\n    this.color = calc(params.color);\n    this.borderColor = calc(params.borderColor);\n    this.lineWidth = ifNull(calc(params.lineWidth), 1);\n  }\n\n  // draw-methode\n  draw(context, additionalModifier) {\n    if (this.enabled) {\n      let a = this.a;\n      if (additionalModifier) {\n        a *= additionalModifier.a;\n      }\n      context.globalCompositeOperation = this.alphaMode;\n      context.globalAlpha = a;\n      context.save();\n      if (Text.LEFT_TOP) {\n        context.textAlign = 'left';\n        context.textBaseline = 'top';\n      }\n      context.translate(this.x, this.y);\n      context.scale(this.scaleX, this.scaleY);\n      context.rotate(this.arc * degToRad);\n      context.font = this.font;\n\n      if (this.color) {\n        context.fillStyle = this.color;\n        context.fillText(this.text, 0, 0);\n      }\n\n      if (this.borderColor) {\n        context.strokeStyle = this.borderColor;\n        context.lineWidth = this.lineWidth;\n        context.strokeText(this.text, 0, 0);\n      }\n\n      context.restore();\n    }\n  };\n}\n\n// const\nText.LEFT_TOP = 0;\nText.CENTER = 1;\n\nexport default Text;\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","'use strict';\n\nmodule.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\n\nvar reverseNames = {};\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (colorNames.hasOwnProperty(name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar keyword = /(\\D+)/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\n\t\tif (!rgb) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?\\d*[\\.]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d*[\\.]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = num.toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","/* MIT license */\nvar cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n\tif (cssKeywords.hasOwnProperty(key)) {\n\t\treverseKeywords[cssKeywords[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar v;\n\n\tif (max === 0) {\n\t\ts = 0;\n\t} else {\n\t\ts = (delta / max * 1000) / 10;\n\t}\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tv = ((max / 255) * 1000) / 10;\n\n\treturn [h, s, v];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in cssKeywords) {\n\t\tif (cssKeywords.hasOwnProperty(keyword)) {\n\t\t\tvar value = cssKeywords[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","var conversions = require('./conversions');\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","var conversions = require('./conversions');\nvar route = require('./route');\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","'use strict';\n\nvar colorString = require('color-string');\nvar convert = require('color-convert');\n\nvar _slice = [].slice;\n\nvar skippedModels = [\n\t// to be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// shouldn't really be in color-convert either...\n\t'hex'\n];\n\nvar hashedModelKeys = {};\nObject.keys(convert).forEach(function (model) {\n\thashedModelKeys[_slice.call(convert[model].labels).sort().join('')] = model;\n});\n\nvar limiters = {};\n\nfunction Color(obj, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tvar i;\n\tvar channels;\n\n\tif (!obj) {\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (obj instanceof Color) {\n\t\tthis.model = obj.model;\n\t\tthis.color = obj.color.slice();\n\t\tthis.valpha = obj.valpha;\n\t} else if (typeof obj === 'string') {\n\t\tvar result = colorString.get(obj);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + obj);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (obj.length) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tvar newArr = _slice.call(obj, 0, channels);\n\t\tthis.color = zeroArray(newArr, channels);\n\t\tthis.valpha = typeof obj[channels] === 'number' ? obj[channels] : 1;\n\t} else if (typeof obj === 'number') {\n\t\t// this is always RGB - can be converted later on.\n\t\tobj &= 0xFFFFFF;\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(obj >> 16) & 0xFF,\n\t\t\t(obj >> 8) & 0xFF,\n\t\t\tobj & 0xFF\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tvar keys = Object.keys(obj);\n\t\tif ('alpha' in obj) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof obj.alpha === 'number' ? obj.alpha : 0;\n\t\t}\n\n\t\tvar hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(obj));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tvar labels = convert[this.model].labels;\n\t\tvar color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(obj[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tvar limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString: function () {\n\t\treturn this.string();\n\t},\n\n\ttoJSON: function () {\n\t\treturn this[this.model]();\n\t},\n\n\tstring: function (places) {\n\t\tvar self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString: function (places) {\n\t\tvar self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray: function () {\n\t\treturn this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);\n\t},\n\n\tobject: function () {\n\t\tvar result = {};\n\t\tvar channels = convert[this.model].channels;\n\t\tvar labels = convert[this.model].labels;\n\n\t\tfor (var i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray: function () {\n\t\tvar rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject: function () {\n\t\tvar rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround: function (places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);\n\t},\n\n\talpha: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(this.color.concat(Math.max(0, Math.min(1, val))), this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, function (val) { return ((val % 360) + 360) % 360; }), // eslint-disable-line brace-style\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(100)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(100)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.rgb().color;\n\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.rgb().color;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight: function () {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = this.rgb();\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\t\treturn rgb;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale: function () {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar rgb = this.rgb().color;\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(val, val, val);\n\t},\n\n\tfade: function (ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer: function (ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.hsl();\n\t\tvar hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix: function (mixinColor, weight) {\n\t\t// ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tvar color1 = mixinColor.rgb();\n\t\tvar color2 = this.rgb();\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t}\n};\n\n// model conversion methods and static constructors\nObject.keys(convert).forEach(function (model) {\n\tif (skippedModels.indexOf(model) !== -1) {\n\t\treturn;\n\t}\n\n\tvar channels = convert[model].channels;\n\n\t// conversion methods\n\tColor.prototype[model] = function () {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments.length) {\n\t\t\treturn new Color(arguments, model);\n\t\t}\n\n\t\tvar newAlpha = typeof arguments[channels] === 'number' ? channels : this.valpha;\n\t\treturn new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (color) {\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(_slice.call(arguments), channels);\n\t\t}\n\t\treturn new Color(color, model);\n\t};\n});\n\nfunction roundTo(num, places) {\n\treturn Number(num.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (num) {\n\t\treturn roundTo(num, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tmodel.forEach(function (m) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t});\n\n\tmodel = model[0];\n\n\treturn function (val) {\n\t\tvar result;\n\n\t\tif (arguments.length) {\n\t\t\tif (modifier) {\n\t\t\t\tval = modifier(val);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = val;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(val) {\n\treturn Array.isArray(val) ? val : [val];\n}\n\nfunction zeroArray(arr, length) {\n\tfor (var i = 0; i < length; i++) {\n\t\tif (typeof arr[i] !== 'number') {\n\t\t\tarr[i] = 0;\n\t\t}\n\t}\n\n\treturn arr;\n}\n\nmodule.exports = Color;\n","import Circle from './Circle';\nimport Color from 'color';\n\nconst gradientSize = 64;\nconst gradientResolution = 4;\nconst gradientSizeHalf = gradientSize >> 1;\n\nclass Particle extends Circle {\n\n\n  constructor(params) {\n    super(params)\n  }\n\n  static getGradientImage(r, g, b) {\n    let rIndex, gIndex, cr = r >> gradientResolution, cg = g >> gradientResolution, cb = b >> gradientResolution;\n\n    if (!Particle.Gradient) {\n      Particle.Gradient = new Array(256 >> gradientResolution);\n      for (rIndex = 0; rIndex < Particle.Gradient.length; rIndex++) {\n        Particle.Gradient[rIndex] = new Array(256 >> gradientResolution);\n        for (gIndex = 0; gIndex < Particle.Gradient[rIndex].length; gIndex++) {\n          Particle.Gradient[rIndex][gIndex] = new Array(256 >> gradientResolution);\n        }\n\n      }\n    }\n    if (!Particle.Gradient[cr][cg][cb]) {\n      Particle.Gradient[cr][cg][cb] = Particle.generateGradientImage(cr, cg, cb);\n    }\n    return Particle.Gradient[cr][cg][cb];\n  }\n\n  static generateGradientImage(cr, cg, cb) {\n    let canvas = document.createElement('canvas');\n    canvas.width = canvas.height = gradientSize;\n\n    let txtc = canvas.getContext('2d');\n    txtc.globalAlpha = 1;\n    txtc.globalCompositeOperation = \"source-over\";\n    txtc.clearRect(0, 0, gradientSize, gradientSize);\n\n    let grad = txtc.createRadialGradient(gradientSizeHalf, gradientSizeHalf, 0, gradientSizeHalf, gradientSizeHalf, gradientSizeHalf);\n    grad.addColorStop(0, \"rgba(\" + ((cr << gradientResolution) + (1 << gradientResolution) - 1) + \",\" + ((cg << gradientResolution) + (1 << gradientResolution) - 1) + \",\" + ((cb << gradientResolution) + (1 << gradientResolution) - 1) + \",1)\");\n    grad.addColorStop(0.3, \"rgba(\" + ((cr << gradientResolution) + (1 << gradientResolution) - 1) + \",\" + ((cg << gradientResolution) + (1 << gradientResolution) - 1) + \",\" + ((cb << gradientResolution) + (1 << gradientResolution) - 1) + \",0.4)\");\n    grad.addColorStop(1, \"rgba(\" + ((cr << gradientResolution) + (1 << gradientResolution) - 1) + \",\" + ((cg << gradientResolution) + (1 << gradientResolution) - 1) + \",\" + ((cb << gradientResolution) + (1 << gradientResolution) - 1) + \",0)\");\n\n    txtc.fillStyle = grad;\n    txtc.fillRect(0, 0, gradientSize, gradientSize);\n\n    return canvas;\n  }\n\n  // draw-methode\n  draw(context, additionalModifier) {\n    if (this.enabled) {\n      // faster as: if (!(this.color instanceof Color && this.color.model === 'rgb')) {\n      if (!this.color || !this.color.color) {\n        this.color = Color(this.color).rgb();\n      }\n      let a = this.a,\n        color = this.color.color;\n      if (additionalModifier) {\n        a *= additionalModifier.a;\n      }\n      context.globalCompositeOperation = this.alphaMode;\n      context.globalAlpha = a;\n      context.imageSmoothingEnabled = this.scaleX > gradientSize;\n      context.drawImage(Particle.getGradientImage(color[0], color[1], color[2]), 0, 0, gradientSize, gradientSize, this.x - (this.scaleX >> 1), this.y - (this.scaleY >> 1), this.scaleX, this.scaleY);\n      context.imageSmoothingEnabled = true;\n    }\n  }\n}\n\nParticle.Gradient = null;\n\nexport default Particle;\n","import ifNull from '../../func/ifnull';\nimport calc from '../../func/calc';\nimport Group from './Group';\nimport _isArray from 'lodash/isArray';\n\nconst degToRad = 0.017453292519943295; //Math.PI / 180;\n\nexport default class Path extends Group {\n  constructor(params) {\n    super(params);\n\n    this.oldPath = undefined;\n    this.path = calc(params.path);\n    this.path2D = new Path2D();\n\n    this.color = calc(params.color);\n    this.borderColor = calc(params.borderColor);\n    this.lineWidth = ifNull(calc(params.lineWidth), 1);\n    this.clip = ifNull(calc(params.clip), false);\n    this.fixed = ifNull(calc(params.fixed), false);\n  }\n\n  // draw-methode\n  draw(context, additionalModifier) {\n    if (this.enabled) {\n      let a = this.a;\n      if (this.oldPath !== this.path) {\n        if (_isArray(this.path)) {\n          this.path2D = new Path2D();\n          this.path.forEach((curve) => {\n            this.path2D.moveTo(curve[0][0], curve[0][1]);\n            curve.forEach((points) => {\n              this.path2D.bezierCurveTo(points[2], points[3], points[4], points[5], points[6], points[7]);\n            });\n            this.path2D.closePath();\n          });\n        } else {\n          this.path2D = new Path2D(this.path);\n        }\n        this.oldPath = this.path;\n      }\n      if (additionalModifier) {\n        a *= additionalModifier.a;\n      }\n\n      let scaleX = this.scaleX,\n        scaleY = this.scaleY;\n\n      if (this.fixed) {\n        if (scaleX == 0) {\n          scaleX = 0.0000000001;\n        }\n        if (scaleY == 0) {\n          scaleY = 0.0000000001;\n        }\n      }\n\n      context.globalCompositeOperation = this.alphaMode;\n      context.globalAlpha = a;\n      context.save();\n      context.translate(this.x, this.y);\n      context.scale(scaleX, scaleY);\n      context.rotate(this.arc * degToRad);\n\n      if (this.color) {\n        context.fillStyle = this.color;\n        context.fill(this.path2D);\n      }\n\n      if (this.borderColor) {\n        context.strokeStyle = this.borderColor;\n        context.lineWidth = this.lineWidth;\n        context.stroke(this.path2D);\n      }\n\n      if (this.clip) {\n        context.clip(this.path2D);\n        if (this.fixed) {\n          context.rotate(-this.arc * degToRad);\n          context.scale(1/scaleX, 1/scaleY);\n          context.translate(-this.x, -this.y);\n        }\n      }\n\n      // draw all sprites\n      for (let i in this.sprite) {\n        this.sprite[i].draw(context, additionalModifier);\n      }\n\n      context.restore();\n    }\n  };\n}\n","import ifNull from '../../func/ifnull';\nimport calc from '../../func/calc';\nimport Circle from './Circle';\n\nconst degToRad = 0.017453292519943295; //Math.PI / 180;\n\n// Sprite\n// Draw a Circle\nexport default class Rect extends Circle {\n\n  constructor(params) {\n    super(params);\n    // Size\n    this.width = calc(params.width);\n    this.height = calc(params.height);\n\n    this.borderColor = calc(params.borderColor);\n    this.lineWidth = ifNull(calc(params.lineWidth), 1);\n  }\n\n  // Draw-Funktion\n  draw(context, additionalModifier) {\n    if (this.enabled) {\n      if (!this.width) {\n        this.width = context.canvas.width;\n      }\n      if (!this.height) {\n        this.height = context.canvas.height;\n      }\n      let a = this.a;\n      if (additionalModifier) {\n        a *= additionalModifier.a;\n      }\n      context.globalCompositeOperation = this.alphaMode;\n      context.globalAlpha = a;\n      if (this.arc === 0) {\n        context.fillStyle = this.color;\n        context.fillRect(this.x, this.y, this.width, this.height);\n        if (this.borderColor) {\n            context.beginPath();\n            context.lineWidth = this.lineWidth;\n            context.strokeStyle = this.borderColor;\n            context.rect(this.x, this.y, this.width, this.height);\n            context.stroke();\n        }\n      } else {\n        context.save();\n        context.translate(this.x + this.width/2, this.y + this.height / 2);\n        context.rotate(this.arc * degToRad);\n        context.fillStyle = this.color;\n        context.fillRect(-this.width / 2, -this.height / 2, this.width, this.height);\n        if (this.borderColor) {\n            context.beginPath();\n            context.lineWidth = this.lineWidth;\n            context.strokeStyle = this.borderColor;\n            context.rect(-this.width / 2, -this.height / 2, this.width, this.height);\n            context.stroke();\n        }\n        context.restore();\n      }\n    }\n  };\n}","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n","import calc from '../../func/calc';\nimport Emitter from './Emitter';\nimport Text from './Text';\nimport _assign from 'lodash/assign';\nimport _isArray from 'lodash/isArray';\n\nexport default class Scroller extends Emitter {\n  constructor(params) {\n    let text = calc(params.text),\n      characterList = _isArray(text) ? text : [...text];\n    super(_assign({}, params, {\n      class: Text,\n      count: characterList.length,\n      text: (index) => characterList[index],\n      enabled: (index) => characterList[index] !== \" \" && calc(params.enabled, index)\n    }));\n  }\n}","import ifNull from '../../func/ifnull';\nimport calc from '../../func/calc';\nimport Rect from './Rect';\n// Sprite\n// Draw a Circle\nexport default class StarField extends Rect {\n\tconstructor( params ) {\n\t\tsuper( params );\n\t\tthis.count = ifNull( calc( params.count ), 40 );\n\t\tthis.moveX = ifNull( calc( params.moveX ), 0 );\n\t\tthis.moveY = ifNull( calc( params.moveY ), 0 );\n\t\tthis.moveZ = ifNull( calc( params.moveZ ), 0 );\n\t\tif ( this.width && this.height ) {\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\tinit() {\n\t\tthis.centerX = Math.floor( (this.width - this.x) / 2 ) + this.x;\n\t\tthis.centerY = Math.floor( (this.height - this.y) / 2 ) + this.y;\n\t\tthis.scaleZ = Math.max( this.width, this.height );\n\t\tthis.starsX = new Array( this.count );\n\t\tthis.starsY = new Array( this.count );\n\t\tthis.starsZ = new Array( this.count );\n\t\tthis.starsOldX = new Array( this.count );\n\t\tthis.starsOldY = new Array( this.count );\n\t\tthis.starsNewX = new Array( this.count );\n\t\tthis.starsNewY = new Array( this.count );\n\t\tthis.starsEnabled = new Array( this.count );\n\t\tthis.starsLineWidth = new Array( this.count );\n\t\tfor ( let i = 0; i < this.count; i++ ) {\n\t\t\tthis.starsX[ i ] = Math.random() * this.width - this.centerX;\n\t\t\tthis.starsY[ i ] = Math.random() * this.height - this.centerY;\n\t\t\tthis.starsZ[ i ] = Math.random() * this.scaleZ;\n\t\t}\n\t}\n\n\tmoveStar( i, scaled_timepassed, firstPass ) {\n\t\tif ( firstPass ) {\n\t\t\tthis.starsEnabled[ i ] = true;\n\t\t}\n\t\tlet\n\t\t\tx = this.starsX[ i ] + this.moveX * scaled_timepassed,\n\t\t\ty = this.starsY[ i ] + this.moveY * scaled_timepassed,\n\t\t\tz = this.starsZ[ i ] + this.moveZ * scaled_timepassed;\n\t\tif ( x < -this.centerX ) {\n\t\t\tx += this.width;\n\t\t\ty = Math.random() * this.height - this.centerY;\n\t\t\tthis.starsEnabled[ i ] = false;\n\t\t} else {\n\t\t\twhile ( x > this.width - this.centerX ) {\n\t\t\t\tx -= this.width;\n\t\t\t\ty = Math.random() * this.height - this.centerY;\n\t\t\t\tthis.starsEnabled[ i ] = false;\n\t\t\t}\n\t\t}\n\t\tif ( y < -this.centerY ) {\n\t\t\ty += this.height;\n\t\t\tx = Math.random() * this.width - this.centerX;\n\t\t\tthis.starsEnabled[ i ] = false;\n\t\t} else {\n\t\t\twhile ( y > this.height - this.centerY ) {\n\t\t\t\ty -= this.height;\n\t\t\t\tx = Math.random() * this.width - this.centerX;\n\t\t\t\tthis.starsEnabled[ i ] = false;\n\t\t\t}\n\t\t}\n\t\tif ( z <= 0 ) {\n\t\t\tz += this.scaleZ;\n\t\t\tx = Math.random() * this.width - this.centerX;\n\t\t\ty = Math.random() * this.height - this.centerY;\n\t\t\tthis.starsEnabled[ i ] = false;\n\t\t} else {\n\t\t\twhile ( z > this.scaleZ ) {\n\t\t\t\tz -= this.scaleZ;\n\t\t\t\tx = Math.random() * this.width - this.centerX;\n\t\t\t\ty = Math.random() * this.height - this.centerY;\n\t\t\t\tthis.starsEnabled[ i ] = false;\n\t\t\t}\n\t\t}\n\t\tvar projectX = ~~(this.centerX + (x / z) * this.scaleZ),\n\t\t\tprojectY = ~~(this.centerY + (y / z) * this.scaleZ / 2);\n\t\tthis.starsEnabled[ i ] = this.starsEnabled[ i ] && projectX >= this.x && projectY >= this.y && projectX < this.width && projectY < this.height;\n\t\tif ( firstPass ) {\n\t\t\tthis.starsX[ i ] = x;\n\t\t\tthis.starsY[ i ] = y;\n\t\t\tthis.starsZ[ i ] = z;\n\t\t\tthis.starsNewX[ i ] = projectX;\n\t\t\tthis.starsNewY[ i ] = projectY;\n\t\t} else {\n\t\t\tthis.starsOldX[ i ] = projectX;\n\t\t\tthis.starsOldY[ i ] = projectY;\n\t\t\tthis.starsLineWidth[ i ] = Math.round( (1 - this.starsZ[ i ] / this.scaleZ) * 2 + 1 );\n\t\t}\n\t}\n\n\tanimate( timepassed ) {\n\t\tlet ret = super.animate( timepassed );\n\t\tif ( this.enabled && this.width && this.height ) {\n\t\t\tlet i = this.count;\n\t\t\twhile ( i-- ) {\n\t\t\t\tthis.moveStar( i, timepassed / 16, true );\n\t\t\t\tif ( this.starsEnabled[ i ] ) {\n\t\t\t\t\tthis.moveStar( i, -3, false );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t}\n\n\t// Draw-Funktion\n\tdraw( context, additionalModifier ) {\n\t\tif ( this.enabled ) {\n\t\t\tif ( !this.width || !this.height ) {\n\t\t\t\tthis.width = this.width || context.canvas.width;\n\t\t\t\tthis.height = this.height || context.canvas.height;\n\t\t\t\tthis.init();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet a = this.a;\n\t\t\tif ( additionalModifier ) {\n\t\t\t\ta *= additionalModifier.a;\n\t\t\t}\n\t\t\tcontext.globalCompositeOperation = this.alphaMode;\n\t\t\tcontext.globalAlpha = a;\n\t\t\tif ( this.moveY == 0 && this.moveZ == 0 && this.moveX < 0 ) {\n\t\t\t\tcontext.fillStyle = this.color;\n\t\t\t\tlet i = this.count;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( this.starsEnabled[ i ] ) {\n\t\t\t\t\t\tcontext.fillRect( this.starsNewX[ i ], this.starsNewY[ i ] - (this.starsLineWidth[ i ] / 2), this.starsOldX[ i ] - this.starsNewX[ i ], this.starsLineWidth[ i ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcontext.strokeStyle = this.color;\n\t\t\t\tlet lw = 4, i;\n\t\t\t\twhile ( --lw ) {\n\t\t\t\t\tcontext.beginPath();\n\t\t\t\t\tcontext.lineWidth = lw;\n\t\t\t\t\ti = this.count;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( this.starsEnabled[ i ] && this.starsLineWidth[ i ] === lw ) {\n\t\t\t\t\t\t\tcontext.moveTo( this.starsOldX[ i ], this.starsOldY[ i ] );\n\t\t\t\t\t\t\tcontext.lineTo( this.starsNewX[ i ], this.starsNewY[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontext.stroke();\n\t\t\t\t\tcontext.closePath();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n","import _Callback from './Sprites/Callback';\nimport _Canvas from './Sprites/Canvas';\nimport _Circle from './Sprites/Circle';\nimport _Emitter from './Sprites/Emitter';\nimport _FastBlur from './Sprites/FastBlur';\nimport _Group from './Sprites/Group';\nimport _Image from './Sprites/Image';\nimport _Text from './Sprites/Text';\nimport _Particle from './Sprites/Particle';\nimport _Path from './Sprites/Path';\nimport _Rect from './Sprites/Rect';\nimport _Scroller from './Sprites/Scroller';\nimport _StarField from './Sprites/StarField';\n\nconst\n  Callback = (...args) => new _Callback(...args),\n  Canvas = (...args) => new _Canvas(...args),\n  Circle = (...args) => new _Circle(...args),\n  Emitter = (...args) => new _Emitter(...args),\n  FastBlur = (...args) => new _FastBlur(...args),\n  Group = (...args) => new _Group(...args),\n  Image = (...args) => new _Image(...args),\n  Text = (...args) => new _Text(...args),\n  Particle = (...args) => new _Particle(...args),\n  Path = (...args) => new _Path(...args),\n  Rect = (...args) => new _Rect(...args),\n  Scroller = (...args) => new _Scroller(...args),\n  StarField = (...args) => new _StarField(...args);\n\nexport default {\n  Callback,\n  Canvas,\n  Circle,\n  Emitter,\n  FastBlur,\n  Group,\n  Image,\n  Text,\n  Particle,\n  Path,\n  Rect,\n  Scroller,\n  StarField\n};\n","import calc from '../func/calc';\nimport ifNull from '../func/ifnull';\n\nclass Sequence {\n  constructor(loop, timeWait, obj) {\n    this.loop = loop;\n    // Timewait - how long to wait for the start\n    this.timeWait = ifNull(timeWait, 0);\n    // Animations\n    this.animation = obj || {};\n    // init position-array\n    this.animationPosition = {};\n    for (let i in this.animation) {\n      this.animationPosition[i] = {\n        position: 0,\n        timelapsed: -calc(this.timeWait),\n        object: null,\n        loop: (typeof loop === 'object') ? calc(loop[i]) : calc(loop),\n        enabled: !((typeof loop === 'object' && calc(loop[i]) === false) || calc(loop) === false),\n      };\n      this.setObject(i);\n    }\n    // init time\n    this.last_timestamp = 0;\n    this.hide_vote = false;\n  }\n\n  setObject(i) {\n    if (\n      this.animationPosition[i].position < this.animation[i].length\n      && this.animation[i][this.animationPosition[i].position] !== null\n    ) {\n      this.animationPosition[i].object = this.animation[i][this.animationPosition[i].position];\n      // Reset animation if possible\n      if (typeof this.animationPosition[i].object.reset === 'function') {\n        this.animationPosition[i].object.reset();\n      }\n\n      // create run if not exists\n      if (typeof this.animationPosition[i].object.run !== 'function') {\n        this.animationPosition[i].object = {run: this.animationPosition[i].object};\n      }\n    }\n    else {\n      // No object left\n      this.animationPosition[i].object = null;\n    }\n  };\n\n  changeAnimationStatus(ani) {\n    let i;\n    // set new parameter\n    for (i in ani) {\n      if (typeof this.animationPosition[i] === 'object') {\n        if (ani[i].position !== null) {\n          this.animationPosition[i].position = ani[i].position;\n        }\n        if (ani[i].loop !== null) {\n          this.animationPosition[i].loop = ani[i].loop;\n          this.animationPosition[i].enabled = !(ani[i].loop === false);\n        }\n        if (ani[i].timelapsed !== null) {\n          this.animationPosition[i].timelapsed = ani[i].timelapsed;\n        }\n        this.setObject(i);\n      }\n    }\n    // search for additional animations\n    for (i in this.animation) {\n      if (typeof this.animationPosition[i] === 'object' && this.animationPosition[i].object instanceof Sequence) {\n        this.animationPosition[i].object.changeAnimationStatus(ani);\n      }\n    }\n  };\n\n  // call other animations\n  run(sprite, time, is_difference) {\n    // Calculate timedifference\n    let timepassed = time,\n      // Vote to disable the sprite\n      disable_vote = 0,\n      hide_vote = 0,\n      animation_count = 0,\n      // Loop variables\n      timeleft = 0,\n      current_animationPosition = null;\n    if (!is_difference) {\n      timepassed = time - this.last_timestamp;\n      this.last_timestamp = time;\n    }\n    for (let i in this.animation) {\n      animation_count++;\n      current_animationPosition = this.animationPosition[i];\n      if (current_animationPosition.enabled === true) {\n        timeleft = timepassed;\n        // Valid animation avaible?\n        if (current_animationPosition.object === null) {\n          disable_vote++;\n          hide_vote++;\n          timeleft = 0;\n        }\n        else {\n          if (timeleft > 0) {\n            while (timeleft > 0) {\n              // New time-position in the animation\n              current_animationPosition.timelapsed += timeleft;\n              // Don't ran future animations\n              if (current_animationPosition.timelapsed >= 0) {\n                // Do the animation\n                timeleft = current_animationPosition.object.run(sprite, current_animationPosition.timelapsed);\n                // accept true and false values: when true go to next step. This is archived with timeleft=0\n                if (timeleft === true) {\n                  timeleft = 0;\n                }\n                if (timeleft === Sequence.TIMELAPSE_TO_FORCE_DISABLE) {\n                  return timepassed;\n                } else if (timeleft === Sequence.TIMELAPSE_TO_STOP) {\n                  // reset current animation for the future\n                  current_animationPosition.timelapsed = 0;\n                  // create next obj\n                  this.setObject(i);\n                  // set object to null, so it disable votes every time\n                  current_animationPosition.object = null;\n                  //disable_vote++;\n                  timeleft = 0;\n                } else if (timeleft !== false && timeleft >= 0) {\n                  // yes, next animation\n                  current_animationPosition.position++;\n                  // loop animation?\n                  if (current_animationPosition.position >= this.animation[i].length) {\n                    if (current_animationPosition.loop !== true) {\n                      current_animationPosition.loop--;\n                    }\n                    if (current_animationPosition.loop) {\n                      current_animationPosition.position = current_animationPosition.position % this.animation[i].length;\n                    }\n                    else {\n                      current_animationPosition.enabled = false;\n                    }\n                  }\n                  // start from the beginning\n                  current_animationPosition.timelapsed = 0;\n                  // create next obj\n                  this.setObject(i);\n                  if (!current_animationPosition.enabled) {\n                    current_animationPosition.object = null;\n                    current_animationPosition.enabled = true;\n                  }\n                  if (current_animationPosition.object === null) {\n                    disable_vote++;\n                    timeleft = 0;\n                  }\n                }\n              }\n              else {\n                timeleft = 0;\n                hide_vote++;\n              }\n            }\n          }\n          else {\n            hide_vote++;\n          }\n        }\n      }\n    }\n    if (animation_count > 0) {\n      // Vote successful?\n      if (disable_vote === animation_count) {\n        // disable\n        return timepassed;\n      }\n      // Vote successful?\n      if (sprite.enabled && hide_vote === animation_count) {\n        // disable\n        sprite.enabled = false;\n        this.hide_vote = true;\n      }\n      else if (this.hide_vote && hide_vote !== animation_count) {\n        this.hide_vote = false;\n        sprite.enabled = true;\n      }\n    }\n    return -1;\n  }\n}\n\nSequence.TIMELAPSE_TO_FORCE_DISABLE = 'FORCE_DISABLE';\nSequence.TIMELAPSE_TO_STOP = 'STOP';\nexport default Sequence;\n","import calc from '../../func/calc';\nimport ifNull from '../../func/ifnull';\nimport isNumber from 'lodash/isNumber';\n\nexport default class Callback {\n\n    constructor(callback, duration) {\n      this.callback = callback;\n      this.duration = ifNull(calc(duration), 0);\n      this.initialized = false;\n    }\n\n    reset() {\n      this.initialized = false;\n    }\n\n    run(sprite, time) {\n      let result;\n\n      if (isNumber(this.duration)) {\n        this.callback(sprite, Math.min(time, this.duration), !this.initialized);\n        this.initialized = true;\n        return time - this.duration;\n      } else {\n        result = this.callback(sprite, time, !this.initialized);\n        this.initialized = true;\n        return result;\n      }\n    };\n}","function linear(t) {\n  return t\n}\n\nmodule.exports = linear","/**\n * pasition v1.0.1 By dntzhang\n * Github: https://github.com/AlloyTeam/pasition\n * MIT Licensed.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.pasition = factory());\n}(this, (function () { 'use strict';\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n//https://github.com/colinmeinke/svg-arc-to-cubic-bezier\n\nvar TAU = Math.PI * 2;\n\nvar mapToEllipse = function mapToEllipse(_ref, rx, ry, cosphi, sinphi, centerx, centery) {\n    var x = _ref.x,\n        y = _ref.y;\n\n    x *= rx;\n    y *= ry;\n\n    var xp = cosphi * x - sinphi * y;\n    var yp = sinphi * x + cosphi * y;\n\n    return {\n        x: xp + centerx,\n        y: yp + centery\n    };\n};\n\nvar approxUnitArc = function approxUnitArc(ang1, ang2) {\n    var a = 4 / 3 * Math.tan(ang2 / 4);\n\n    var x1 = Math.cos(ang1);\n    var y1 = Math.sin(ang1);\n    var x2 = Math.cos(ang1 + ang2);\n    var y2 = Math.sin(ang1 + ang2);\n\n    return [{\n        x: x1 - y1 * a,\n        y: y1 + x1 * a\n    }, {\n        x: x2 + y2 * a,\n        y: y2 - x2 * a\n    }, {\n        x: x2,\n        y: y2\n    }];\n};\n\nvar vectorAngle = function vectorAngle(ux, uy, vx, vy) {\n    var sign = ux * vy - uy * vx < 0 ? -1 : 1;\n    var umag = Math.sqrt(ux * ux + uy * uy);\n    var vmag = Math.sqrt(ux * ux + uy * uy);\n    var dot = ux * vx + uy * vy;\n\n    var div = dot / (umag * vmag);\n\n    if (div > 1) {\n        div = 1;\n    }\n\n    if (div < -1) {\n        div = -1;\n    }\n\n    return sign * Math.acos(div);\n};\n\nvar getArcCenter = function getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp) {\n    var rxsq = Math.pow(rx, 2);\n    var rysq = Math.pow(ry, 2);\n    var pxpsq = Math.pow(pxp, 2);\n    var pypsq = Math.pow(pyp, 2);\n\n    var radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n\n    if (radicant < 0) {\n        radicant = 0;\n    }\n\n    radicant /= rxsq * pypsq + rysq * pxpsq;\n    radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n    var centerxp = radicant * rx / ry * pyp;\n    var centeryp = radicant * -ry / rx * pxp;\n\n    var centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n    var centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n\n    var vx1 = (pxp - centerxp) / rx;\n    var vy1 = (pyp - centeryp) / ry;\n    var vx2 = (-pxp - centerxp) / rx;\n    var vy2 = (-pyp - centeryp) / ry;\n\n    var ang1 = vectorAngle(1, 0, vx1, vy1);\n    var ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n    if (sweepFlag === 0 && ang2 > 0) {\n        ang2 -= TAU;\n    }\n\n    if (sweepFlag === 1 && ang2 < 0) {\n        ang2 += TAU;\n    }\n\n    return [centerx, centery, ang1, ang2];\n};\n\nvar arcToBezier = function arcToBezier(_ref2) {\n    var px = _ref2.px,\n        py = _ref2.py,\n        cx = _ref2.cx,\n        cy = _ref2.cy,\n        rx = _ref2.rx,\n        ry = _ref2.ry,\n        _ref2$xAxisRotation = _ref2.xAxisRotation,\n        xAxisRotation = _ref2$xAxisRotation === undefined ? 0 : _ref2$xAxisRotation,\n        _ref2$largeArcFlag = _ref2.largeArcFlag,\n        largeArcFlag = _ref2$largeArcFlag === undefined ? 0 : _ref2$largeArcFlag,\n        _ref2$sweepFlag = _ref2.sweepFlag,\n        sweepFlag = _ref2$sweepFlag === undefined ? 0 : _ref2$sweepFlag;\n\n    var curves = [];\n\n    if (rx === 0 || ry === 0) {\n        return [];\n    }\n\n    var sinphi = Math.sin(xAxisRotation * TAU / 360);\n    var cosphi = Math.cos(xAxisRotation * TAU / 360);\n\n    var pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;\n    var pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;\n\n    if (pxp === 0 && pyp === 0) {\n        return [];\n    }\n\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n\n    var lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n\n    var _getArcCenter = getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp),\n        _getArcCenter2 = slicedToArray(_getArcCenter, 4),\n        centerx = _getArcCenter2[0],\n        centery = _getArcCenter2[1],\n        ang1 = _getArcCenter2[2],\n        ang2 = _getArcCenter2[3];\n\n    var segments = Math.max(Math.ceil(Math.abs(ang2) / (TAU / 4)), 1);\n\n    ang2 /= segments;\n\n    for (var i = 0; i < segments; i++) {\n        curves.push(approxUnitArc(ang1, ang2));\n        ang1 += ang2;\n    }\n\n    return curves.map(function (curve) {\n        var _mapToEllipse = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery),\n            x1 = _mapToEllipse.x,\n            y1 = _mapToEllipse.y;\n\n        var _mapToEllipse2 = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery),\n            x2 = _mapToEllipse2.x,\n            y2 = _mapToEllipse2.y;\n\n        var _mapToEllipse3 = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery),\n            x = _mapToEllipse3.x,\n            y = _mapToEllipse3.y;\n\n        return { x1: x1, y1: y1, x2: x2, y2: y2, x: x, y: y };\n    });\n};\n\n//https://github.com/jkroso/parse-svg-path/blob/master/index.js\n/**\n * expected argument lengths\n * @type {Object}\n */\n\nvar length = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0\n\n    /**\n     * segment pattern\n     * @type {RegExp}\n     */\n\n};var segment = /([astvzqmhlc])([^astvzqmhlc]*)/ig;\n\n/**\n * parse an svg path data string. Generates an Array\n * of commands where each command is an Array of the\n * form `[command, arg1, arg2, ...]`\n *\n * @param {String} path\n * @return {Array}\n */\n\nfunction parse(path) {\n    var data = [];\n    path.replace(segment, function (_, command, args) {\n        var type = command.toLowerCase();\n        args = parseValues(args\n\n        // overloaded moveTo\n        );if (type == 'm' && args.length > 2) {\n            data.push([command].concat(args.splice(0, 2)));\n            type = 'l';\n            command = command == 'm' ? 'l' : 'L';\n        }\n\n        while (true) {\n            if (args.length == length[type]) {\n                args.unshift(command);\n                return data.push(args);\n            }\n            if (args.length < length[type]) throw new Error('malformed path data');\n            data.push([command].concat(args.splice(0, length[type])));\n        }\n    });\n    return data;\n}\n\nvar number = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig;\n\nfunction parseValues(args) {\n    var numbers = args.match(number);\n    return numbers ? numbers.map(Number) : [];\n}\n\nfunction shapeBox(shape) {\n    var minX = shape[0][0],\n        minY = shape[0][1],\n        maxX = minX,\n        maxY = minY;\n    shape.forEach(function (curve) {\n        var x1 = curve[0],\n            x2 = curve[2],\n            x3 = curve[4],\n            x4 = curve[6],\n            y1 = curve[1],\n            y2 = curve[3],\n            y3 = curve[5],\n            y4 = curve[7];\n\n        minX = Math.min(minX, x1, x2, x3, x4);\n        minY = Math.min(minY, y1, y2, y3, y4);\n        maxX = Math.max(maxX, x1, x2, x3, x4);\n        maxY = Math.max(maxY, y1, y2, y3, y4);\n    });\n\n    return [minX, minY, maxX, maxY];\n}\n\nfunction boxDistance(boxA, boxB) {\n    return Math.sqrt(Math.pow(boxA[0] - boxB[0], 2) + Math.pow(boxA[1] - boxB[1], 2)) + Math.sqrt(Math.pow(boxA[2] - boxB[2], 2) + Math.pow(boxA[3] - boxB[3], 2));\n}\n\nfunction curveDistance(curveA, curveB) {\n    var x1 = curveA[0],\n        x2 = curveA[2],\n        x3 = curveA[4],\n        x4 = curveA[6],\n        y1 = curveA[1],\n        y2 = curveA[3],\n        y3 = curveA[5],\n        y4 = curveA[7],\n        xb1 = curveB[0],\n        xb2 = curveB[2],\n        xb3 = curveB[4],\n        xb4 = curveB[6],\n        yb1 = curveB[1],\n        yb2 = curveB[3],\n        yb3 = curveB[5],\n        yb4 = curveB[7];\n\n    return Math.sqrt(Math.pow(xb1 - x1, 2) + Math.pow(yb1 - y1, 2)) + Math.sqrt(Math.pow(xb2 - x2, 2) + Math.pow(yb2 - y2, 2)) + Math.sqrt(Math.pow(xb3 - x3, 2) + Math.pow(yb3 - y3, 2)) + Math.sqrt(Math.pow(xb4 - x4, 2) + Math.pow(yb4 - y4, 2));\n}\n\nfunction sortCurves(curvesA, curvesB) {\n\n    var arrList = permuteCurveNum(curvesA.length);\n\n    var list = [];\n    arrList.forEach(function (arr) {\n        var distance = 0;\n        var i = 0;\n        arr.forEach(function (index) {\n            distance += curveDistance(curvesA[index], curvesB[i++]);\n        });\n        list.push({ index: arr, distance: distance });\n    });\n\n    list.sort(function (a, b) {\n        return a.distance - b.distance;\n    });\n\n    var result = [];\n\n    list[0].index.forEach(function (index) {\n        result.push(curvesA[index]);\n    });\n\n    return result;\n}\n\nfunction sort(pathA, pathB) {\n\n    var arrList = permuteNum(pathA.length);\n\n    var list = [];\n    arrList.forEach(function (arr) {\n        var distance = 0;\n        arr.forEach(function (index) {\n            distance += boxDistance(shapeBox(pathA[index]), shapeBox(pathB[index]));\n        });\n        list.push({ index: arr, distance: distance });\n    });\n\n    list.sort(function (a, b) {\n        return a.distance - b.distance;\n    });\n\n    var result = [];\n\n    list[0].index.forEach(function (index) {\n        result.push(pathA[index]);\n    });\n\n    return result;\n}\n\nfunction permuteCurveNum(num) {\n    var arr = [];\n\n    for (var i = 0; i < num; i++) {\n        var indexArr = [];\n        for (var j = 0; j < num; j++) {\n            var index = j + i;\n            if (index > num - 1) index -= num;\n            indexArr[index] = j;\n        }\n\n        arr.push(indexArr);\n    }\n\n    return arr;\n}\n\nfunction permuteNum(num) {\n    var arr = [];\n    for (var i = 0; i < num; i++) {\n        arr.push(i);\n    }\n\n    return permute(arr);\n}\n\nfunction permute(input) {\n    var permArr = [],\n        usedChars = [];\n    function main(input) {\n        var i, ch;\n        for (i = 0; i < input.length; i++) {\n            ch = input.splice(i, 1)[0];\n            usedChars.push(ch);\n            if (input.length == 0) {\n                permArr.push(usedChars.slice());\n            }\n            main(input);\n            input.splice(i, 0, ch);\n            usedChars.pop();\n        }\n        return permArr;\n    }\n    return main(input);\n}\n\nvar pasition = {};\npasition.parser = parse;\n\npasition.lerpCurve = function (pathA, pathB, t) {\n\n    return pasition.lerpPoints(pathA[0], pathA[1], pathB[0], pathB[1], t).concat(pasition.lerpPoints(pathA[2], pathA[3], pathB[2], pathB[3], t)).concat(pasition.lerpPoints(pathA[4], pathA[5], pathB[4], pathB[5], t)).concat(pasition.lerpPoints(pathA[6], pathA[7], pathB[6], pathB[7], t));\n};\n\npasition.lerpPoints = function (x1, y1, x2, y2, t) {\n    return [x1 + (x2 - x1) * t, y1 + (y2 - y1) * t];\n};\n\npasition.q2b = function (x1, y1, x2, y2, x3, y3) {\n    return [x1, y1, (x1 + 2 * x2) / 3, (y1 + 2 * y2) / 3, (x3 + 2 * x2) / 3, (y3 + 2 * y2) / 3, x3, y3];\n};\n\npasition.path2shapes = function (path) {\n    //https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths\n    //M = moveto\n    //L = lineto\n    //H = horizontal lineto\n    //V = vertical lineto\n    //C = curveto\n    //S = smooth curveto\n    //Q = quadratic Belzier curve\n    //T = smooth quadratic Belzier curveto\n    //A = elliptical Arc\n    //Z = closepath\n    //()\n    var cmds = pasition.parser(path),\n        preX = 0,\n        preY = 0,\n        j = 0,\n        len = cmds.length,\n        shapes = [],\n        current = null,\n        closeX = void 0,\n        closeY = void 0,\n        preCX = void 0,\n        preCY = void 0,\n        sLen = void 0,\n        curves = void 0,\n        lastCurve = void 0;\n\n    for (; j < len; j++) {\n        var item = cmds[j];\n        var action = item[0];\n        var preItem = cmds[j - 1];\n\n        switch (action) {\n            case 'm':\n                sLen = shapes.length;\n                shapes[sLen] = [];\n                current = shapes[sLen];\n                preX = preX + item[1];\n                preY = preY + item[2];\n                break;\n            case 'M':\n\n                sLen = shapes.length;\n                shapes[sLen] = [];\n                current = shapes[sLen];\n                preX = item[1];\n                preY = item[2];\n                break;\n\n            case 'l':\n                current.push([preX, preY, preX, preY, preX, preY, preX + item[1], preY + item[2]]);\n                preX += item[1];\n                preY += item[2];\n                break;\n\n            case 'L':\n\n                current.push([preX, preY, item[1], item[2], item[1], item[2], item[1], item[2]]);\n                preX = item[1];\n                preY = item[2];\n\n                break;\n\n            case 'h':\n\n                current.push([preX, preY, preX, preY, preX, preY, preX + item[1], preY]);\n                preX += item[1];\n                break;\n\n            case 'H':\n                current.push([preX, preY, item[1], preY, item[1], preY, item[1], preY]);\n                preX = item[1];\n                break;\n\n            case 'v':\n                current.push([preX, preY, preX, preY, preX, preY, preX, preY + item[1]]);\n                preY += item[1];\n                break;\n\n            case 'V':\n                current.push([preX, preY, preX, item[1], preX, item[1], preX, item[1]]);\n                preY = item[1];\n                break;\n\n            case 'C':\n\n                current.push([preX, preY, item[1], item[2], item[3], item[4], item[5], item[6]]);\n                preX = item[5];\n                preY = item[6];\n                break;\n            case 'S':\n                if (preItem[0] === 'C' || preItem[0] === 'c') {\n                    current.push([preX, preY, preX + preItem[5] - preItem[3], preY + preItem[6] - preItem[4], item[1], item[2], item[3], item[4]]);\n                } else if (preItem[0] === 'S' || preItem[0] === 's') {\n                    current.push([preX, preY, preX + preItem[3] - preItem[1], preY + preItem[4] - preItem[2], item[1], item[2], item[3], item[4]]);\n                }\n                preX = item[3];\n                preY = item[4];\n                break;\n\n            case 'c':\n                current.push([preX, preY, preX + item[1], preY + item[2], preX + item[3], preY + item[4], preX + item[5], preY + item[6]]);\n                preX = preX + item[5];\n                preY = preY + item[6];\n                break;\n            case 's':\n                if (preItem[0] === 'C' || preItem[0] === 'c') {\n\n                    current.push([preX, preY, preX + preItem[5] - preItem[3], preY + preItem[6] - preItem[4], preX + item[1], preY + item[2], preX + item[3], preY + item[4]]);\n                } else if (preItem[0] === 'S' || preItem[0] === 's') {\n                    current.push([preX, preY, preX + preItem[3] - preItem[1], preY + preItem[4] - preItem[2], preX + item[1], preY + item[2], preX + item[3], preY + item[4]]);\n                }\n\n                preX = preX + item[3];\n                preY = preY + item[4];\n\n                break;\n            case 'a':\n                curves = arcToBezier({\n                    rx: item[1],\n                    ry: item[2],\n                    px: preX,\n                    py: preY,\n                    xAxisRotation: item[3],\n                    largeArcFlag: item[4],\n                    sweepFlag: item[5],\n                    cx: preX + item[6],\n                    cy: preX + item[7]\n                });\n                lastCurve = curves[curves.length - 1];\n\n                curves.forEach(function (curve, index) {\n                    if (index === 0) {\n                        current.push([preX, preY, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y]);\n                    } else {\n                        current.push([curves[index - 1].x, curves[index - 1].y, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y]);\n                    }\n                });\n\n                preX = lastCurve.x;\n                preY = lastCurve.y;\n\n                break;\n\n            case 'A':\n\n                curves = arcToBezier({\n                    rx: item[1],\n                    ry: item[2],\n                    px: preX,\n                    py: preY,\n                    xAxisRotation: item[3],\n                    largeArcFlag: item[4],\n                    sweepFlag: item[5],\n                    cx: item[6],\n                    cy: item[7]\n                });\n                lastCurve = curves[curves.length - 1];\n\n                curves.forEach(function (curve, index) {\n                    if (index === 0) {\n                        current.push([preX, preY, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y]);\n                    } else {\n                        current.push([curves[index - 1].x, curves[index - 1].y, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y]);\n                    }\n                });\n\n                preX = lastCurve.x;\n                preY = lastCurve.y;\n\n                break;\n            case 'Q':\n                current.push(pasition.q2b(preX, preY, item[1], item[2], item[3], item[4]));\n                preX = item[3];\n                preY = item[4];\n\n                break;\n            case 'q':\n                current.push(pasition.q2b(preX, preY, preX + item[1], preY + item[2], item[3] + preX, item[4] + preY));\n                preX += item[3];\n                preY += item[4];\n                break;\n\n            case 'T':\n\n                if (preItem[0] === 'Q' || preItem[0] === 'q') {\n                    preCX = preX + preItem[3] - preItem[1];\n                    preCY = preY + preItem[4] - preItem[2];\n                    current.push(pasition.q2b(preX, preY, preCX, preCY, item[1], item[2]));\n                } else if (preItem[0] === 'T' || preItem[0] === 't') {\n                    current.push(pasition.q2b(preX, preY, preX + preX - preCX, preY + preY - preCY, item[1], item[2]));\n                    preCX = preX + preX - preCX;\n                    preCY = preY + preY - preCY;\n                }\n\n                preX = item[1];\n                preY = item[2];\n                break;\n\n            case 't':\n                if (preItem[0] === 'Q' || preItem[0] === 'q') {\n                    preCX = preX + preItem[3] - preItem[1];\n                    preCY = preY + preItem[4] - preItem[2];\n                    current.push(pasition.q2b(preX, preY, preCX, preCY, preX + item[1], preY + item[2]));\n                } else if (preItem[0] === 'T' || preItem[0] === 't') {\n                    current.push(pasition.q2b(preX, preY, preX + preX - preCX, preY + preY - preCY, preX + item[1], preY + item[2]));\n                    preCX = preX + preX - preCX;\n                    preCY = preY + preY - preCY;\n                }\n\n                preX += item[1];\n                preY += item[2];\n                break;\n\n            case 'Z':\n                closeX = current[0][0];\n                closeY = current[0][1];\n                current.push([preX, preY, closeX, closeY, closeX, closeY, closeX, closeY]);\n                break;\n            case 'z':\n                closeX = current[0][0];\n                closeY = current[0][1];\n                current.push([preX, preY, closeX, closeY, closeX, closeY, closeX, closeY]);\n                break;\n        }\n    }\n\n    return shapes;\n};\n\npasition._upCurves = function (curves, count) {\n    var i = 0,\n        index = 0,\n        len = curves.length;\n    for (; i < count; i++) {\n        curves.push(curves[index].slice(0));\n        index++;\n        if (index > len - 1) {\n            index -= len;\n        }\n    }\n};\n\nfunction split(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    return {\n        left: _split(x1, y1, x2, y2, x3, y3, x4, y4, t),\n        right: _split(x4, y4, x3, y3, x2, y2, x1, y1, 1 - t, true)\n    };\n}\n\nfunction _split(x1, y1, x2, y2, x3, y3, x4, y4, t, reverse) {\n\n    var x12 = (x2 - x1) * t + x1;\n    var y12 = (y2 - y1) * t + y1;\n\n    var x23 = (x3 - x2) * t + x2;\n    var y23 = (y3 - y2) * t + y2;\n\n    var x34 = (x4 - x3) * t + x3;\n    var y34 = (y4 - y3) * t + y3;\n\n    var x123 = (x23 - x12) * t + x12;\n    var y123 = (y23 - y12) * t + y12;\n\n    var x234 = (x34 - x23) * t + x23;\n    var y234 = (y34 - y23) * t + y23;\n\n    var x1234 = (x234 - x123) * t + x123;\n    var y1234 = (y234 - y123) * t + y123;\n\n    if (reverse) {\n        return [x1234, y1234, x123, y123, x12, y12, x1, y1];\n    }\n    return [x1, y1, x12, y12, x123, y123, x1234, y1234];\n}\n\npasition._splitCurves = function (curves, count) {\n    var i = 0,\n        index = 0;\n\n    for (; i < count; i++) {\n        var curve = curves[index];\n        var cs = split(curve[0], curve[1], curve[2], curve[3], curve[4], curve[5], curve[6], curve[7], 0.5);\n        curves.splice(index, 1);\n        curves.splice(index, 0, cs.left, cs.right);\n\n        index += 2;\n        if (index >= curves.length - 1) {\n            index = 0;\n        }\n    }\n};\n\npasition._upShapes = function (shapes, count) {\n    var _loop = function _loop(i) {\n        var shape = shapes[shapes.length - 1];\n        var newShape = [];\n\n        shape.forEach(function (curve) {\n            newShape.push(curve.slice(0));\n        });\n        shapes.push(newShape);\n    };\n\n    for (var i = 0; i < count; i++) {\n        _loop(i);\n    }\n};\n\npasition._subShapes = function (pathA, pathB, count) {\n    var _loop2 = function _loop2(i) {\n        var shape = pathB[pathB.length - 1];\n        var newShape = [];\n        var x = shape[0][0],\n            y = shape[0][1];\n        shape.forEach(function () {\n            newShape.push([x, y, x, y, x, y, x, y]);\n        });\n\n        pathB.push(newShape);\n    };\n\n    for (var i = 0; i < count; i++) {\n        _loop2(i);\n    }\n};\n\npasition.lerp = function (pathA, pathB, t) {\n    return pasition._lerp(pasition.path2shapes(pathA), pasition.path2shapes(pathB), t);\n};\n\npasition.MIM_CURVES_COUNT = 100;\n\npasition._preprocessing = function (pathA, pathB) {\n\n    var lenA = pathA.length,\n        lenB = pathB.length,\n        clonePathA = JSON.parse(JSON.stringify(pathA)),\n        clonePathB = JSON.parse(JSON.stringify(pathB));\n\n    if (lenA > lenB) {\n        pasition._subShapes(clonePathA, clonePathB, lenA - lenB);\n    } else if (lenA < lenB) {\n        pasition._upShapes(clonePathA, lenB - lenA);\n    }\n\n    clonePathA = sort(clonePathA, clonePathB);\n\n    clonePathA.forEach(function (curves, index) {\n\n        var lenA = curves.length,\n            lenB = clonePathB[index].length;\n\n        if (lenA > lenB) {\n            if (lenA < pasition.MIM_CURVES_COUNT) {\n                pasition._splitCurves(curves, pasition.MIM_CURVES_COUNT - lenA);\n                pasition._splitCurves(clonePathB[index], pasition.MIM_CURVES_COUNT - lenB);\n            } else {\n                pasition._splitCurves(clonePathB[index], lenA - lenB);\n            }\n        } else if (lenA < lenB) {\n            if (lenB < pasition.MIM_CURVES_COUNT) {\n                pasition._splitCurves(curves, pasition.MIM_CURVES_COUNT - lenA);\n                pasition._splitCurves(clonePathB[index], pasition.MIM_CURVES_COUNT - lenB);\n            } else {\n                pasition._splitCurves(curves, lenB - lenA);\n            }\n        }\n    });\n\n    clonePathA.forEach(function (curves, index) {\n        clonePathA[index] = sortCurves(curves, clonePathB[index]);\n    });\n\n    return [clonePathA, clonePathB];\n};\n\npasition._lerp = function (pathA, pathB, t) {\n\n    var shapes = [];\n    pathA.forEach(function (curves, index) {\n        var newCurves = [];\n        curves.forEach(function (curve, curveIndex) {\n            newCurves.push(pasition.lerpCurve(curve, pathB[index][curveIndex], t));\n        });\n        shapes.push(newCurves);\n    });\n    return shapes;\n};\n\npasition.animate = function (option) {\n    var pathA = pasition.path2shapes(option.from);\n    var pathB = pasition.path2shapes(option.to);\n    var pathArr = pasition._preprocessing(pathA, pathB);\n\n    var beginTime = new Date(),\n        end = option.end || function () {},\n        progress = option.progress || function () {},\n        begin = option.begin || function () {},\n        easing = option.easing || function (v) {\n        return v;\n    },\n        tickId = null,\n        outShape = null,\n        time = option.time;\n\n    begin(pathA);\n\n    var tick = function tick() {\n        var dt = new Date() - beginTime;\n        if (dt >= time) {\n            outShape = pathB;\n            progress(outShape, 1);\n            end(outShape);\n            cancelAnimationFrame(tickId);\n            return;\n        }\n        var percent = easing(dt / time);\n        outShape = pasition._lerp(pathArr[0], pathArr[1], percent);\n        progress(outShape, percent);\n        tickId = requestAnimationFrame(tick);\n    };\n    tick();\n};\n\nreturn pasition;\n\n})));\n","import calc from '../../func/calc';\nimport ifNull from '../../func/ifnull';\nimport EasingLinear from 'eases/linear';\nimport isArray from 'lodash/isArray';\nimport Color from 'color';\nimport pasition from 'pasition';\n\nfunction moveDefault(progress, data) {\n  return data.from + progress * data.delta;\n}\n\nfunction moveBezier(progress, data) {\n  var copy = [...data.values],\n    copyLength = copy.length,\n    i;\n\n  while (copyLength > 1) {\n    copyLength--;\n    for (i = 0; i < copyLength; i++) {\n      copy[i] = copy[i] + progress * (copy[i + 1] - copy[i]);\n    }\n  }\n  return copy[0];\n}\n\nfunction moveColor(progress, data, sprite) {\n  return data.colorTo.mix(data.colorFrom, progress).string();\n}\n\nfunction movePath(progress, data, sprite) {\n  return pasition._lerp(data.pathFrom, data.pathTo, progress);\n}\n\n// to values of a object\nexport default class ChangeTo {\n\n  constructor(changeValues, duration, ease) {\n    this.initialized = false;\n    this.changeValues = [];\n    for (let k in changeValues) {\n      let value = changeValues[k],\n        isColor = k === 'color',\n        isPath = k === 'path',\n        isFunction = typeof value === 'function',\n        isBezier = !isColor && isArray(value);\n      this.changeValues.push({\n        name: k,\n        to: isBezier ? value[value.length - 1] : calc(value, 1, {}),\n        bezier: isBezier ? value : false,\n        isColor: isColor,\n        isPath: isPath,\n        isFunction: isFunction ? value : false,\n        moveAlgorithm: isColor ? moveColor : isPath ? movePath : isBezier ? moveBezier : moveDefault\n      });\n    }\n    this.duration = ifNull(calc(duration), 0);\n    this.ease = ifNull(ease, EasingLinear);\n  }\n\n  reset() {\n    this.initialized = false;\n  };\n\n  init(sprite, time) {\n    var l = this.changeValues.length,\n      data;\n    while (l--) {\n      data = this.changeValues[l];\n      if (data.isFunction) {\n        data.from = sprite[data.name];\n        data.to = data.isFunction(data.from);\n        if (data.isColor) {\n          data.colorFrom = Color(data.from);\n          data.colorTo = Color(data.to);\n          data.moveAlgorithm = moveColor;\n        } else if (data.isPath) {\n          [data.pathFrom, data.pathTo] = pasition._preprocessing(pasition.path2shapes(data.from), pasition.path2shapes(data.to));\n          data.moveAlgorithm = movePath;\n        }\n        else if (isArray(data.to)) {\n          data.values = [sprite[data.name], ...data.to];\n          data.moveAlgorithm = moveBezier;\n        } else {\n          data.delta = data.to - data.from;\n          data.moveAlgorithm = moveDefault;\n        }\n      } else if (data.isColor) {\n        data.colorFrom = Color(sprite[data.name]);\n        data.colorTo = Color(data.to);\n      } else if (data.isPath) {\n        [data.pathFrom, data.pathTo] = pasition._preprocessing(pasition.path2shapes(sprite[data.name]), pasition.path2shapes(data.to));\n      } else if (data.bezier) {\n        data.values = [sprite[data.name], ...data.bezier];\n      } else {\n        data.from = sprite[data.name];\n        data.delta = data.to - data.from;\n      }\n    }\n  };\n\n  run(sprite, time) {\n    if (!this.initialized) {\n      this.initialized = true;\n      this.init(sprite, time);\n    }\n\n    // return time left\n    if (this.duration <= time) {\n      let l = this.changeValues.length,\n        data;\n\n      // prevent round errors by applying end-data\n      while (l--) {\n        data = this.changeValues[l];\n        sprite[data.name] = data.to;\n      }\n    } else {\n      let l = this.changeValues.length,\n        progress = this.ease(time / this.duration),\n        data;\n\n      while (l--) {\n        data = this.changeValues[l];\n        sprite[data.name] = data.moveAlgorithm(progress, data, sprite);\n      }\n    }\n    return time - this.duration;\n  }\n}\n","import Sequenz from '../Sequence';\n\nexport default class End {\n\n\tconstructor() {\n\t}\n\n\trun(sprite, time){\n\t\treturn Sequenz.TIMELAPSE_TO_FORCE_DISABLE;\n\t}\n}","import Sequenz from '../Sequence';\n\nexport default class EndDisabled {\n\n    constructor() {\n    }\n\n    run(sprite, time) {\n        sprite.enabled = false;\n        return Sequenz.TIMELAPSE_TO_FORCE_DISABLE;\n    };\n}","import calc from '../../func/calc';\nimport ifNull from '../../func/ifnull';\nimport ImageManager from '../ImageManager';\nimport isArray from 'lodash/isArray';\n\nexport default class Image {\n\n  constructor(image, durationBetweenFrames) {\n    this.initialized = false;\n    this.image = calc(image);\n    this.durationBetweenFrames = ifNull(calc(durationBetweenFrames), 0);\n    if (isArray(this.image)) {\n      this.count = this.image.length;\n    } else {\n      this.image = [this.image];\n      this.count = 1;\n    }\n    this.duration = this.count * this.durationBetweenFrames;\n  }\n\n  reset() {\n    this.initialized = false;\n  };\n\n  run(sprite, time) {\n    if (!this.initialized) {\n      this.initialized = true;\n      this.current = -1;\n    }\n\n    // return time left\n    if (time >= this.duration) {\n      sprite.image = ImageManager.getImage(this.image[this.image.length - 1]);\n    } else {\n      let currentFrame = Math.floor(time / this.durationBetweenFrames);\n      if (currentFrame !== this.current) {\n        this.current = currentFrame;\n        sprite.image = ImageManager.getImage(this.image[this.current]);\n      }\n    }\n    return time - this.duration;\n  }\n}","import calc from '../../func/calc';\nimport ifNull from '../../func/ifnull';\nimport isArray from 'lodash/isArray';\n\nexport default class ImageFrame {\n\n    constructor(frameNumber, framesToRight, durationBetweenFrames) {\n        this.initialized = false;\n        this.frameNumber = calc(frameNumber);\n        this.framesToRight = ifNull(calc(framesToRight), true);\n        this.durationBetweenFrames = ifNull(calc(durationBetweenFrames), 0);\n        if (isArray(this.frameNumber)) {\n            this.count = this.frameNumber.length;\n        } else {\n            this.frameNumber = [this.frameNumber];\n            this.count = 1;\n        }\n        this.duration = this.count * this.durationBetweenFrames;\n    }\n\n    run(sprite, time) {\n        let currentFrame = 0;\n        if (time >= this.duration) {\n            currentFrame = this.frameNumber[this.frameNumber.length - 1];\n        } else {\n            currentFrame = Math.floor(time / this.durationBetweenFrames);\n        }\n        if (this.framesToRight) {\n            sprite.frameX = sprite.frameWidth * currentFrame;\n        } else {\n            sprite.frameY = sprite.frameHeight * currentFrame;\n        }\n\n        return time - this.duration;\n    }\n}","import calc from '../../func/calc';\nimport ChangeTo from './ChangeTo';\n\nconst DURATION_FOR_1PX = 10;\n\nexport default class Move extends ChangeTo {\n  constructor(x, y, speed, ease) {\n    super({\n      x,\n      y\n    }, 0, ease);\n    this.speed = calc(speed) || 1;\n  }\n\n  init(sprite, time) {\n    if (this.speed == 0 || (this.targetX === sprite.x && this.targetY === sprite.y)) {\n      this.duration = 0;\n    }\n    else {\n      let x = this.changeValues[0],\n        y = this.changeValues[1];\n\n      x.from = sprite.x;\n      y.from = sprite.y;\n\n      x.delta = x.to - x.from;\n      y.delta = y.to - y.from;\n\n      const hypotenuse = Math.sqrt(x.delta * x.delta + y.delta * y.delta);\n\n      this.duration = hypotenuse * DURATION_FOR_1PX / this.speed;\n    }\n\n    super.init(sprite, time);\n  };\n}\n","import calc from '../../func/calc';\nimport ifNull from '../../func/ifnull';\n\nexport default class Once {\n  constructor(Aniobject, times) {\n    this.Aniobject = Aniobject;\n    this.times = ifNull(calc(times), 1);\n  }\n\n  run(sprite, time) {\n    if (this.times <= 0) {\n      return time;\n    }\n    else {\n      let t = this.Aniobject.run(sprite, time);\n      if (t > 0) {\n        this.times--;\n      }\n      return t;\n    }\n  };\n}","import calc from '../../func/calc';\nimport ifNull from '../../func/ifnull';\n\nexport default class Play {\n\n  constructor(name, duration, loop) {\n    this.duration = ifNull(calc(duration),1);\n    this.name = calc(name);\n    this.loop = calc(ifNull(loop, 1));\n  }\n\n  run(sprite, time) {\n    // return time left\n    if (time >= this.duration) {\n      // Play animation from the start\n      sprite.changeAnimationStatus({\n        [this.name]: {\n          position: 0,\n          timelapsed: (time - this.duration),\n          loop: this.loop\n        }\n      });\n    }\n    return time - this.duration;\n  };\n}","import calc from '../../func/calc';\n\nexport default class Shake {\n\n  constructor(shakediff, duration) {\n    this.initialized = false;\n    this.duration = calc(duration);\n    this.shakeDiff = calc(shakediff);\n    this.shakeDiffHalf = this.shakeDiff / 2;\n  }\n\n  reset() {\n    this.initialized = false;\n  }\n\n  run(sprite, time) {\n    if (!this.initialized) {\n      this.initialized = true;\n      this.x = sprite.x;\n      this.y = sprite.y;\n    }\n\n    // return time left\n    if (time >= this.duration) {\n      // prevent round errors\n      sprite.x = this.x;\n      sprite.y = this.y;\n    } else {\n      // shake sprite\n      sprite.x = this.x + Math.random() * this.shakeDiff - this.shakeDiffHalf;\n      sprite.y = this.y + Math.random() * this.shakeDiff - this.shakeDiffHalf;\n    }\n    return time - this.duration;\n  }\n}","export default class ShowOnce {\n\n    constructor() {\n        this.showOnce = true;\n    }\n\n    run(sprite, time) {\n        sprite.enabled = sprite.enabled && this.showOnce;\n        this.showOnce = false;\n        return 0;\n    }\n}","import Animation from '../Sequence';\n\nexport default class End {\n\n\tconstructor() {\n\t}\n\n\trun(sprite, time){\n\t\treturn Animation.TIMELAPSE_TO_STOP;\n\t}\n}","import calc from '../../func/calc';\n\nexport default class Wait {\n\n    constructor(duration) {\n        this.duration = calc(duration);\n    }\n\n    run(sprite, time) {\n        // return time left\n        return this.duration ? time - this.duration : -1;\n    };\n}","import calc from '../../func/calc';\n\nexport default class WaitDisabled {\n\n  constructor(duration) {\n    this.duration = calc(duration);\n  }\n\n  run(sprite, time) {\n    // return time left\n    sprite.enabled = (time >= this.duration);\n    return time - this.duration;\n  }\n}","import _Callback from './Animations/Callback';\nimport _ChangeTo from './Animations/ChangeTo';\nimport _End from './Animations/End';\nimport _EndDisabled from './Animations/EndDisabled';\nimport _Image from './Animations/Image';\nimport _ImageFrame from './Animations/ImageFrame';\nimport _Move from './Animations/Move';\nimport _Once from './Animations/Once';\nimport _Play from './Animations/Play';\nimport _Shake from './Animations/Shake';\nimport _ShowOnce from './Animations/ShowOnce';\nimport _Stop from './Animations/Stop';\nimport _Wait from './Animations/Wait';\nimport _WaitDisabled from './Animations/WaitDisabled';\n\nconst\n  Callback = (...args) => new _Callback(...args),\n  ChangeTo = (...args) => new _ChangeTo(...args),\n  End = (...args) => new _End(...args),\n  EndDisabled = (...args) => new _EndDisabled(...args),\n  Image = (...args) => new _Image(...args),\n  ImageFrame = (...args) => new _ImageFrame(...args),\n  Move = (...args) => new _Move(...args),\n  Once = (...args) => new _Once(...args),\n  Play = (...args) => new _Play(...args),\n  Shake = (...args) => new _Shake(...args),\n  ShowOnce = (...args) => new _ShowOnce(...args),\n  Stop = (...args) => new _Stop(...args),\n  Wait = (...args) => new _Wait(...args),\n  WaitDisabled = (...args) => new _WaitDisabled(...args);\n\nexport default {\n  Callback,\n  ChangeTo,\n  End,\n  EndDisabled,\n  Image,\n  ImageFrame,\n  Move,\n  Once,\n  Play,\n  Shake,\n  ShowOnce,\n  Stop,\n  Wait,\n  WaitDisabled\n};\n","function bounceOut(t) {\n  var a = 4.0 / 11.0\n  var b = 8.0 / 11.0\n  var c = 9.0 / 10.0\n\n  var ca = 4356.0 / 361.0\n  var cb = 35442.0 / 1805.0\n  var cc = 16061.0 / 1805.0\n\n  var t2 = t * t\n\n  return t < a\n    ? 7.5625 * t2\n    : t < b\n      ? 9.075 * t2 - 9.9 * t + 3.4\n      : t < c\n        ? ca * t2 - cb * t + cc\n        : 10.8 * t * t - 20.52 * t + 10.72\n}\n\nmodule.exports = bounceOut","function sineOut(t) {\n  return Math.sin(t * Math.PI/2)\n}\n\nmodule.exports = sineOut","module.exports = {\n\t'backInOut': require('./back-in-out'),\n\t'backIn': require('./back-in'),\n\t'backOut': require('./back-out'),\n\t'bounceInOut': require('./bounce-in-out'),\n\t'bounceIn': require('./bounce-in'),\n\t'bounceOut': require('./bounce-out'),\n\t'circInOut': require('./circ-in-out'),\n\t'circIn': require('./circ-in'),\n\t'circOut': require('./circ-out'),\n\t'cubicInOut': require('./cubic-in-out'),\n\t'cubicIn': require('./cubic-in'),\n\t'cubicOut': require('./cubic-out'),\n\t'elasticInOut': require('./elastic-in-out'),\n\t'elasticIn': require('./elastic-in'),\n\t'elasticOut': require('./elastic-out'),\n\t'expoInOut': require('./expo-in-out'),\n\t'expoIn': require('./expo-in'),\n\t'expoOut': require('./expo-out'),\n\t'linear': require('./linear'),\n\t'quadInOut': require('./quad-in-out'),\n\t'quadIn': require('./quad-in'),\n\t'quadOut': require('./quad-out'),\n\t'quartInOut': require('./quart-in-out'),\n\t'quartIn': require('./quart-in'),\n\t'quartOut': require('./quart-out'),\n\t'quintInOut': require('./quint-in-out'),\n\t'quintIn': require('./quint-in'),\n\t'quintOut': require('./quint-out'),\n\t'sineInOut': require('./sine-in-out'),\n\t'sineIn': require('./sine-in'),\n\t'sineOut': require('./sine-out')\n}","function backInOut(t) {\n  var s = 1.70158 * 1.525\n  if ((t *= 2) < 1)\n    return 0.5 * (t * t * ((s + 1) * t - s))\n  return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2)\n}\n\nmodule.exports = backInOut","function backIn(t) {\n  var s = 1.70158\n  return t * t * ((s + 1) * t - s)\n}\n\nmodule.exports = backIn","function backOut(t) {\n  var s = 1.70158\n  return --t * t * ((s + 1) * t + s) + 1\n}\n\nmodule.exports = backOut","var bounceOut = require('./bounce-out')\n\nfunction bounceInOut(t) {\n  return t < 0.5\n    ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n    : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5\n}\n\nmodule.exports = bounceInOut","var bounceOut = require('./bounce-out')\n\nfunction bounceIn(t) {\n  return 1.0 - bounceOut(1.0 - t)\n}\n\nmodule.exports = bounceIn","function circInOut(t) {\n  if ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1)\n  return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1)\n}\n\nmodule.exports = circInOut","function circIn(t) {\n  return 1.0 - Math.sqrt(1.0 - t * t)\n}\n\nmodule.exports = circIn","function circOut(t) {\n  return Math.sqrt(1 - ( --t * t ))\n}\n\nmodule.exports = circOut","function cubicInOut(t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0\n}\n\nmodule.exports = cubicInOut","function cubicIn(t) {\n  return t * t * t\n}\n\nmodule.exports = cubicIn","function cubicOut(t) {\n  var f = t - 1.0\n  return f * f * f + 1.0\n}\n\nmodule.exports = cubicOut","function elasticInOut(t) {\n  return t < 0.5\n    ? 0.5 * Math.sin(+13.0 * Math.PI/2 * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n    : 0.5 * Math.sin(-13.0 * Math.PI/2 * ((2.0 * t - 1.0) + 1.0)) * Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) + 1.0\n}\n\nmodule.exports = elasticInOut","function elasticIn(t) {\n  return Math.sin(13.0 * t * Math.PI/2) * Math.pow(2.0, 10.0 * (t - 1.0))\n}\n\nmodule.exports = elasticIn","function elasticOut(t) {\n  return Math.sin(-13.0 * (t + 1.0) * Math.PI/2) * Math.pow(2.0, -10.0 * t) + 1.0\n}\n\nmodule.exports = elasticOut","function expoInOut(t) {\n  return (t === 0.0 || t === 1.0)\n    ? t\n    : t < 0.5\n      ? +0.5 * Math.pow(2.0, (20.0 * t) - 10.0)\n      : -0.5 * Math.pow(2.0, 10.0 - (t * 20.0)) + 1.0\n}\n\nmodule.exports = expoInOut","function expoIn(t) {\n  return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0))\n}\n\nmodule.exports = expoIn","function expoOut(t) {\n  return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t)\n}\n\nmodule.exports = expoOut","function quadInOut(t) {\n    t /= 0.5\n    if (t < 1) return 0.5*t*t\n    t--\n    return -0.5 * (t*(t-2) - 1)\n}\n\nmodule.exports = quadInOut","function quadIn(t) {\n  return t * t\n}\n\nmodule.exports = quadIn","function quadOut(t) {\n  return -t * (t - 2.0)\n}\n\nmodule.exports = quadOut","function quarticInOut(t) {\n  return t < 0.5\n    ? +8.0 * Math.pow(t, 4.0)\n    : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0\n}\n\nmodule.exports = quarticInOut","function quarticIn(t) {\n  return Math.pow(t, 4.0)\n}\n\nmodule.exports = quarticIn","function quarticOut(t) {\n  return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0\n}\n\nmodule.exports = quarticOut","function qinticInOut(t) {\n    if ( ( t *= 2 ) < 1 ) return 0.5 * t * t * t * t * t\n    return 0.5 * ( ( t -= 2 ) * t * t * t * t + 2 )\n}\n\nmodule.exports = qinticInOut","function qinticIn(t) {\n  return t * t * t * t * t\n}\n\nmodule.exports = qinticIn","function qinticOut(t) {\n  return --t * t * t * t * t + 1\n}\n\nmodule.exports = qinticOut","function sineInOut(t) {\n  return -0.5 * (Math.cos(Math.PI*t) - 1)\n}\n\nmodule.exports = sineInOut","function sineIn (t) {\n  var v = Math.cos(t * Math.PI * 0.5)\n  if (Math.abs(v) < 1e-14) return 1\n  else return 1 - v\n}\n\nmodule.exports = sineIn\n","'use strict';\n\nimport _Engine from './lib/Engine';\nimport Scenes from './lib/Scenes';\nimport ImageManager from './lib/ImageManager';\nimport Sprites from './lib/Sprites';\nimport _Sequence from './lib/Sequence';\nimport Animations from './lib/Animations';\nimport Easing from 'eases';\n\nvar Engine = (...args) => new _Engine(...args),\n  Sequence = (...args) => new _Sequence(...args);\n\nexport {\n  Engine,\n  Scenes,\n  ImageManager,\n  Sprites,\n  Sequence,\n  Animations,\n  Easing\n};"],"names":["Engine","canvas","scene","autoresize","_output","_scene","_isSceneInitialized","_newScene","_lastTimestamp","_timePassed","_referenceRequestAnimationFrame","getContext","context","w","this","width","h","height","ratio","addEventListener","maximizeCanvas","resize","audioElement","play","changeScene","normalizeContext","ctx","textBaseline","textAlign","globalAlpha","globalCompositeOperation","getWidth","getHeight","gameArea","self","output","newWidth","window","innerWidth","newHeight","innerHeight","style","marginTop","marginLeft","css","siblings","loadingscreen","fillStyle","fillRect","font","percent","getPercentLoaded","fillText","Math","random","run","initParameter","requestAnimationFrame","mainLoop","bind","parameterForNewScene","destroy","callInit","now","currentTime","move","totalTimePassed","draw","callLoading","cancelAnimationFrame","global","Object","freeSelf","freeGlobal","Function","Symbol","root","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","value","isOwn","call","tag","unmasked","e","result","nullTag","undefinedTag","getRawTag","objectToString","Array","isArray","stringTag","isObjectLike","baseGetTag","ImageManager","add","Images","Callbacks","i","Image","onload","loaded","isLoaded","src","count","let","reset","getLoaded","getCount","getImage","nameOrImage","isString","numberTag","Scene","endTime","layer","_cacheLayerIsFunction","initCallback","loadingCallback","destroyCallback","sceneCallback","engine","loadingShow","additionalModifier","Date","init","callbackOrImages","parameter","callback","callDestroy","progress","loadedHeight","max","clearRect","text","isNumeric","round","loading","callbackOrBool","imagePercentage","timepassed","l","lay","layif","length","animate","calcLayerIsFunction","SceneAudio","super","audioStartTime","audioPosition","enableAndroidHack","controller","playbackState","min","canPlayType","match","MediaController","preload","load","arg","readyState","HAVE_ENOUGH_DATA","Transform","m","multiply","matrix","m12","m21","m22","dx","dy","invert","d","m1","m2","m3","m4","m5","rotate","rad","c","cos","s","sin","translate","x","y","scale","sx","sy","transformPoint","px","py","clone","n","slice","SceneNorm","transform","transformInvert","_getViewport","a","const","save","setTransform","ref","restore","SceneNormAudio","_Default","args","_Audio","_Norm","_NormAudio","ifNull","alternative","calc","apply","params","Circle","arc","scaleX","scaleY","alphaMode","color","animation","enabled","changeAnimationStatus","ani","beginPath","fill","closePath","Callback","additionalParameter","Group","sprite","finished","spriteFinished","assign","Canvas","generateTempCanvas","temp_canvas","document","createElement","tctx","wh","hh","drawImage","Emitter","staticArray","functionArray","indexOf","classToEmit","class","index","FastBlur","darker","pixel","clear","ceil","targetW","targetH","imageSmoothingEnabled","image","position","CENTER","frameX","frameY","frameWidth","frameHeight","sX","sY","LEFT_TOP","Text","borderColor","lineWidth","strokeStyle","strokeText","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","concat","swizzle","module","obj","results","len","splice","getOwnPropertyDescriptor","constructor","name","push","wrap","fn","arguments","reverseNames","colorNames","cs","to","clamp","num","hexDouble","str","toUpperCase","get","string","val","model","substring","toLowerCase","hsl","hwb","rgb","hexAlpha","i2","parseInt","parseFloat","alpha","isNaN","hex","rgba","r","g","b","hsla","hwba","keyword","reverseKeywords","key","cssKeywords","convert","channels","labels","hsv","cmyk","xyz","lab","lch","ansi16","ansi256","hcg","apple","Error","defineProperty","delta","k","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","pow","z","t1","t2","t3","smin","lmin","v","hi","floor","f","p","q","t","sl","vmin","bl","y2","x2","z2","atan2","PI","sqrt","hr","ansi","mult","rem","colorString","split","map","char","join","integer","grayscale","hue","chroma","mg","pure","deriveBFS","fromModel","graph","models","keys","conversions","parent","buildGraph","queue","current","pop","adjacents","adjacent","node","unshift","link","from","wrapConversion","toModel","path","cur","conversion","forEach","routes","route","wrappedFn","wrapRounded","raw","wrapRaw","_slice","skippedModels","hashedModelKeys","sort","limiters","Color","valpha","newArr","zeroArray","hashedKeys","JSON","stringify","limit","freeze","getset","channel","modifier","maxfn","arr","toJSON","places","percentString","array","object","unitArray","unitObject","Number","toFixed","roundTo","roundToPlace","saturationl","lightness","saturationv","wblack","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","isDark","isLight","negate","lighten","darken","saturate","desaturate","whiten","blacken","fade","opaquer","degrees","mix","mixinColor","weight","color1","w1","w2","newAlpha","Particle","getGradientImage","rIndex","gIndex","cr","cg","cb","Gradient","generateGradientImage","txtc","grad","createRadialGradient","gradientSize","addColorStop","Path","oldPath","path2D","Path2D","clip","fixed","_isArray","curve","moveTo","points","bezierCurveTo","stroke","Rect","rect","type","asyncTag","funcTag","genTag","proxyTag","uid","isObject","coreJsData","maskSrcKey","exec","IE_PROTO","func","funcToString","reIsHostCtor","funcProto","reIsNative","RegExp","replace","isMasked","isFunction","test","toSource","getValue","baseIsNative","getNative","configurable","enumerable","writable","other","objValue","eq","baseAssignValue","source","props","customizer","isNew","newValue","assignValue","thisArg","nativeMax","start","otherArgs","HOT_COUNT","HOT_SPAN","nativeNow","lastCalled","stamp","remaining","shortOut","constant","identity","setToString","overRest","MAX_SAFE_INTEGER","isLength","reIsUint","isArrayLike","isIndex","assigner","baseRest","sources","guard","isIterateeCall","Ctor","iteratee","argsTag","propertyIsEnumerable","baseIsArguments","freeExports","exports","nodeType","freeModule","Buffer","isBuffer","stubFalse","typedArrayTags","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","baseUnary","baseIsTypedArray","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","baseTimes","String","overArg","isPrototype","nativeKeys","arrayLikeKeys","baseKeys","createAssigner","copyObject","Scroller","characterList","_assign","StarField","moveX","moveY","moveZ","centerX","centerY","scaleZ","starsX","starsY","starsZ","starsOldX","starsOldY","starsNewX","starsNewY","starsEnabled","starsLineWidth","moveStar","scaled_timepassed","firstPass","projectX","projectY","ret","lw","lineTo","_Callback","_Canvas","_Circle","_Emitter","_FastBlur","_Group","_Image","_Text","_Particle","_Path","_Rect","_Scroller","_StarField","Sequence","loop","timeWait","animationPosition","setObject","last_timestamp","hide_vote","timelapsed","time","is_difference","disable_vote","animation_count","timeleft","current_animationPosition","TIMELAPSE_TO_FORCE_DISABLE","TIMELAPSE_TO_STOP","duration","initialized","isNumber","slicedToArray","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","TypeError","TAU","mapToEllipse","_ref","rx","ry","cosphi","sinphi","centerx","centery","xp","yp","approxUnitArc","ang1","ang2","x1","y1","vectorAngle","ux","uy","vx","vy","sign","umag","vmag","dot","div","acos","arcToBezier","_ref2","cx","cy","_ref2$xAxisRotation","xAxisRotation","_ref2$largeArcFlag","largeArcFlag","_ref2$sweepFlag","sweepFlag","curves","pxp","pyp","abs","lambda","_getArcCenter","rxsq","rysq","pxpsq","pypsq","radicant","centerxp","centeryp","vx1","vy1","vx2","vy2","getArcCenter","_getArcCenter2","segments","_mapToEllipse","_mapToEllipse2","_mapToEllipse3","segment","number","shapeBox","shape","minX","minY","maxX","maxY","x3","x4","y3","y4","pasition","_split","reverse","x12","y12","x23","y23","x34","y34","x123","y123","x234","y234","x1234","y1234","parser","data","_","command","numbers","parseValues","lerpCurve","pathA","pathB","lerpPoints","q2b","path2shapes","cmds","preX","preY","j","shapes","closeX","closeY","preCX","preCY","sLen","lastCurve","item","preItem","_upCurves","_splitCurves","left","right","_upShapes","_loop","newShape","_subShapes","_loop2","lerp","_lerp","MIM_CURVES_COUNT","_preprocessing","lenA","lenB","clonePathA","parse","clonePathB","list","permArr","usedChars","main","input","ch","permuteNum","boxA","boxB","curvesA","curvesB","indexArr","permuteCurveNum","curveA","curveB","xb2","xb3","xb4","yb1","yb2","yb3","yb4","sortCurves","newCurves","curveIndex","option","pathArr","beginTime","end","easing","tickId","outShape","begin","tick","dt","factory","moveDefault","moveBezier","copy","values","copyLength","moveColor","colorTo","colorFrom","movePath","pathFrom","pathTo","ChangeTo","changeValues","ease","isColor","isPath","isBezier","EasingLinear","moveAlgorithm","bezier","End","Sequenz","EndDisabled","durationBetweenFrames","currentFrame","ImageFrame","frameNumber","framesToRight","Move","speed","targetX","targetY","hypotenuse","Once","Aniobject","times","Play","Shake","shakediff","shakeDiff","shakeDiffHalf","ShowOnce","showOnce","Animation","Wait","WaitDisabled","_ChangeTo","_End","_EndDisabled","_ImageFrame","_Move","_Once","_Play","_Shake","_ShowOnce","_Stop","_Wait","_WaitDisabled","backInOut","backIn","backOut","bounceInOut","bounceOut","bounceIn","require$$5","circInOut","circIn","circOut","cubicInOut","cubicIn","cubicOut","elasticInOut","elasticIn","elasticOut","expoInOut","expoIn","expoOut","linear","require$$18","quadInOut","quadIn","quadOut","quartInOut","quartIn","quartOut","quintInOut","quintIn","quintOut","sineInOut","sineIn","sineOut","_Engine","_Sequence"],"mappings":"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"}