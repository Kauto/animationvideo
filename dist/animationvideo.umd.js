!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.AnimationVideo={})}(this,function(t){var e=function(t,e,n){var r=this;if(this._output={canvas:null,context:null,w:0,h:0,ratio:1},this._scene=null,this._isSceneInitialized=!1,this._newScene=null,this._lastTimestamp=0,this._timePassed=0,this._referenceRequestAnimationFrame=null,this._output.canvas=t,"object"!=typeof t||null===t||!t.getContext)throw"No context";this._output.context=t.getContext("2d"),this._output.w=this._output.canvas.width,this._output.h=this._output.canvas.height,this._output.ratio=this._output.w/this._output.h,n&&(window.addEventListener("resize",this.maximizeCanvas,!1),window.addEventListener("orientationchange",this.maximizeCanvas,!1),this.resize(),t.addEventListener("click",function(){r._isSceneInitialized&&r._scene.audioElement&&r._scene.audioElement.play()},!1)),this.changeScene(e),this.normalizeContext(this._output.context)};e.prototype.normalizeContext=function(t){t.textBaseline="middle",t.textAlign="center",t.globalAlpha=1,t.globalCompositeOperation="source-over"},e.prototype.getWidth=function(){return this._output.w},e.prototype.getHeight=function(){return this._output.h},e.prototype.maximizeCanvas=function(){var t=self.output.canvas,e=window.innerWidth,n=window.innerHeight;e/n>self.output.ratio?(e=n*self.output.ratio,t.style.height=n+"px",t.style.width=e+"px"):(n=e/self.output.ratio,t.style.width=e+"px",t.style.height=n+"px"),t.style.marginTop=-n/2+"px",t.style.marginLeft=-e/2+"px",$(self.output.canvas).css({width:e,height:n}),$(self.output.canvas).siblings().css({width:e})},e.prototype.changeScene=function(t){this._newScene=t},e.prototype.loadingscreen=function(){var t=this._output.context;t.globalCompositeOperation="source-over",t.globalAlpha=1,t.fillStyle="rgba(0,0,0,0.5)",t.fillRect(0,0,this._output.w,this._output.h),t.font="20px Georgia",t.fillStyle="#FFF";var e=this._isSceneInitialized?this._scene.getPercentLoaded():0;t.textAlign="left",t.textBaseline="bottom",t.fillText("Loading "+e+"%",10+3*Math.random(),this._output.h-10+3*Math.random()),this.normalizeContext(t)},e.prototype.run=function(t){t=t||{},this._referenceRequestAnimationFrame=window.requestAnimationFrame(function e(){if(this._referenceRequestAnimationFrame=window.requestAnimationFrame(e.bind(this)),null!==this._newScene){var n=this._scene?this._scene.destroy(this._output):t;n&&(this._newScene.callInit(this._output,n,this),this._scene=this._newScene,this._newScene=null,this._isSceneInitialized=!1)}var r=this._scene.currentTime();this._timePassed=r-this._lastTimestamp,this._lastTimestamp=r,this._isSceneInitialized?0!==this._timePassed&&(this._scene.move(this._output,this._timePassed),this._timePassed<0&&(this._timePassed=this._scene.totalTimePassed),this._scene.draw(this._output)):this._isSceneInitialized=this._scene.callLoading(this._output)}.bind(this))},e.prototype.destroy=function(){this._referenceRequestAnimationFrame&&window.cancelAnimationFrame(this._referenceRequestAnimationFrame),this._referenceRequestAnimationFrame=null};var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e){return t(e={exports:{}},e.exports),e.exports}var i="object"==typeof n&&n&&n.Object===Object&&n,o={default:i,__moduleExports:i},a=o&&i||o,s="object"==typeof self&&self&&self.Object===Object&&self,h=a||s||Function("return this")(),l={default:h,__moduleExports:h},u=l&&h||l,c=u.Symbol,p={default:c,__moduleExports:c},f=p&&c||p,d=Object.prototype,m=d.hasOwnProperty,v=d.toString,g=f?f.toStringTag:void 0;var y=function(t){var e=m.call(t,g),n=t[g];try{t[g]=void 0;var r=!0}catch(t){}var i=v.call(t);return r&&(e?t[g]=n:delete t[g]),i},b={default:y,__moduleExports:y},_=Object.prototype.toString;var w=function(t){return _.call(t)},x={default:w,__moduleExports:w},M=b&&y||b,E=x&&w||x,k="[object Null]",O="[object Undefined]",j=f?f.toStringTag:void 0;var A=function(t){return null==t?void 0===t?O:k:j&&j in Object(t)?M(t):E(t)},S={default:A,__moduleExports:A},C=Array.isArray,P={default:C,__moduleExports:C};var T=function(t){return null!=t&&"object"==typeof t},I={default:T,__moduleExports:T},F=S&&A||S,q=P&&C||P,z=I&&T||I,L="[object String]";var X=function(t){return"string"==typeof t||!q(t)&&z(t)&&F(t)==L},N=function(){};N.add=function(t,e){var n=this||N,r=function(r){n.Images[r]?e&&"function"==typeof e[r]&&e[r](r,n.Images[r]):(n.Images[r]=new window.Image,n.Images[r].onload=function(){n.loaded++,e&&"function"==typeof e?n.isLoaded()&&e():e&&"function"==typeof e[r]&&e[r](r,n.Images[r])},n.Images[r].src=t[r],n.count++)};for(var i in t)r(i);return e&&"function"==typeof e&&n.isLoaded()&&e(),n},N.reset=function(){var t=this||N;return t.Images={},t.count=0,t.loaded=0,t},N.getLoaded=function(){return(this||N).loaded},N.getCount=function(){return(this||N).count},N.isLoaded=function(){var t=this||N;return t.loaded===t.count},N.getImage=function(t){return X(t)?(this||N).Images[t]:t},N.Images={},N.count=0,N.loaded=0;var Y="[object Number]";var R=function(t){return"number"==typeof t||z(t)&&F(t)==Y},D=function(t){this.layer=[],this._cacheLayerIsFunction=[],this.totalTimePassed=0,this.initCallback=null,this.loadingCallback=null,this.destroyCallback=null,this.sceneCallback=null,this.engine=null,this.loadingShow=!0,this.endTime=t,this.additionalModifier=void 0};D.prototype.currentTime=function(){return Date.now()},D.prototype.init=function(t){return"function"==typeof t?this.initCallback=t:N.add(t),this},D.prototype.callInit=function(t,e,n){this.initCallback&&this.initCallback(t,e),this.engine=n},D.prototype.destroy=function(t){return this.destroyCallback=t,this},D.prototype.scene=function(t){return this.sceneCallback=t,this},D.prototype.callDestroy=function(t){return!this.destroyCallback||this.destroyCallback(t)},D.prototype.loadingscreen=function(t,e){var n=t.context,r=Math.max(1,e*t.h);n.globalCompositeOperation="source-over",n.globalAlpha=1,n.clearRect(0,0,t.w,t.h),n.fillStyle="#aaa",n.fillRect(0,t.h/2-r/2,t.w,r),n.font="20px Georgia",n.fillStyle="#fff",n.textAlign="left",n.textBaseline="bottom";var i=e;R(e)&&(i="Loading "+Math.round(100*e)+"%"),n.fillText(i,10+3*Math.random(),t.h-10+3*Math.random()),this.engine&&this.engine.normalizeContext(n)},D.prototype.loading=function(t){return"function"==typeof callback?(this.loadingCallback=callback,this.loadingShow=!0):(this.loadingCallback=null,this.loadingShow=!!t),this},D.prototype.callLoading=function(t){var e=N.getCount()&&N.getLoaded()<N.getCount()&&N.getLoaded()/N.getCount();if(this.loadingShow)if(this.loadingCallback){var n=this.loadingCallback(t,e);if(null===n)return!1;if(!0!==n)return this.loadingscreen(t,n||(e||"Loading...")),!1}else e&&this.loadingscreen(t,e);return!e&&(this.reset(t),!0)},D.prototype.move=function(t,e){var n,r,i,o;for(this.totalTimePassed+=e,e<0?(this.reset(t),e=this.totalTimePassed):this.endTime&&this.endTime<=this.totalTimePassed&&(this.engine.destroy(),e-=this.totalTimePassed-this.endTime,this.totalTimePassed=this.endTime),n=this.layer.length;n--;)for(o=this._cacheLayerIsFunction[n],r=(i=this.layer[n]).length;r--;)o[r]||null===i[r]||i[r].animate(e)&&(this.layer[n][r]=null)},D.prototype.draw=function(t){var e,n,r,i;for(e=this.layer.length;e--;)for(i=this._cacheLayerIsFunction[e],n=(r=this.layer[e]).length;n--;)null!==r[n]&&(i[n]?r[n](t.context,this.totalTimePassed)&&(this.layer[e][n]=null):this.layer[e][n].draw(t.context,this.additionalModifier))},D.prototype.calcLayerIsFunction=function(){for(var t in this._cacheLayerIsFunction=new Array(this.layer.length),this.layer)for(var e in this._cacheLayerIsFunction[t]=new Array(this.layer[t].length),this.layer[t])this._cacheLayerIsFunction[t][e]="function"==typeof this.layer[t][e]},D.prototype.reset=function(t){this.layer=this.sceneCallback(t,[]),this.calcLayerIsFunction()};var W=function(t){function e(e){t.call(this),this.audioStartTime=null,this.audioPosition=null,this.enableAndroidHack=!1,this.audioElement=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.currentTime=function(){var e=t.prototype.currentTime.call(this);if(this.audioElement){if(this.enableAndroidHack){if(null===this.audioStartTime)return this.audioStartTime=e,this.audioPosition=this.audioElement.currentTime,1e3*this.audioElement.currentTime;if("playing"===this.audioElement.controller.playbackState){if(this.audioElement.currentTime===this.audioPosition)return 1e3*this.audioPosition+Math.min(260,e-this.audioStartTime);if(this.audioElement.currentTime-this.audioPosition<.5&&this.audioElement.currentTime>this.audioPosition&&e-this.audioStartTime<350)return this.audioStartTime=this.audioStartTime+1e3*(this.audioElement.currentTime-this.audioPosition),this.audioPosition=this.audioElement.currentTime,1e3*this.audioPosition+e-this.audioStartTime}return this.audioStartTime=e,this.audioPosition=this.audioElement.currentTime,1e3*this.audioPosition}return 1e3*this.audioElement.currentTime}return e},e.prototype.init=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];this.audioElement&&(this.audioElement.canPlayType("audio/mp3").match(/maybe|probably/i),"function"==typeof MediaController&&(this.audioElement.controller=new MediaController,this.enableAndroidHack=!0),this.audioElement.preload="auto",this.audioElement.load());return t.prototype.init.apply(this,e)},e.prototype.callLoading=function(e){var n=t.prototype.callLoading.call(this,e);if(n&&this.audioElement){if(!(this.audioElement.readyState>=this.audioElement.HAVE_ENOUGH_DATA))return this.loadingscreen(e,"Waiting for Audio"),!1;this.audioElement.play(),this.loadingscreen(e,"Click to play")}return n},e}(D);function U(){this.reset()}U.prototype.reset=function(){return this.m=[1,0,0,1,0,0],this},U.prototype.multiply=function(t){var e=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],r=this.m[1]*t.m[2]+this.m[3]*t.m[3],i=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=this.m[0]*t.m[0]+this.m[2]*t.m[1],this.m[1]=e,this.m[2]=n,this.m[3]=r,this.m[4]=i,this.m[5]=o,this},U.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=-this.m[1]*t,n=-this.m[2]*t,r=this.m[0]*t,i=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*t,this.m[1]=e,this.m[2]=n,this.m[3]=r,this.m[4]=i,this.m[5]=o,this},U.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.m[1]*e+this.m[3]*n,i=this.m[0]*-n+this.m[2]*e,o=this.m[1]*-n+this.m[3]*e;return this.m[0]=this.m[0]*e+this.m[2]*n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this},U.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},U.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},U.prototype.transformPoint=function(t,e){var n=t;return[t=n*this.m[0]+e*this.m[2]+this.m[4],e=n*this.m[1]+e*this.m[3]+this.m[5]]},U.prototype.clone=function(){var t=new U;return t.m=this.m.slice(0),t};var V=function(t){function e(e){t.call(this,e),this.transform=null,this.transformInvert=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._getViewport=function(){if(!this.engine)return new U;if(!this.transform){this.additionalModifier={a:1,w:this.engine._output.w/2,h:this.engine._output.h/2};var t=this.engine._output.ratio>1?this.additionalModifier.w:this.additionalModifier.h;this.transform=(new U).translate(this.additionalModifier.w,this.additionalModifier.h).scale(t,t),this.transformInvert=null}return this.transform},e.prototype.transformPoint=function(t,e){return this.transformInvert||(this.transformInvert=this._getViewport().clone().invert()),this.transformInvert.transformPoint(t,e)},e.prototype.draw=function(e){var n;e.context.save(),(n=e.context).setTransform.apply(n,this._getViewport().m),t.prototype.draw.call(this,e),e.context.restore()},e}(D),B=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.draw=function(e){e.context.save(),e.context.translate(e.w/2,e.h/2),e.context.scale(e.w,e.h),e.context.translate(-.5,-.5),t.prototype.draw.call(this,e),e.context.restore()},e}(W),G={Default:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(D,[null].concat(t)))},Audio:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(W,[null].concat(t)))},Norm:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(V,[null].concat(t)))},NormAudio:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(B,[null].concat(t)))}};function Z(t,e){return void 0===t||null===t||""===t?e:t}function H(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return"function"==typeof t?t.apply(null,e):t}var J=function(t){this.x=Z(H(t.x),0),this.y=Z(H(t.y),0),this.arc=Z(H(t.arc),0),this.scaleX=Z(H(t.scaleX),1),this.scaleY=Z(H(t.scaleY),1),this.a=Z(H(t.a),1),this.alphaMode=Z(H(t.alphaMode),"source-over"),this.color=Z(H(t.color),"#fff"),this.animation=H(t.animation),this.enabled=Z(H(t.enabled),!0)};J.prototype.changeAnimationStatus=function(t){"object"==typeof this.animation&&this.animation.changeAnimationStatus(t)},J.prototype.animate=function(t){return"object"==typeof this.animation&&this.animation.run(this,t,!0)>=0&&(this.enabled=!1,!0)},J.prototype.draw=function(t,e){if(this.enabled){var n=this.a;e&&(n*=e.a),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=n,t.save(),t.translate(this.x,this.y),t.scale(this.scaleX,this.scaleY),t.beginPath(),t.fillStyle=this.color,t.arc(0,0,1,.017453292519943295*(90+this.arc),.017453292519943295*(450-this.arc),!1),t.fill(),t.closePath(),t.restore()}};var Q=function(t){function e(e){t.call(this,e),this.callback=e.callback}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.draw=function(t,e){this.enabled&&this.callback(t,e,this)},e}(J),K=function(t){function e(e){t.call(this,e),this.sprite=Z(e.sprite,[])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.changeAnimationStatus=function(e){for(var n in t.prototype.changeAnimationStatus.call(this,e),this.sprite)this.sprite[n].changeAnimationStatus(e)},e.prototype.animate=function(e){var n=t.prototype.animate.call(this,e),r=!0;if(this.enabled)for(var i in this.sprite)r=this.sprite[i].animate(e)&&r;return this.animation?n:(r&&(this.enabled=!1),r)},e.prototype.draw=function(t,e){if(this.enabled){for(var n in e?(e=Object.assign({}.additionalModifier)).a*=this.a:this.a<1&&(e={a:this.a}),t.save(),t.translate(this.x,this.y),t.scale(this.scaleX,this.scaleY),t.rotate(.017453292519943295*this.arc),this.sprite)this.sprite[n].draw(t,e);t.restore()}},e}(J),tt=function(t){function e(e){t.call(this,e),this.width=H(e.width),this.height=H(e.height)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.generateTempCanvas=function(t){var e=t.canvas.width,n=t.canvas.height;this.temp_canvas=document.createElement("canvas"),this.temp_canvas.width=Math.round(e/this.scaleX),this.temp_canvas.height=Math.round(n/this.scaleY),this.tctx=this.temp_canvas.getContext("2d"),this.tctx.globalCompositeOperation="source-over",this.tctx.globalAlpha=1,this.width||(this.width=e),this.height||(this.height=n)},e.prototype.draw=function(t,e){if(this.enabled){this.temp_canvas||this.generateTempCanvas(t);var n=this.a,r=this.width,i=this.height,o=r>>1,a=i>>1;for(var s in e&&(n*=e.a),this.sprite)this.sprite[s].draw(this.tctx,!1);t.save(),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=n,t.translate(this.x+o,this.y+a),t.scale(this.scaleX,this.scaleY),t.rotate(.017453292519943295*this.arc),t.drawImage(this.temp_canvas,0,0,r,i,-o,-a,r,i),t.restore()}},e}(K),et=function(t){function e(e){t.call(this,e.self||{});var n={},r={};for(var i in e)-1===["self","class","count"].indexOf(i)&&("function"==typeof e[i]?r[i]=e[i]:n[i]=e[i]);var o=Z(H(e.count),1);this.sprite=[];for(var a=0;a<o;a++){var s=e.class,h={};for(var l in n)h[l]=n[l];for(var u in r)h[u]=r[u].call(null,a);this.sprite[a]=new s(h)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(K),nt=function(t){function e(e){t.call(this,e),this.width=H(e.width),this.height=H(e.height),this.darker=Z(H(e.darker),0),this.pixel=Z(H(e.pixel),!1),this.clear=Z(H(e.clear),!1)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.generateTempCanvas=function(t){var e=t.canvas.width,n=t.canvas.height;this.temp_canvas=document.createElement("canvas"),this.temp_canvas.width=Math.ceil(e/this.scaleX),this.temp_canvas.height=Math.ceil(n/this.scaleY),this.tctx=this.temp_canvas.getContext("2d"),this.tctx.globalCompositeOperation="source-over",this.tctx.globalAlpha=1,this.width||(this.width=e),this.height||(this.height=n)},e.prototype.draw=function(t,e){if(this.enabled){this.temp_canvas||this.generateTempCanvas(t);var n=this.a,r=this.width,i=this.height,o=Math.round(r/this.scaleX),a=Math.round(i/this.scaleY);e&&(n*=e.a,e.w&&(o=Math.round(r*e.w/this.scaleX),a=Math.round(i*e.h/this.scaleY))),n>0&&o&&a&&(this.tctx.globalCompositeOperation="copy",this.tctx.globalAlpha=1,this.tctx.drawImage(t.canvas,0,0,t.canvas.width,t.canvas.height,0,0,o,a),this.darker>0&&(this.tctx.globalCompositeOperation=this.clear?"source-atop":"source-over",this.tctx.fillStyle="rgba(0,0,0,"+this.darker+")",this.tctx.fillRect(0,0,o,a)),this.clear&&t.clearRect(this.x,this.y,r,i),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=n,t.imageSmoothingEnabled=!this.pixel,t.drawImage(this.temp_canvas,0,0,o,a,this.x,this.y,r,i),t.imageSmoothingEnabled=!0)}else this.clear&&(this.width||(this.width=t.canvas.width),this.height||(this.height=t.canvas.height),t.clearRect(this.x,this.y,this.width,this.height))},e}(J),rt=function(t){function e(n){t.call(this,n),this.image=N.getImage(H(n.image)),this.position=Z(H(n.position),e.CENTER),this.frameX=Z(H(n.frameX),0),this.frameY=Z(H(n.frameY),0),this.frameWidth=Z(H(n.frameWidth),0),this.frameHeight=Z(H(n.frameHeight),0)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.draw=function(t,n){if(this.enabled){var r=this.a,i=this.frameWidth||this.image.width,o=this.frameHeight||this.image.height,a=i*this.scaleX,s=o*this.scaleY;n&&(r*=n.a),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=r,0==this.arc?this.position===e.LEFT_TOP?t.drawImage(this.image,this.frameX,this.frameY,i,o,this.x,this.y,a,s):t.drawImage(this.image,this.frameX,this.frameY,i,o,this.x-a/2,this.y-s/2,a,s):(t.save(),t.translate(this.x,this.y),t.rotate(.017453292519943295*this.arc),t.drawImage(this.image,this.frameX,this.frameY,i,o,-(a>>1),-(s>>1),a,s),t.restore())}},e}(J);rt.LEFT_TOP=0,rt.CENTER=1;var it=function(t){function e(n){t.call(this,n),this.text=H(n.text),this.font=Z(H(n.font),"26px monospace"),this.position=Z(H(n.position),e.CENTER),this.color=H(n.color),this.borderColor=H(n.borderColor),this.lineWidth=Z(H(n.lineWidth),1)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.draw=function(t,n){if(this.enabled){var r=this.a;n&&(r*=n.a),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=r,t.save(),e.LEFT_TOP&&(t.textAlign="left",t.textBaseline="top"),t.translate(this.x,this.y),t.scale(this.scaleX,this.scaleY),t.rotate(.017453292519943295*this.arc),t.font=this.font,this.color&&(t.fillStyle=this.color,t.fillText(this.text,0,0)),this.borderColor&&(t.strokeStyle=this.borderColor,t.lineWidth=this.lineWidth,t.strokeText(this.text,0,0)),t.restore()}},e}(J);it.LEFT_TOP=0,it.CENTER=1;var ot={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},at={default:ot,__moduleExports:ot},st=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))},ht={default:st,__moduleExports:st},lt=ht&&st||ht,ut=r(function(t){var e=Array.prototype.concat,n=Array.prototype.slice,r=t.exports=function(t){for(var r=[],i=0,o=t.length;i<o;i++){var a=t[i];lt(a)?r=e.call(r,n.call(a)):r.push(a)}return r};r.wrap=function(t){return function(){return t(r(arguments))}}}),ct={default:ut,__moduleExports:ut},pt=at&&ot||at,ft=ct&&ut||ct,dt=r(function(t){var e={};for(var n in pt)pt.hasOwnProperty(n)&&(e[pt[n]]=n);var r=t.exports={to:{}};function i(t,e,n){return Math.min(Math.max(e,t),n)}function o(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}r.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=r.get.hsl(t),n="hsl";break;case"hwb":e=r.get.hwb(t),n="hwb";break;default:e=r.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},r.get.rgb=function(t){if(!t)return null;var e,n,r,o=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],n=0;n<3;n++){var a=2*n;o[n]=parseInt(e.slice(a,a+2),16)}r&&(o[3]=Math.round(parseInt(r,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],n=0;n<3;n++)o[n]=parseInt(e[n]+e[n],16);r&&(o[3]=Math.round(parseInt(r+r,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(e[n+1],0);e[4]&&(o[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(o=pt[e[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(o[3]=parseFloat(e[4]))}for(n=0;n<3;n++)o[n]=i(o[n],0,255);return o[3]=i(o[3],0,1),o},r.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,i(parseFloat(e[2]),0,100),i(parseFloat(e[3]),0,100),i(isNaN(n)?1:n,0,1)]}return null},r.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,i(parseFloat(e[2]),0,100),i(parseFloat(e[3]),0,100),i(isNaN(n)?1:n,0,1)]}return null},r.to.hex=function(){var t=ft(arguments);return"#"+o(t[0])+o(t[1])+o(t[2])+(t[3]<1?o(Math.round(255*t[3])):"")},r.to.rgb=function(){var t=ft(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},r.to.rgb.percent=function(){var t=ft(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},r.to.hsl=function(){var t=ft(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},r.to.hwb=function(){var t=ft(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},r.to.keyword=function(t){return e[t.slice(0,3)]}}),mt={default:dt,__moduleExports:dt,to:dt.to},vt=r(function(t){var e={};for(var n in pt)pt.hasOwnProperty(n)&&(e[pt[n]]=n);var r=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var i in r)if(r.hasOwnProperty(i)){if(!("channels"in r[i]))throw new Error("missing channels property: "+i);if(!("labels"in r[i]))throw new Error("missing channel labels property: "+i);if(r[i].labels.length!==r[i].channels)throw new Error("channel and label counts mismatch: "+i);var o=r[i].channels,a=r[i].labels;delete r[i].channels,delete r[i].labels,Object.defineProperty(r[i],"channels",{value:o}),Object.defineProperty(r[i],"labels",{value:a})}r.rgb.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),h=s-a;return s===a?e=0:r===s?e=(i-o)/h:i===s?e=2+(o-r)/h:o===s&&(e=4+(r-i)/h),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?h/(s+a):h/(2-s-a)),100*n]},r.rgb.hsv=function(t){var e,n,r=t[0],i=t[1],o=t[2],a=Math.min(r,i,o),s=Math.max(r,i,o),h=s-a;return n=0===s?0:h/s*1e3/10,s===a?e=0:r===s?e=(i-o)/h:i===s?e=2+(o-r)/h:o===s&&(e=4+(r-i)/h),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,s/255*1e3/10]},r.rgb.hwb=function(t){var e=t[0],n=t[1],i=t[2];return[r.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,i))),100*(i=1-1/255*Math.max(e,Math.max(n,i)))]},r.rgb.cmyk=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-i)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]},r.rgb.keyword=function(t){var n=e[t];if(n)return n;var r,i,o,a=Infinity;for(var s in pt)if(pt.hasOwnProperty(s)){var h=(i=t,o=pt[s],Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)+Math.pow(i[2]-o[2],2));h<a&&(a=h,r=s)}return r},r.keyword.rgb=function(t){return pt[t]},r.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},r.rgb.lab=function(t){var e=r.rgb.xyz(t),n=e[0],i=e[1],o=e[2];return i/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},r.hsl.rgb=function(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,h=t[2]/100;if(0===s)return[o=255*h,o,o];e=2*h-(n=h<.5?h*(1+s):h+s-h*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,i[l]=255*(o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e);return i},r.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[e,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},r.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),h=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,h,a];case 1:return[s,r,a];case 2:return[a,r,h];case 3:return[a,s,r];case 4:return[h,a,r];case 5:return[r,a,s]}},r.hsv.hsl=function(t){var e,n,r,i=t[0],o=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(e=(2-o)*s)<=1?e:2-e)||0),100*(r/=2)]},r.hwb.rgb=function(t){var e,n,r,i,o,a,s,h=t[0]/360,l=t[1]/100,u=t[2]/100,c=l+u;switch(c>1&&(l/=c,u/=c),n=1-u,r=6*h-(e=Math.floor(6*h)),0!=(1&e)&&(r=1-r),i=l+r*(n-l),e){default:case 6:case 0:o=n,a=i,s=l;break;case 1:o=i,a=n,s=l;break;case 2:o=l,a=n,s=i;break;case 3:o=l,a=i,s=n;break;case 4:o=i,a=l,s=n;break;case 5:o=n,a=l,s=i}return[255*o,255*a,255*s]},r.cmyk.rgb=function(t){var e=t[1]/100,n=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-r)+r)),255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},r.xyz.rgb=function(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,e=(e=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},r.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},r.lab.xyz=function(t){var e,n,r;e=t[1]/500+(n=(t[0]+16)/116),r=n-t[2]/200;var i=Math.pow(n,3),o=Math.pow(e,3),a=Math.pow(r,3);return n=i>.008856?i:(n-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,[e*=95.047,n*=100,r*=108.883]},r.lab.lch=function(t){var e,n=t[0],r=t[1],i=t[2];return(e=360*Math.atan2(i,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+i*i),e]},r.lch.lab=function(t){var e,n=t[1];return e=t[2]/360*2*Math.PI,[t[0],n*Math.cos(e),n*Math.sin(e)]},r.rgb.ansi16=function(t){var e=t[0],n=t[1],i=t[2],o=1 in arguments?arguments[1]:r.rgb.hsv(t)[2];if(0===(o=Math.round(o/50)))return 30;var a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===o&&(a+=60),a},r.hsv.ansi16=function(t){return r.rgb.ansi16(r.hsv.rgb(t),t[2])},r.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},r.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},r.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},r.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},r.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},r.rgb.hcg=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.max(Math.max(r,i),o),s=Math.min(Math.min(r,i),o),h=a-s;return e=h<1?s/(1-h):0,n=h<=0?0:a===r?(i-o)/h%6:a===i?2+(o-r)/h:4+(r-i)/h+4,n/=6,[360*(n%=1),100*h,100*e]},r.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,i=0;return(r=n<.5?2*e*n:2*e*(1-n))<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},r.hsv.hcg=function(t){var e=t[2]/100,n=t[1]/100*e,r=0;return n<1&&(r=(e-n)/(1-n)),[t[0],100*n,100*r]},r.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=e%1*6,s=a%1,h=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=h,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=h,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=h}return[255*(n*o[0]+(i=(1-n)*r)),255*(n*o[1]+i),255*(n*o[2]+i)]},r.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},r.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},r.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},r.hwb.hcg=function(t){var e=1-t[2]/100,n=e-t[1]/100,r=0;return n<1&&(r=(e-n)/(1-n)),[t[0],100*n,100*r]},r.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},r.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},r.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},r.gray.hsl=r.gray.hsv=function(t){return[0,0,t[0]]},r.gray.hwb=function(t){return[0,100,t[0]]},r.gray.cmyk=function(t){return[0,0,0,t[0]]},r.gray.lab=function(t){return[t[0],0,0]},r.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}}),gt={default:vt,__moduleExports:vt,rgb:vt.rgb,hsl:vt.hsl,hsv:vt.hsv,hwb:vt.hwb,cmyk:vt.cmyk,xyz:vt.xyz,lab:vt.lab,lch:vt.lch,hex:vt.hex,keyword:vt.keyword,ansi16:vt.ansi16,ansi256:vt.ansi256,hcg:vt.hcg,apple:vt.apple,gray:vt.gray},yt=gt&&vt||gt;function bt(t){var e=function(){for(var t={},e=Object.keys(yt),n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var r=n.pop(),i=Object.keys(yt[r]),o=i.length,a=0;a<o;a++){var s=i[a],h=e[s];-1===h.distance&&(h.distance=e[r].distance+1,h.parent=r,n.unshift(s))}return e}function _t(t,e){return function(n){return e(t(n))}}function wt(t,e){for(var n=[e[t].parent,t],r=yt[e[t].parent][t],i=e[t].parent;e[i].parent;)n.unshift(e[i].parent),r=_t(yt[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}var xt=function(t){for(var e=bt(t),n={},r=Object.keys(e),i=r.length,o=0;o<i;o++){var a=r[o];null!==e[a].parent&&(n[a]=wt(a,e))}return n},Mt={default:xt,__moduleExports:xt},Et=Mt&&xt||Mt,kt={};Object.keys(yt).forEach(function(t){kt[t]={},Object.defineProperty(kt[t],"channels",{value:yt[t].channels}),Object.defineProperty(kt[t],"labels",{value:yt[t].labels});var e=Et(t);Object.keys(e).forEach(function(n){var r=e[n];kt[t][n]=function(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(r),kt[t][n].raw=function(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)})});var Ot={default:kt,__moduleExports:kt},jt=mt&&dt||mt,At=Ot&&kt||Ot,St=[].slice,Ct=["keyword","gray","hex"],Pt={};Object.keys(At).forEach(function(t){Pt[St.call(At[t].labels).sort().join("")]=t});var Tt={};function It(t,e){if(!(this instanceof It))return new It(t,e);if(e&&e in Ct&&(e=null),e&&!(e in At))throw new Error("Unknown model: "+e);var n,r;if(t)if(t instanceof It)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var i=jt.get(t);if(null===i)throw new Error("Unable to parse color from string: "+t);this.model=i.model,this.color=i.value.slice(0,r=At[this.model].channels),this.valpha="number"==typeof i.value[r]?i.value[r]:1}else if(t.length){this.model=e||"rgb";var o=St.call(t,0,r=At[this.model].channels);this.color=zt(o,r),this.valpha="number"==typeof t[r]?t[r]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var a=Object.keys(t);"alpha"in t&&(a.splice(a.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var s=a.sort().join("");if(!(s in Pt))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Pt[s];var h=At[this.model].labels,l=[];for(n=0;n<h.length;n++)l.push(t[h[n]]);this.color=zt(l)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(Tt[this.model])for(r=At[this.model].channels,n=0;n<r;n++){var u=Tt[this.model][n];u&&(this.color[n]=u(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function Ft(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(Tt[t]||(Tt[t]=[]))[e]=n}),t=t[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[t]()).color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function qt(t){return function(e){return Math.max(0,Math.min(t,e))}}function zt(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}It.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in jt.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return jt.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return jt.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=At[this.model].channels,n=At[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new It(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new It(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:Ft("rgb",0,qt(255)),green:Ft("rgb",1,qt(255)),blue:Ft("rgb",2,qt(255)),hue:Ft(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:Ft("hsl",1,qt(100)),lightness:Ft("hsl",2,qt(100)),saturationv:Ft("hsv",1,qt(100)),value:Ft("hsv",2,qt(100)),chroma:Ft("hcg",1,qt(100)),gray:Ft("hcg",2,qt(100)),white:Ft("hwb",1,qt(100)),wblack:Ft("hwb",2,qt(100)),cyan:Ft("cmyk",0,qt(100)),magenta:Ft("cmyk",1,qt(100)),yellow:Ft("cmyk",2,qt(100)),black:Ft("cmyk",3,qt(100)),x:Ft("xyz",0,qt(100)),y:Ft("xyz",1,qt(100)),z:Ft("xyz",2,qt(100)),l:Ft("lab",0,qt(100)),a:Ft("lab",1),b:Ft("lab",2),keyword:function(t){return arguments.length?new It(t):At[this.model].keyword(this.color)},hex:function(t){return arguments.length?new It(t):jt.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return It.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return e.color[0]=n=(n=(n+t)%360)<0?360+n:n,e},mix:function(t,e){var n=t.rgb(),r=this.rgb(),i=void 0===e?.5:e,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,h=1-s;return It.rgb(s*n.red()+h*r.red(),s*n.green()+h*r.green(),s*n.blue()+h*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(At).forEach(function(t){if(-1===Ct.indexOf(t)){var e=At[t].channels;It.prototype[t]=function(){if(this.model===t)return new It(this);if(arguments.length)return new It(arguments,t);var n,r="number"==typeof arguments[e]?e:this.valpha;return new It((n=At[this.model][t].raw(this.color),Array.isArray(n)?n:[n]).concat(r),t)},It[t]=function(n){return"number"==typeof n&&(n=zt(St.call(arguments),e)),new It(n,t)}}});var Lt=It,Xt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.getGradientImage=function(t,n,r){var i,o,a=t>>4,s=n>>4,h=r>>4;if(!e.Gradient)for(e.Gradient=new Array(16),i=0;i<e.Gradient.length;i++)for(e.Gradient[i]=new Array(16),o=0;o<e.Gradient[i].length;o++)e.Gradient[i][o]=new Array(16);return e.Gradient[a][s][h]||(e.Gradient[a][s][h]=e.generateGradientImage(a,s,h)),e.Gradient[a][s][h]},e.generateGradientImage=function(t,e,n){var r=document.createElement("canvas");r.width=r.height=64;var i=r.getContext("2d");i.globalAlpha=1,i.globalCompositeOperation="source-over",i.clearRect(0,0,64,64);var o=i.createRadialGradient(32,32,0,32,32,32);return o.addColorStop(0,"rgba("+(16+(t<<4)-1)+","+(16+(e<<4)-1)+","+(16+(n<<4)-1)+",1)"),o.addColorStop(.3,"rgba("+(16+(t<<4)-1)+","+(16+(e<<4)-1)+","+(16+(n<<4)-1)+",0.4)"),o.addColorStop(1,"rgba("+(16+(t<<4)-1)+","+(16+(e<<4)-1)+","+(16+(n<<4)-1)+",0)"),i.fillStyle=o,i.fillRect(0,0,64,64),r},e.prototype.draw=function(t,n){if(this.enabled){this.color&&this.color.color||(this.color=Lt(this.color).rgb());var r=this.a,i=this.color.color;n&&(r*=n.a),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=r,t.imageSmoothingEnabled=this.scaleX>64,t.drawImage(e.getGradientImage(i[0],i[1],i[2]),0,0,64,64,this.x-(this.scaleX>>1),this.y-(this.scaleY>>1),this.scaleX,this.scaleY),t.imageSmoothingEnabled=!0}},e}(J);Xt.Gradient=null;var Nt=function(t){function e(e){t.call(this,e),this.oldPath=void 0,this.path=H(e.path),this.path2D=new Path2D,this.color=H(e.color),this.borderColor=H(e.borderColor),this.lineWidth=Z(H(e.lineWidth),1),this.clip=Z(H(e.clip),!1),this.fixed=Z(H(e.fixed),!1)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.draw=function(t,e){var n=this;if(this.enabled){var r=this.a;this.oldPath!==this.path&&(C(this.path)?(this.path2D=new Path2D,this.path.forEach(function(t){n.path2D.moveTo(t[0][0],t[0][1]),t.forEach(function(t){n.path2D.bezierCurveTo(t[2],t[3],t[4],t[5],t[6],t[7])}),n.path2D.closePath()})):this.path2D=new Path2D(this.path),this.oldPath=this.path),e&&(r*=e.a);var i=this.scaleX,o=this.scaleY;for(var a in this.fixed&&(0==i&&(i=1e-10),0==o&&(o=1e-10)),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=r,t.save(),t.translate(this.x,this.y),t.scale(i,o),t.rotate(.017453292519943295*this.arc),this.color&&(t.fillStyle=this.color,t.fill(this.path2D)),this.borderColor&&(t.strokeStyle=this.borderColor,t.lineWidth=this.lineWidth,t.stroke(this.path2D)),this.clip&&(t.clip(this.path2D),this.fixed&&(t.rotate(.017453292519943295*-this.arc),t.scale(1/i,1/o),t.translate(-this.x,-this.y))),n.sprite)n.sprite[a].draw(t,e);t.restore()}},e}(K),Yt=function(t){function e(e){t.call(this,e),this.width=H(e.width),this.height=H(e.height),this.borderColor=H(e.borderColor),this.lineWidth=Z(H(e.lineWidth),1)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.draw=function(t,e){if(this.enabled){this.width||(this.width=t.canvas.width),this.height||(this.height=t.canvas.height);var n=this.a;e&&(n*=e.a),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=n,0===this.arc?(t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height),this.borderColor&&(t.beginPath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.borderColor,t.rect(this.x,this.y,this.width,this.height),t.stroke())):(t.save(),t.translate(this.x+this.width/2,this.y+this.height/2),t.rotate(.017453292519943295*this.arc),t.fillStyle=this.color,t.fillRect(-this.width/2,-this.height/2,this.width,this.height),this.borderColor&&(t.beginPath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.borderColor,t.rect(-this.width/2,-this.height/2,this.width,this.height),t.stroke()),t.restore())}},e}(J);var Rt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Dt={default:Rt,__moduleExports:Rt},Wt=Dt&&Rt||Dt,Ut="[object AsyncFunction]",Vt="[object Function]",Bt="[object GeneratorFunction]",Gt="[object Proxy]";var Zt,Ht=function(t){if(!Wt(t))return!1;var e=F(t);return e==Vt||e==Bt||e==Ut||e==Gt},$t={default:Ht,__moduleExports:Ht},Jt=u["__core-js_shared__"],Qt={default:Jt,__moduleExports:Jt},Kt=Qt&&Jt||Qt,te=(Zt=/[^.]+$/.exec(Kt&&Kt.keys&&Kt.keys.IE_PROTO||""))?"Symbol(src)_1."+Zt:"";var ee=function(t){return!!te&&te in t},ne={default:ee,__moduleExports:ee},re=Function.prototype.toString;var ie=function(t){if(null!=t){try{return re.call(t)}catch(t){}try{return t+""}catch(t){}}return""},oe={default:ie,__moduleExports:ie},ae=$t&&Ht||$t,se=ne&&ee||ne,he=oe&&ie||oe,le=/^\[object .+?Constructor\]$/,ue=Function.prototype,ce=Object.prototype,pe=RegExp("^"+ue.toString.call(ce.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var fe=function(t){return!(!Wt(t)||se(t))&&(ae(t)?pe:le).test(he(t))},de={default:fe,__moduleExports:fe};var me=function(t,e){return null==t?void 0:t[e]},ve={default:me,__moduleExports:me},ge=de&&fe||de,ye=ve&&me||ve;var be=function(t,e){var n=ye(t,e);return ge(n)?n:void 0},_e={default:be,__moduleExports:be},we=_e&&be||_e,xe=function(){try{var t=we(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Me={default:xe,__moduleExports:xe},Ee=Me&&xe||Me;var ke=function(t,e,n){"__proto__"==e&&Ee?Ee(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Oe={default:ke,__moduleExports:ke};var je=function(t,e){return t===e||t!=t&&e!=e},Ae={default:je,__moduleExports:je},Se=Oe&&ke||Oe,Ce=Ae&&je||Ae,Pe=Object.prototype.hasOwnProperty;var Te=function(t,e,n){var r=t[e];Pe.call(t,e)&&Ce(r,n)&&(void 0!==n||e in t)||Se(t,e,n)},Ie={default:Te,__moduleExports:Te},Fe=Ie&&Te||Ie;var qe=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],h=r?r(n[s],t[s],s,n,t):void 0;void 0===h&&(h=t[s]),i?Se(n,s,h):Fe(n,s,h)}return n},ze={default:qe,__moduleExports:qe};var Le=function(t){return t},Xe={default:Le,__moduleExports:Le};var Ne=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Ye={default:Ne,__moduleExports:Ne},Re=Ye&&Ne||Ye,De=Math.max;var We=function(t,e,n){return e=De(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=De(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Re(t,this,s)}},Ue={default:We,__moduleExports:We};var Ve=function(t){return function(){return t}},Be={default:Ve,__moduleExports:Ve},Ge=Be&&Ve||Be,Ze=Xe&&Le||Xe,He=Ee?function(t,e){return Ee(t,"toString",{configurable:!0,enumerable:!1,value:Ge(e),writable:!0})}:Ze,$e={default:He,__moduleExports:He},Je=800,Qe=16,Ke=Date.now;var tn=function(t){var e=0,n=0;return function(){var r=Ke(),i=Qe-(r-n);if(n=r,i>0){if(++e>=Je)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},en={default:tn,__moduleExports:tn},nn=(en&&tn||en)($e&&He||$e),rn={default:nn,__moduleExports:nn},on=Ue&&We||Ue,an=rn&&nn||rn;var sn=function(t,e){return an(on(t,e,Ze),t+"")},hn={default:sn,__moduleExports:sn},ln=9007199254740991;var un=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ln},cn={default:un,__moduleExports:un},pn=cn&&un||cn;var fn=function(t){return null!=t&&pn(t.length)&&!ae(t)},dn={default:fn,__moduleExports:fn},mn=9007199254740991,vn=/^(?:0|[1-9]\d*)$/;var gn=function(t,e){var n=typeof t;return!!(e=null==e?mn:e)&&("number"==n||"symbol"!=n&&vn.test(t))&&t>-1&&t%1==0&&t<e},yn={default:gn,__moduleExports:gn},bn=dn&&fn||dn,_n=yn&&gn||yn;var wn=function(t,e,n){if(!Wt(n))return!1;var r=typeof e;return!!("number"==r?bn(n)&&_n(e,n.length):"string"==r&&e in n)&&Ce(n[e],t)},xn={default:wn,__moduleExports:wn},Mn=hn&&sn||hn,En=xn&&wn||xn;var kn=function(t){return Mn(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&En(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})},On={default:kn,__moduleExports:kn},jn=Object.prototype;var An=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jn)},Sn={default:An,__moduleExports:An};var Cn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Pn={default:Cn,__moduleExports:Cn},Tn="[object Arguments]";var In=function(t){return z(t)&&F(t)==Tn},Fn={default:In,__moduleExports:In},qn=Fn&&In||Fn,zn=Object.prototype,Ln=zn.hasOwnProperty,Xn=zn.propertyIsEnumerable,Nn=qn(function(){return arguments}())?qn:function(t){return z(t)&&Ln.call(t,"callee")&&!Xn.call(t,"callee")},Yn={default:Nn,__moduleExports:Nn};var Rn=function(){return!1},Dn={default:Rn,__moduleExports:Rn},Wn=Dn&&Rn||Dn,Un=r(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?u.Buffer:void 0;t.exports=(i?i.isBuffer:void 0)||Wn}),Vn={default:Un,__moduleExports:Un},Bn={};Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=!0,Bn["[object Arguments]"]=Bn["[object Array]"]=Bn["[object ArrayBuffer]"]=Bn["[object Boolean]"]=Bn["[object DataView]"]=Bn["[object Date]"]=Bn["[object Error]"]=Bn["[object Function]"]=Bn["[object Map]"]=Bn["[object Number]"]=Bn["[object Object]"]=Bn["[object RegExp]"]=Bn["[object Set]"]=Bn["[object String]"]=Bn["[object WeakMap]"]=!1;var Gn=function(t){return z(t)&&pn(t.length)&&!!Bn[F(t)]},Zn={default:Gn,__moduleExports:Gn};var Hn=function(t){return function(e){return t(e)}},$n={default:Hn,__moduleExports:Hn},Jn=r(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&a.process,o=function(){try{var t=r&&r.require&&r.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o}),Qn={default:Jn,__moduleExports:Jn},Kn=Zn&&Gn||Zn,tr=Qn&&Jn||Qn,er=tr&&tr.isTypedArray,nr=er?($n&&Hn||$n)(er):Kn,rr={default:nr,__moduleExports:nr},ir=Pn&&Cn||Pn,or=Yn&&Nn||Yn,ar=Vn&&Un||Vn,sr=rr&&nr||rr,hr=Object.prototype.hasOwnProperty;var lr=function(t,e){var n=q(t),r=!n&&or(t),i=!n&&!r&&ar(t),o=!n&&!r&&!i&&sr(t),a=n||r||i||o,s=a?ir(t.length,String):[],h=s.length;for(var l in t)!e&&!hr.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||_n(l,h))||s.push(l);return s},ur={default:lr,__moduleExports:lr};var cr=function(t,e){return function(n){return t(e(n))}},pr={default:cr,__moduleExports:cr},fr=(pr&&cr||pr)(Object.keys,Object),dr={default:fr,__moduleExports:fr},mr=Sn&&An||Sn,vr=dr&&fr||dr,gr=Object.prototype.hasOwnProperty;var yr=function(t){if(!mr(t))return vr(t);var e=[];for(var n in Object(t))gr.call(t,n)&&"constructor"!=n&&e.push(n);return e},br={default:yr,__moduleExports:yr},_r=ur&&lr||ur,wr=br&&yr||br;var xr=function(t){return bn(t)?_r(t):wr(t)},Mr={default:xr,__moduleExports:xr},Er=ze&&qe||ze,kr=Mr&&xr||Mr,Or=Object.prototype.hasOwnProperty,jr=(On&&kn||On)(function(t,e){if(mr(e)||bn(e))Er(e,kr(e),t);else for(var n in e)Or.call(e,n)&&Fe(t,n,e[n])}),Ar=function(t){function e(e){var n=H(e.text),r=C(n)?n:[].concat(n);t.call(this,jr({},e,{class:it,count:r.length,text:function(t){return r[t]},enabled:function(t){return" "!==r[t]&&H(e.enabled,t)}}))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(et),Sr=function(t){function e(e){t.call(this,e),this.count=Z(H(e.count),40),this.moveX=Z(H(e.moveX),0),this.moveY=Z(H(e.moveY),0),this.moveZ=Z(H(e.moveZ),0),this.width&&this.height&&this.init()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.init=function(){this.centerX=Math.floor((this.width-this.x)/2)+this.x,this.centerY=Math.floor((this.height-this.y)/2)+this.y,this.scaleZ=Math.max(this.width,this.height),this.starsX=new Array(this.count),this.starsY=new Array(this.count),this.starsZ=new Array(this.count),this.starsOldX=new Array(this.count),this.starsOldY=new Array(this.count),this.starsNewX=new Array(this.count),this.starsNewY=new Array(this.count),this.starsEnabled=new Array(this.count),this.starsLineWidth=new Array(this.count);for(var t=0;t<this.count;t++)this.starsX[t]=Math.random()*this.width-this.centerX,this.starsY[t]=Math.random()*this.height-this.centerY,this.starsZ[t]=Math.random()*this.scaleZ},e.prototype.moveStar=function(t,e,n){n&&(this.starsEnabled[t]=!0);var r=this.starsX[t]+this.moveX*e,i=this.starsY[t]+this.moveY*e,o=this.starsZ[t]+this.moveZ*e;if(r<-this.centerX)r+=this.width,i=Math.random()*this.height-this.centerY,this.starsEnabled[t]=!1;else for(;r>this.width-this.centerX;)r-=this.width,i=Math.random()*this.height-this.centerY,this.starsEnabled[t]=!1;if(i<-this.centerY)i+=this.height,r=Math.random()*this.width-this.centerX,this.starsEnabled[t]=!1;else for(;i>this.height-this.centerY;)i-=this.height,r=Math.random()*this.width-this.centerX,this.starsEnabled[t]=!1;if(o<=0)o+=this.scaleZ,r=Math.random()*this.width-this.centerX,i=Math.random()*this.height-this.centerY,this.starsEnabled[t]=!1;else for(;o>this.scaleZ;)o-=this.scaleZ,r=Math.random()*this.width-this.centerX,i=Math.random()*this.height-this.centerY,this.starsEnabled[t]=!1;var a=~~(this.centerX+r/o*this.scaleZ),s=~~(this.centerY+i/o*this.scaleZ/2);this.starsEnabled[t]=this.starsEnabled[t]&&a>=this.x&&s>=this.y&&a<this.width&&s<this.height,n?(this.starsX[t]=r,this.starsY[t]=i,this.starsZ[t]=o,this.starsNewX[t]=a,this.starsNewY[t]=s):(this.starsOldX[t]=a,this.starsOldY[t]=s,this.starsLineWidth[t]=Math.round(2*(1-this.starsZ[t]/this.scaleZ)+1))},e.prototype.animate=function(e){var n=t.prototype.animate.call(this,e);if(this.enabled&&this.width&&this.height)for(var r=this.count;r--;)this.moveStar(r,e/16,!0),this.starsEnabled[r]&&this.moveStar(r,-3,!1);return n},e.prototype.draw=function(t,e){if(this.enabled){if(!this.width||!this.height)return this.width=this.width||t.canvas.width,this.height=this.height||t.canvas.height,void this.init();var n=this.a;if(e&&(n*=e.a),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=n,0==this.moveY&&0==this.moveZ&&this.moveX<0){t.fillStyle=this.color;for(var r=this.count;r--;)this.starsEnabled[r]&&t.fillRect(this.starsNewX[r],this.starsNewY[r]-this.starsLineWidth[r]/2,this.starsOldX[r]-this.starsNewX[r],this.starsLineWidth[r])}else{t.strokeStyle=this.color;for(var i,o=4;--o;){for(t.beginPath(),t.lineWidth=o,i=this.count;i--;)this.starsEnabled[i]&&this.starsLineWidth[i]===o&&(t.moveTo(this.starsOldX[i],this.starsOldY[i]),t.lineTo(this.starsNewX[i],this.starsNewY[i]));t.stroke(),t.closePath()}}}},e}(Yt),Cr={Callback:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Q,[null].concat(t)))},Canvas:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(tt,[null].concat(t)))},Circle:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(J,[null].concat(t)))},Emitter:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(et,[null].concat(t)))},FastBlur:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(nt,[null].concat(t)))},Group:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(K,[null].concat(t)))},Image:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(rt,[null].concat(t)))},Text:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(it,[null].concat(t)))},Particle:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Xt,[null].concat(t)))},Path:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Nt,[null].concat(t)))},Rect:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Yt,[null].concat(t)))},Scroller:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ar,[null].concat(t)))},StarField:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Sr,[null].concat(t)))}},Pr=function(t,e,n){for(var r in this.loop=t,this.timeWait=Z(e,0),this.animation=n||{},this.animationPosition={},this.animation)this.animationPosition[r]={position:0,timelapsed:-H(this.timeWait),object:null,loop:H("object"==typeof t?t[r]:t),enabled:!("object"==typeof t&&!1===H(t[r])||!1===H(t))},this.setObject(r);this.last_timestamp=0,this.hide_vote=!1};Pr.prototype.setObject=function(t){this.animationPosition[t].position<this.animation[t].length&&null!==this.animation[t][this.animationPosition[t].position]?(this.animationPosition[t].object=this.animation[t][this.animationPosition[t].position],"function"==typeof this.animationPosition[t].object.reset&&this.animationPosition[t].object.reset(),"function"!=typeof this.animationPosition[t].object.run&&(this.animationPosition[t].object={run:this.animationPosition[t].object})):this.animationPosition[t].object=null},Pr.prototype.changeAnimationStatus=function(t){var e;for(e in t)"object"==typeof this.animationPosition[e]&&(null!==t[e].position&&(this.animationPosition[e].position=t[e].position),null!==t[e].loop&&(this.animationPosition[e].loop=t[e].loop,this.animationPosition[e].enabled=!(!1===t[e].loop)),null!==t[e].timelapsed&&(this.animationPosition[e].timelapsed=t[e].timelapsed),this.setObject(e));for(e in this.animation)"object"==typeof this.animationPosition[e]&&this.animationPosition[e].object instanceof Pr&&this.animationPosition[e].object.changeAnimationStatus(t)},Pr.prototype.run=function(t,e,n){var r=e,i=0,o=0,a=0,s=0,h=null;for(var l in n||(r=e-this.last_timestamp,this.last_timestamp=e),this.animation)if(a++,!0===(h=this.animationPosition[l]).enabled)if(s=r,null===h.object)i++,o++,s=0;else if(s>0)for(;s>0;)if(h.timelapsed+=s,h.timelapsed>=0){if(!0===(s=h.object.run(t,h.timelapsed))&&(s=0),s===Pr.TIMELAPSE_TO_FORCE_DISABLE)return r;s===Pr.TIMELAPSE_TO_STOP?(h.timelapsed=0,this.setObject(l),h.object=null,s=0):!1!==s&&s>=0&&(h.position++,h.position>=this.animation[l].length&&(!0!==h.loop&&h.loop--,h.loop?h.position=h.position%this.animation[l].length:h.enabled=!1),h.timelapsed=0,this.setObject(l),h.enabled||(h.object=null,h.enabled=!0),null===h.object&&(i++,s=0))}else s=0,o++;else o++;if(a>0){if(i===a)return r;t.enabled&&o===a?(t.enabled=!1,this.hide_vote=!0):this.hide_vote&&o!==a&&(this.hide_vote=!1,t.enabled=!0)}return-1},Pr.TIMELAPSE_TO_FORCE_DISABLE="FORCE_DISABLE",Pr.TIMELAPSE_TO_STOP="STOP";var Tr=function(t,e){this.callback=t,this.duration=Z(H(e),0),this.initialized=!1};Tr.prototype.reset=function(){this.initialized=!1},Tr.prototype.run=function(t,e){var n;return R(this.duration)?(this.callback(t,Math.min(e,this.duration),!this.initialized),this.initialized=!0,e-this.duration):(n=this.callback(t,e,!this.initialized),this.initialized=!0,n)};var Ir=function(t){return t},Fr={default:Ir,__moduleExports:Ir},qr=r(function(t,e){t.exports=function(){var t=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=2*Math.PI,n=function(t,e,n,r,i,o,a){var s=t.x,h=t.y,l=r*(s*=e)-i*(h*=n),u=i*s+r*h;return{x:l+o,y:u+a}},r=function(t,e){var n=4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:r-i*n,y:i+r*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]},i=function(t,e,n,r){var i=t*r-e*n<0?-1:1,o=Math.sqrt(t*t+e*e),a=Math.sqrt(t*t+e*e),s=t*n+e*r,h=s/(o*a);return h>1&&(h=1),h<-1&&(h=-1),i*Math.acos(h)},o=function(o){var a=o.px,s=o.py,h=o.cx,l=o.cy,u=o.rx,c=o.ry,p=o.xAxisRotation,f=void 0===p?0:p,d=o.largeArcFlag,m=void 0===d?0:d,v=o.sweepFlag,g=void 0===v?0:v,y=[];if(0===u||0===c)return[];var b=Math.sin(f*e/360),_=Math.cos(f*e/360),w=_*(a-h)/2+b*(s-l)/2,x=-b*(a-h)/2+_*(s-l)/2;if(0===w&&0===x)return[];u=Math.abs(u),c=Math.abs(c);var M=Math.pow(w,2)/Math.pow(u,2)+Math.pow(x,2)/Math.pow(c,2);M>1&&(u*=Math.sqrt(M),c*=Math.sqrt(M));var E=function(t,n,r,o,a,s,h,l,u,c,p,f){var d=Math.pow(a,2),m=Math.pow(s,2),v=Math.pow(p,2),g=Math.pow(f,2),y=d*m-d*g-m*v;y<0&&(y=0),y/=d*g+m*v;var b=(y=Math.sqrt(y)*(h===l?-1:1))*a/s*f,_=y*-s/a*p,w=c*b-u*_+(t+r)/2,x=u*b+c*_+(n+o)/2,M=(p-b)/a,E=(f-_)/s,k=(-p-b)/a,O=(-f-_)/s,j=i(1,0,M,E),A=i(M,E,k,O);return 0===l&&A>0&&(A-=e),1===l&&A<0&&(A+=e),[w,x,j,A]}(a,s,h,l,u,c,m,g,b,_,w,x),k=t(E,4),O=k[0],j=k[1],A=k[2],S=k[3],C=Math.max(Math.ceil(Math.abs(S)/(e/4)),1);S/=C;for(var P=0;P<C;P++)y.push(r(A,S)),A+=S;return y.map(function(t){var e=n(t[0],u,c,_,b,O,j),r=e.x,i=e.y,o=n(t[1],u,c,_,b,O,j),a=o.x,s=o.y,h=n(t[2],u,c,_,b,O,j),l=h.x,p=h.y;return{x1:r,y1:i,x2:a,y2:s,x:l,y:p}})},a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=/([astvzqmhlc])([^astvzqmhlc]*)/gi,h=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function l(t){var e=t[0][0],n=t[0][1],r=e,i=n;return t.forEach(function(t){var o=t[0],a=t[2],s=t[4],h=t[6],l=t[1],u=t[3],c=t[5],p=t[7];e=Math.min(e,o,a,s,h),n=Math.min(n,l,u,c,p),r=Math.max(r,o,a,s,h),i=Math.max(i,l,u,c,p)}),[e,n,r,i]}var u={};function c(t,e,n,r,i,o,a,s,h,l){var u=(n-t)*h+t,c=(r-e)*h+e,p=(i-n)*h+n,f=(o-r)*h+r,d=(a-i)*h+i,m=(s-o)*h+o,v=(p-u)*h+u,g=(f-c)*h+c,y=(d-p)*h+p,b=(m-f)*h+f,_=(y-v)*h+v,w=(b-g)*h+g;return l?[_,w,v,g,u,c,t,e]:[t,e,u,c,v,g,_,w]}return u.parser=function(t){var e=[];return t.replace(s,function(t,n,r){var i=n.toLowerCase();for(r=function(t){var e=t.match(h);return e?e.map(Number):[]}(r),"m"==i&&r.length>2&&(e.push([n].concat(r.splice(0,2))),i="l",n="m"==n?"l":"L");;){if(r.length==a[i])return r.unshift(n),e.push(r);if(r.length<a[i])throw new Error("malformed path data");e.push([n].concat(r.splice(0,a[i])))}}),e},u.lerpCurve=function(t,e,n){return u.lerpPoints(t[0],t[1],e[0],e[1],n).concat(u.lerpPoints(t[2],t[3],e[2],e[3],n)).concat(u.lerpPoints(t[4],t[5],e[4],e[5],n)).concat(u.lerpPoints(t[6],t[7],e[6],e[7],n))},u.lerpPoints=function(t,e,n,r,i){return[t+(n-t)*i,e+(r-e)*i]},u.q2b=function(t,e,n,r,i,o){return[t,e,(t+2*n)/3,(e+2*r)/3,(i+2*n)/3,(o+2*r)/3,i,o]},u.path2shapes=function(t){for(var e=u.parser(t),n=0,r=0,i=0,a=e.length,s=[],h=null,l=void 0,c=void 0,p=void 0,f=void 0,d=void 0,m=void 0,v=void 0;i<a;i++){var g=e[i],y=e[i-1];switch(g[0]){case"m":s[d=s.length]=[],h=s[d],n+=g[1],r+=g[2];break;case"M":s[d=s.length]=[],h=s[d],n=g[1],r=g[2];break;case"l":h.push([n,r,n,r,n,r,n+g[1],r+g[2]]),n+=g[1],r+=g[2];break;case"L":h.push([n,r,g[1],g[2],g[1],g[2],g[1],g[2]]),n=g[1],r=g[2];break;case"h":h.push([n,r,n,r,n,r,n+g[1],r]),n+=g[1];break;case"H":h.push([n,r,g[1],r,g[1],r,g[1],r]),n=g[1];break;case"v":h.push([n,r,n,r,n,r,n,r+g[1]]),r+=g[1];break;case"V":h.push([n,r,n,g[1],n,g[1],n,g[1]]),r=g[1];break;case"C":h.push([n,r,g[1],g[2],g[3],g[4],g[5],g[6]]),n=g[5],r=g[6];break;case"S":"C"===y[0]||"c"===y[0]?h.push([n,r,n+y[5]-y[3],r+y[6]-y[4],g[1],g[2],g[3],g[4]]):"S"!==y[0]&&"s"!==y[0]||h.push([n,r,n+y[3]-y[1],r+y[4]-y[2],g[1],g[2],g[3],g[4]]),n=g[3],r=g[4];break;case"c":h.push([n,r,n+g[1],r+g[2],n+g[3],r+g[4],n+g[5],r+g[6]]),n+=g[5],r+=g[6];break;case"s":"C"===y[0]||"c"===y[0]?h.push([n,r,n+y[5]-y[3],r+y[6]-y[4],n+g[1],r+g[2],n+g[3],r+g[4]]):"S"!==y[0]&&"s"!==y[0]||h.push([n,r,n+y[3]-y[1],r+y[4]-y[2],n+g[1],r+g[2],n+g[3],r+g[4]]),n+=g[3],r+=g[4];break;case"a":v=(m=o({rx:g[1],ry:g[2],px:n,py:r,xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5],cx:n+g[6],cy:n+g[7]}))[m.length-1],m.forEach(function(t,e){h.push(0===e?[n,r,t.x1,t.y1,t.x2,t.y2,t.x,t.y]:[m[e-1].x,m[e-1].y,t.x1,t.y1,t.x2,t.y2,t.x,t.y])}),n=v.x,r=v.y;break;case"A":v=(m=o({rx:g[1],ry:g[2],px:n,py:r,xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5],cx:g[6],cy:g[7]}))[m.length-1],m.forEach(function(t,e){h.push(0===e?[n,r,t.x1,t.y1,t.x2,t.y2,t.x,t.y]:[m[e-1].x,m[e-1].y,t.x1,t.y1,t.x2,t.y2,t.x,t.y])}),n=v.x,r=v.y;break;case"Q":h.push(u.q2b(n,r,g[1],g[2],g[3],g[4])),n=g[3],r=g[4];break;case"q":h.push(u.q2b(n,r,n+g[1],r+g[2],g[3]+n,g[4]+r)),n+=g[3],r+=g[4];break;case"T":"Q"===y[0]||"q"===y[0]?h.push(u.q2b(n,r,p=n+y[3]-y[1],f=r+y[4]-y[2],g[1],g[2])):"T"!==y[0]&&"t"!==y[0]||(h.push(u.q2b(n,r,n+n-p,r+r-f,g[1],g[2])),p=n+n-p,f=r+r-f),n=g[1],r=g[2];break;case"t":"Q"===y[0]||"q"===y[0]?h.push(u.q2b(n,r,p=n+y[3]-y[1],f=r+y[4]-y[2],n+g[1],r+g[2])):"T"!==y[0]&&"t"!==y[0]||(h.push(u.q2b(n,r,n+n-p,r+r-f,n+g[1],r+g[2])),p=n+n-p,f=r+r-f),n+=g[1],r+=g[2];break;case"Z":case"z":h.push([n,r,l=h[0][0],c=h[0][1],l,c,l,c])}}return s},u._upCurves=function(t,e){for(var n=0,r=0,i=t.length;n<e;n++)t.push(t[r].slice(0)),++r>i-1&&(r-=i)},u._splitCurves=function(t,e){for(var n,r,i,o,a,s,h,l,u,p=0,f=0;p<e;p++){var d=t[f],m={left:c(n=d[0],r=d[1],i=d[2],o=d[3],a=d[4],s=d[5],h=d[6],l=d[7],u=.5),right:c(h,l,a,s,i,o,n,r,1-u,!0)};t.splice(f,1),t.splice(f,0,m.left,m.right),(f+=2)>=t.length-1&&(f=0)}},u._upShapes=function(t,e){for(var n=function(e){var n=[];t[t.length-1].forEach(function(t){n.push(t.slice(0))}),t.push(n)},r=0;r<e;r++)n()},u._subShapes=function(t,e,n){for(var r=function(t){var n=e[e.length-1],r=[],i=n[0][0],o=n[0][1];n.forEach(function(){r.push([i,o,i,o,i,o,i,o])}),e.push(r)},i=0;i<n;i++)r()},u.lerp=function(t,e,n){return u._lerp(u.path2shapes(t),u.path2shapes(e),n)},u.MIM_CURVES_COUNT=100,u._preprocessing=function(t,e){var n=t.length,r=e.length,i=JSON.parse(JSON.stringify(t)),o=JSON.parse(JSON.stringify(e));return n>r?u._subShapes(i,o,n-r):n<r&&u._upShapes(i,r-n),(i=function(t,e){var n=[];(function(t){for(var e=[],n=0;n<t;n++)e.push(n);return r=[],i=[],function t(e){var n,o;for(n=0;n<e.length;n++)o=e.splice(n,1)[0],i.push(o),0==e.length&&r.push(i.slice()),t(e),e.splice(n,0,o),i.pop();return r}(e);var r,i})(t.length).forEach(function(r){var i=0;r.forEach(function(n){var r,o;i+=(r=l(t[n]),o=l(e[n]),Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2))+Math.sqrt(Math.pow(r[2]-o[2],2)+Math.pow(r[3]-o[3],2)))}),n.push({index:r,distance:i})}),n.sort(function(t,e){return t.distance-e.distance});var r=[];return n[0].index.forEach(function(e){r.push(t[e])}),r}(i,o)).forEach(function(t,e){var n=t.length,r=o[e].length;n>r?n<u.MIM_CURVES_COUNT?(u._splitCurves(t,u.MIM_CURVES_COUNT-n),u._splitCurves(o[e],u.MIM_CURVES_COUNT-r)):u._splitCurves(o[e],n-r):n<r&&(r<u.MIM_CURVES_COUNT?(u._splitCurves(t,u.MIM_CURVES_COUNT-n),u._splitCurves(o[e],u.MIM_CURVES_COUNT-r)):u._splitCurves(t,r-n))}),i.forEach(function(t,e){i[e]=function(t,e){var n=[];(function(t){for(var e=[],n=0;n<t;n++){for(var r=[],i=0;i<t;i++){var o=i+n;o>t-1&&(o-=t),r[o]=i}e.push(r)}return e})(t.length).forEach(function(r){var i=0,o=0;r.forEach(function(n){var r,a,s,h,l,u,c,p,f,d,m,v,g,y,b,_;i+=(a=e[o++],s=(r=t[n])[2],h=r[4],l=r[6],u=r[1],c=r[3],p=r[5],f=r[7],d=a[2],m=a[4],v=a[6],g=a[1],y=a[3],b=a[5],_=a[7],Math.sqrt(Math.pow(a[0]-r[0],2)+Math.pow(g-u,2))+Math.sqrt(Math.pow(d-s,2)+Math.pow(y-c,2))+Math.sqrt(Math.pow(m-h,2)+Math.pow(b-p,2))+Math.sqrt(Math.pow(v-l,2)+Math.pow(_-f,2)))}),n.push({index:r,distance:i})}),n.sort(function(t,e){return t.distance-e.distance});var r=[];return n[0].index.forEach(function(e){r.push(t[e])}),r}(t,o[e])}),[i,o]},u._lerp=function(t,e,n){var r=[];return t.forEach(function(t,i){var o=[];t.forEach(function(t,r){o.push(u.lerpCurve(t,e[i][r],n))}),r.push(o)}),r},u.animate=function(t){var e=u.path2shapes(t.from),n=u.path2shapes(t.to),r=u._preprocessing(e,n),i=new Date,o=t.end||function(){},a=t.progress||function(){},s=t.easing||function(t){return t},h=null,l=null,c=t.time;(t.begin||function(){})(e),function t(){var e=new Date-i;if(e>=c)return a(l=n,1),o(l),void cancelAnimationFrame(h);var p=s(e/c);l=u._lerp(r[0],r[1],p),a(l,p),h=requestAnimationFrame(t)}()},u}()});function zr(t,e){return e.from+t*e.delta}function Lr(t,e){for(var n,r=[].concat(e.values),i=r.length;i>1;)for(i--,n=0;n<i;n++)r[n]=r[n]+t*(r[n+1]-r[n]);return r[0]}function Xr(t,e,n){return e.colorTo.mix(e.colorFrom,t).string()}function Nr(t,e,n){return qr._lerp(e.pathFrom,e.pathTo,t)}var Yr=function(t,e,n){for(var r in this.initialized=!1,this.changeValues=[],t){var i=t[r],o="color"===r,a="path"===r,s="function"==typeof i,h=!o&&C(i);this.changeValues.push({name:r,to:h?i[i.length-1]:H(i,1,{}),bezier:!!h&&i,isColor:o,isPath:a,isFunction:!!s&&i,moveAlgorithm:o?Xr:a?Nr:h?Lr:zr})}this.duration=Z(H(e),0),this.ease=Z(n,Ir)};Yr.prototype.reset=function(){this.initialized=!1},Yr.prototype.init=function(t,e){for(var n,r=this.changeValues.length;r--;)if((n=this.changeValues[r]).isFunction)if(n.from=t[n.name],n.to=n.isFunction(n.from),n.isColor)n.colorFrom=Lt(n.from),n.colorTo=Lt(n.to),n.moveAlgorithm=Xr;else if(n.isPath){var i;i=qr._preprocessing(qr.path2shapes(n.from),qr.path2shapes(n.to)),n.pathFrom=i[0],n.pathTo=i[1],n.moveAlgorithm=Nr}else C(n.to)?(n.values=[t[n.name]].concat(n.to),n.moveAlgorithm=Lr):(n.delta=n.to-n.from,n.moveAlgorithm=zr);else if(n.isColor)n.colorFrom=Lt(t[n.name]),n.colorTo=Lt(n.to);else if(n.isPath){var o;o=qr._preprocessing(qr.path2shapes(t[n.name]),qr.path2shapes(n.to)),n.pathFrom=o[0],n.pathTo=o[1]}else n.bezier?n.values=[t[n.name]].concat(n.bezier):(n.from=t[n.name],n.delta=n.to-n.from)},Yr.prototype.run=function(t,e){if(this.initialized||(this.initialized=!0,this.init(t,e)),this.duration<=e)for(var n,r=this.changeValues.length;r--;)t[(n=this.changeValues[r]).name]=n.to;else for(var i,o=this.changeValues.length,a=this.ease(e/this.duration);o--;)t[(i=this.changeValues[o]).name]=i.moveAlgorithm(a,i,t);return e-this.duration};var Rr=function(){};Rr.prototype.run=function(t,e){return Pr.TIMELAPSE_TO_FORCE_DISABLE};var Dr=function(){};Dr.prototype.run=function(t,e){return t.enabled=!1,Pr.TIMELAPSE_TO_FORCE_DISABLE};var Wr=function(t,e){this.initialized=!1,this.image=H(t),this.durationBetweenFrames=Z(H(e),0),C(this.image)?this.count=this.image.length:(this.image=[this.image],this.count=1),this.duration=this.count*this.durationBetweenFrames};Wr.prototype.reset=function(){this.initialized=!1},Wr.prototype.run=function(t,e){if(this.initialized||(this.initialized=!0,this.current=-1),e>=this.duration)t.image=N.getImage(this.image[this.image.length-1]);else{var n=Math.floor(e/this.durationBetweenFrames);n!==this.current&&(this.current=n,t.image=N.getImage(this.image[this.current]))}return e-this.duration};var Ur=function(t,e,n){this.initialized=!1,this.frameNumber=H(t),this.framesToRight=Z(H(e),!0),this.durationBetweenFrames=Z(H(n),0),C(this.frameNumber)?this.count=this.frameNumber.length:(this.frameNumber=[this.frameNumber],this.count=1),this.duration=this.count*this.durationBetweenFrames};Ur.prototype.run=function(t,e){var n=0;return n=e>=this.duration?this.frameNumber[this.frameNumber.length-1]:Math.floor(e/this.durationBetweenFrames),this.framesToRight?t.frameX=t.frameWidth*n:t.frameY=t.frameHeight*n,e-this.duration};var Vr=function(t){function e(e,n,r,i){t.call(this,{x:e,y:n},0,i),this.speed=H(r)||1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.init=function(e,n){if(0==this.speed||this.targetX===e.x&&this.targetY===e.y)this.duration=0;else{var r=this.changeValues[0],i=this.changeValues[1];r.from=e.x,i.from=e.y,r.delta=r.to-r.from,i.delta=i.to-i.from;var o=Math.sqrt(r.delta*r.delta+i.delta*i.delta);this.duration=10*o/this.speed}t.prototype.init.call(this,e,n)},e}(Yr),Br=function(t,e){this.Aniobject=t,this.times=Z(H(e),1)};Br.prototype.run=function(t,e){if(this.times<=0)return e;var n=this.Aniobject.run(t,e);return n>0&&this.times--,n};var Gr=function(t,e,n){this.duration=Z(H(e),1),this.name=H(t),this.loop=H(Z(n,1))};Gr.prototype.run=function(t,e){var n;return e>=this.duration&&t.changeAnimationStatus(((n={})[this.name]={position:0,timelapsed:e-this.duration,loop:this.loop},n)),e-this.duration};var Zr=function(t,e){this.initialized=!1,this.duration=H(e),this.shakeDiff=H(t),this.shakeDiffHalf=this.shakeDiff/2};Zr.prototype.reset=function(){this.initialized=!1},Zr.prototype.run=function(t,e){return this.initialized||(this.initialized=!0,this.x=t.x,this.y=t.y),e>=this.duration?(t.x=this.x,t.y=this.y):(t.x=this.x+Math.random()*this.shakeDiff-this.shakeDiffHalf,t.y=this.y+Math.random()*this.shakeDiff-this.shakeDiffHalf),e-this.duration};var Hr=function(){this.showOnce=!0};Hr.prototype.run=function(t,e){return t.enabled=t.enabled&&this.showOnce,this.showOnce=!1,0};var $r=function(){};$r.prototype.run=function(t,e){return Pr.TIMELAPSE_TO_STOP};var Jr=function(t){this.duration=H(t)};Jr.prototype.run=function(t,e){return this.duration?e-this.duration:-1};var Qr=function(t){this.duration=H(t)};Qr.prototype.run=function(t,e){return t.enabled=e>=this.duration,e-this.duration};var Kr={Callback:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Tr,[null].concat(t)))},ChangeTo:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Yr,[null].concat(t)))},End:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Rr,[null].concat(t)))},EndDisabled:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Dr,[null].concat(t)))},Image:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Wr,[null].concat(t)))},ImageFrame:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ur,[null].concat(t)))},Move:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Vr,[null].concat(t)))},Once:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Br,[null].concat(t)))},Play:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Gr,[null].concat(t)))},Shake:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Zr,[null].concat(t)))},ShowOnce:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Hr,[null].concat(t)))},Stop:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply($r,[null].concat(t)))},Wait:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Jr,[null].concat(t)))},WaitDisabled:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Qr,[null].concat(t)))}};var ti=function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},ei={default:ti,__moduleExports:ti};var ni=function(t){var e=1.70158;return t*t*((e+1)*t-e)},ri={default:ni,__moduleExports:ni};var ii=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},oi={default:ii,__moduleExports:ii};var ai=function(t){var e=t*t;return t<4/11?7.5625*e:t<8/11?9.075*e-9.9*t+3.4:t<.9?4356/361*e-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72},si={default:ai,__moduleExports:ai},hi=si&&ai||si;var li=function(t){return t<.5?.5*(1-hi(1-2*t)):.5*hi(2*t-1)+.5},ui={default:li,__moduleExports:li};var ci=function(t){return 1-hi(1-t)},pi={default:ci,__moduleExports:ci};var fi=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},di={default:fi,__moduleExports:fi};var mi=function(t){return 1-Math.sqrt(1-t*t)},vi={default:mi,__moduleExports:mi};var gi=function(t){return Math.sqrt(1- --t*t)},yi={default:gi,__moduleExports:gi};var bi=function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1},_i={default:bi,__moduleExports:bi};var wi=function(t){return t*t*t},xi={default:wi,__moduleExports:wi};var Mi=function(t){var e=t-1;return e*e*e+1},Ei={default:Mi,__moduleExports:Mi};var ki=function(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1},Oi={default:ki,__moduleExports:ki};var ji=function(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))},Ai={default:ji,__moduleExports:ji};var Si=function(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1},Ci={default:Si,__moduleExports:Si};var Pi=function(t){return 0===t||1===t?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1},Ti={default:Pi,__moduleExports:Pi};var Ii=function(t){return 0===t?t:Math.pow(2,10*(t-1))},Fi={default:Ii,__moduleExports:Ii};var qi=function(t){return 1===t?t:1-Math.pow(2,-10*t)},zi={default:qi,__moduleExports:qi};var Li=function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},Xi={default:Li,__moduleExports:Li};var Ni=function(t){return t*t},Yi={default:Ni,__moduleExports:Ni};var Ri=function(t){return-t*(t-2)},Di={default:Ri,__moduleExports:Ri};var Wi=function(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1},Ui={default:Wi,__moduleExports:Wi};var Vi=function(t){return Math.pow(t,4)},Bi={default:Vi,__moduleExports:Vi};var Gi=function(t){return Math.pow(t-1,3)*(1-t)+1},Zi={default:Gi,__moduleExports:Gi};var Hi=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},$i={default:Hi,__moduleExports:Hi};var Ji=function(t){return t*t*t*t*t},Qi={default:Ji,__moduleExports:Ji};var Ki=function(t){return--t*t*t*t*t+1},to={default:Ki,__moduleExports:Ki};var eo=function(t){return-.5*(Math.cos(Math.PI*t)-1)},no={default:eo,__moduleExports:eo};var ro=function(t){var e=Math.cos(t*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e},io={default:ro,__moduleExports:ro};var oo=function(t){return Math.sin(t*Math.PI/2)},ao={default:oo,__moduleExports:oo},so={backInOut:ei&&ti||ei,backIn:ri&&ni||ri,backOut:oi&&ii||oi,bounceInOut:ui&&li||ui,bounceIn:pi&&ci||pi,bounceOut:hi,circInOut:di&&fi||di,circIn:vi&&mi||vi,circOut:yi&&gi||yi,cubicInOut:_i&&bi||_i,cubicIn:xi&&wi||xi,cubicOut:Ei&&Mi||Ei,elasticInOut:Oi&&ki||Oi,elasticIn:Ai&&ji||Ai,elasticOut:Ci&&Si||Ci,expoInOut:Ti&&Pi||Ti,expoIn:Fi&&Ii||Fi,expoOut:zi&&qi||zi,linear:Fr&&Ir||Fr,quadInOut:Xi&&Li||Xi,quadIn:Yi&&Ni||Yi,quadOut:Di&&Ri||Di,quartInOut:Ui&&Wi||Ui,quartIn:Bi&&Vi||Bi,quartOut:Zi&&Gi||Zi,quintInOut:$i&&Hi||$i,quintIn:Qi&&Ji||Qi,quintOut:to&&Ki||to,sineInOut:no&&eo||no,sineIn:io&&ro||io,sineOut:ao&&oo||ao};t.Engine=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(e,[null].concat(t)))},t.Scenes=G,t.ImageManager=N,t.Sprites=Cr,t.Sequence=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Pr,[null].concat(t)))},t.Animations=Kr,t.Easing=so});
//# sourceMappingURL=animationvideo.umd.js.map
