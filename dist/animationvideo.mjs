var t=function(t){var i=this,e=t;if("object"!=typeof t)throw new Error("No canvas given for Engine constructor");if(t.getContext)e={canvas:t};else if(!t.canvas)throw new Error("No canvas given for Engine constructor");var n=Object.assign({},{scene:null,canvas:null,autoresize:!1},e);if(this._output={canvas:null,context:null,w:0,h:0,ratio:1},this._scene=null,this._isSceneInitialized=!1,this._newScene=null,this._lastTimestamp=0,this._timePassed=0,this._referenceRequestAnimationFrame=null,this._output.canvas=n.canvas,"object"!=typeof n.canvas||null===n.canvas||!n.canvas.getContext)throw new Error("Countn't create contect for canvas in Engine");this._output.context=n.canvas.getContext("2d"),this._output.w=this._output.canvas.width,this._output.h=this._output.canvas.height,this._output.ratio=this._output.w/this._output.h,n.autoresize&&(window.addEventListener("resize",this.maximizeCanvas,!1),window.addEventListener("orientationchange",this.maximizeCanvas,!1),this.resize(),n.canvas.addEventListener("click",function(){i._isSceneInitialized&&i._scene.audioElement&&i._scene.audioElement.play()},!1)),this.switchScene(n.scene),this.normalizeContext(this._output.context)};t.prototype.normalizeContext=function(t){t.textBaseline="middle",t.textAlign="center",t.globalAlpha=1,t.globalCompositeOperation="source-over"},t.prototype.getWidth=function(){return this._output.w},t.prototype.getHeight=function(){return this._output.h},t.prototype.maximizeCanvas=function(){var t=self.output.canvas,i=window.innerWidth,e=window.innerHeight;i/e>self.output.ratio?(i=e*self.output.ratio,t.style.height=e+"px",t.style.width=i+"px"):(e=i/self.output.ratio,t.style.width=i+"px",t.style.height=e+"px"),t.style.marginTop=-e/2+"px",t.style.marginLeft=-i/2+"px",$(self.output.canvas).css({width:i,height:e}),$(self.output.canvas).siblings().css({width:i})},t.prototype.switchScene=function(t){return t&&(this._newScene=t),this},t.prototype.loadingscreen=function(){var t=this._output.context;t.globalCompositeOperation="source-over",t.globalAlpha=1,t.fillStyle="rgba(0,0,0,0.5)",t.fillRect(0,0,this._output.w,this._output.h),t.font="20px Georgia",t.fillStyle="#FFF";var i=this._isSceneInitialized?this._scene.getPercentLoaded():0;t.textAlign="left",t.textBaseline="bottom",t.fillText("Loading "+i+"%",10+3*Math.random(),this._output.h-10+3*Math.random()),this.normalizeContext(t)},t.prototype.run=function(t){t=t||{},this._referenceRequestAnimationFrame=window.requestAnimationFrame(function i(){if(this._referenceRequestAnimationFrame=window.requestAnimationFrame(i.bind(this)),null!==this._newScene){var e=this._scene?this._scene.destroy(this._output):t;e&&(this._newScene.callInit(this._output,e,this),this._scene=this._newScene,this._newScene=null,this._isSceneInitialized=!1)}if(this._scene){var n=this._scene.currentTime();this._timePassed=this._scene.clampTime(n-this._lastTimestamp),this._lastTimestamp=n,this._isSceneInitialized?0!==this._timePassed&&(this._scene.move(this._output,this._timePassed),this._timePassed<0&&(this._timePassed=this._scene.totalTimePassed),this._scene.draw(this._output)):this._isSceneInitialized=this._scene.callLoading(this._output)}}.bind(this))},t.prototype.destroy=function(){this._referenceRequestAnimationFrame&&window.cancelAnimationFrame(this._referenceRequestAnimationFrame),this._referenceRequestAnimationFrame=null};var i=function(){};i.add=function(t,e){var n=this||i,r=function(i){n.Images[i]?e&&"function"==typeof e[i]&&e[i](i,n.Images[i]):(n.Images[i]=new window.Image,n.Images[i].onload=function(){n.loaded++,e&&"function"==typeof e?n.isLoaded()&&e():e&&"function"==typeof e[i]&&e[i](i,n.Images[i])},n.Images[i].src=t[i],n.count++)};for(var a in t)r(a);return e&&"function"==typeof e&&n.isLoaded()&&e(),n},i.reset=function(){var t=this||i;return t.Images={},t.count=0,t.loaded=0,t},i.getLoaded=function(){return(this||i).loaded},i.getCount=function(){return(this||i).count},i.isLoaded=function(){var t=this||i;return t.loaded===t.count},i.getImage=function(t){return"object"==typeof t?t:(this||i).Images[t]},i.Images={},i.count=0,i.loaded=0;var e=function(){this.layer=[],this.isFunction=[],this.start=0,this.nextFree=0};e.prototype.addElement=function(t){var i=this.layer.length,e=this.nextFree;this.layer[e]=t,this.isFunction[e]="function"==typeof t,i===e&&i++;for(var n=this.nextFree+1;n!==i&&layer[n];)n++;return this.nextFree=n,this.start>e&&(this.start=e),e},e.prototype.addElements=function(t){var i=this,e=this.layer.length;return e===this.nextFree?(this.layer=this.layer.concat(t),this.nextFree=this.layer.length,t.forEach(function(t,n){i.isFunction[e+n]="function"==typeof t}),Array.from({length:t.length},function(t,i){return i+e})):t.map(function(t){return i.addElement(t)})},e.prototype.getById=function(t){return this.layer[t]},e.prototype.getIdByElement=function(t){return this.layer.indexOf(t)},e.prototype.deleteByElement=function(t){var i=this.getIdByElement(t);i>=0&&this.deleteById(i)},e.prototype.deleteById=function(t){var i=this.layer.length-1;if(i>0&&t===i){for(this.layer[t]=null;i&&!this.layer[i-1];)i--;this.layer.length=i,this.isFunction.length=i,this.nextFree=Math.min(this.nextFree,i),this.start=Math.min(this.start,i)}else this.layer[t]=null,this.nextFree=Math.min(this.nextFree,t),this.start===t&&(this.start=t+1)},e.prototype.forEach=function(t){var i,e,n=this.layer.length;for(i=this.start;i<n;i++)(e=this.layer[i])&&t({index:i,element:e,isFunction:this.isFunction[i],layer:this})},e.prototype.count=function(){return this.layer.length},e.prototype.clear=function(){this.layer=[],this.isFunction=[],this.start=0,this.nextFree=0};var n=function(){this.layers=[]};function r(t){for(var i=[],e=arguments.length-1;e-- >0;)i[e]=arguments[e+1];return"function"==typeof t?t.apply(null,i):t}n.prototype.addLayer=function(){return this.layers[this.layers.length]=new e,this.layers[this.layers.length-1]},n.prototype.addLayersForIds=function(t){var i=this;void 0===t&&(t=1);var n=Array.from({length:t},function(t,e){return e+i.layers.length});return this.layers=this.layers.concat(Array.from({length:t},function(t){return new e})),n},n.prototype.getById=function(t){return this.layers[t]},n.prototype.forEach=function(t){var i,e=this.layers.length;for(i=0;i<e;i++)this.layers[i].forEach(t)},n.prototype.count=function(){return this.layers.length},n.prototype.clear=function(){this.layers=[]};var a=function(t){this.configuration="function"==typeof t?new t:t,this.layerManager=new n,this.totalTimePassed=0,this.engine=null,this.initDone=!1,this.additionalModifier=void 0};a.prototype.currentTime=function(){return Date.now()},a.prototype.clampTime=function(t){return t>2e3?2e3:t},a.prototype.callInit=function(t,e,n){var a=this;this.engine=n,this.resize(t);var o=r(this.configuration.images);o&&i.add(o),Promise.resolve(this.configuration.init&&this.configuration.init({engine:n,output:t,scene:this,parameter:e})).then(function(t){return a.initDone=!0})},a.prototype.resize=function(t){this.additionalModifier={a:1,x:0,y:0,w:t.w,h:t.h,orgW:t.w,orgH:t.h}},a.prototype.callDestroy=function(t){this.configuration.destroy&&this.configuration.destroy({engine:this.engine,scene:this,output:t}),this.initDone=!1},a.prototype.loadingscreen=function(t,i){var e=t.context,n=Math.max(1,i*t.h);e.globalCompositeOperation="source-over",e.globalAlpha=1,e.clearRect(0,0,t.w,t.h),e.fillStyle="#aaa",e.fillRect(0,t.h/2-n/2,t.w,n),e.font="20px Georgia",e.fillStyle="#fff",e.textAlign="left",e.textBaseline="bottom";var r=i;isNaN(parseFloat(i))||isNaN(i-0)||(r="Loading "+Math.round(100*i)+"%"),e.fillText(r,10+3*Math.random(),t.h-10+3*Math.random()),this.engine&&this.engine.normalizeContext(e)},a.prototype.callLoading=function(t){if(i.isLoaded()&&this.initDone)return this.reset(t),!0;var e=i.getCount()?i.getLoaded()/i.getCount():"Loading...";return this.configuration.loading?this.configuration.loading({engine:this.engine,scene:this,output:t,value:e}):this.loadingscreen(t,e),!1},a.prototype.move=function(t,i){this.totalTimePassed+=i,i<0?(this.reset(t),i=this.totalTimePassed):this.configuration.endTime&&this.configuration.endTime<=this.totalTimePassed&&(i-=this.totalTimePassed-this.endTime,this.totalTimePassed=this.endTime,this.configuration.end&&this.configuration.end({engine:this.engine,scene:this,output:t})),this.configuration.beforeMove&&this.configuration.beforeMove({engine:this.engine,scene:this,layerManager:this.layerManager,output:t,timepassed:i}),this.layerManager.forEach(function(t){var e=t.layer,n=t.index;t.isFunction||t.element.animate(i)&&e.deleteById(n)}),this.configuration.afterMove&&this.configuration.afterMove({engine:this.engine,scene:this,layerManager:this.layerManager,output:t,timepassed:i})},a.prototype.draw=function(t){var i=this;this.layerManager.forEach(function(e){var n=e.layer,r=e.element,a=e.index;e.isFunction?r({engine:i.engine,scene:i,layerManager:i.layerManager,layer:n,output:t,timepassed:i.totalTimePassed})&&n.deleteById(a):r.draw(t.context,i.additionalModifier)})},a.prototype.reset=function(t){var i=this.configuration.reset?this.configuration.reset({engine:this.engine,scene:this,layerManager:this.layerManager,output:t}):new n;if(Array.isArray(i)){var e=i;i=new n,e.forEach(function(t){i.addLayer().addElements(t)})}this.layerManager=i};var o=function(t){function i(i){t.call(this),this.audioStartTime=null,this.audioPosition=null,this.enableAndroidHack=!1,this.audioElement=i}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.currentTime=function(){var i=t.prototype.currentTime.call(this);if(this.audioElement){if(this.enableAndroidHack){if(null===this.audioStartTime)return this.audioStartTime=i,this.audioPosition=this.audioElement.currentTime,1e3*this.audioElement.currentTime;if("playing"===this.audioElement.controller.playbackState){if(this.audioElement.currentTime===this.audioPosition)return 1e3*this.audioPosition+Math.min(260,i-this.audioStartTime);if(this.audioElement.currentTime-this.audioPosition<.5&&this.audioElement.currentTime>this.audioPosition&&i-this.audioStartTime<350)return this.audioStartTime=this.audioStartTime+1e3*(this.audioElement.currentTime-this.audioPosition),this.audioPosition=this.audioElement.currentTime,1e3*this.audioPosition+i-this.audioStartTime}return this.audioStartTime=i,this.audioPosition=this.audioElement.currentTime,1e3*this.audioPosition}return 1e3*this.audioElement.currentTime}return i},i.prototype.clampTime=function(t){return t},i.prototype.init=function(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];return this.audioElement&&(this.audioElement.canPlayType("audio/mp3").match(/maybe|probably/i),"function"==typeof MediaController&&(this.audioElement.controller=new MediaController,this.enableAndroidHack=!0),this.audioElement.preload="auto",this.audioElement.load()),t.prototype.init.apply(this,i)},i.prototype.callLoading=function(i){var e=t.prototype.callLoading.call(this,i);if(e&&this.audioElement){if(!(this.audioElement.readyState>=this.audioElement.HAVE_ENOUGH_DATA))return this.loadingscreen(i,"Waiting for Audio"),!1;this.audioElement.play(),this.loadingscreen(i,"Click to play")}return e},i}(a);function s(){this.reset()}s.prototype.reset=function(){return this.m=[1,0,0,1,0,0],this},s.prototype.multiply=function(t){var i=this.m[1]*t.m[0]+this.m[3]*t.m[1],e=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=this.m[0]*t.m[0]+this.m[2]*t.m[1],this.m[1]=i,this.m[2]=e,this.m[3]=n,this.m[4]=r,this.m[5]=a,this},s.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),i=-this.m[1]*t,e=-this.m[2]*t,n=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*t,this.m[1]=i,this.m[2]=e,this.m[3]=n,this.m[4]=r,this.m[5]=a,this},s.prototype.rotate=function(t){var i=Math.cos(t),e=Math.sin(t),n=this.m[1]*i+this.m[3]*e,r=this.m[0]*-e+this.m[2]*i,a=this.m[1]*-e+this.m[3]*i;return this.m[0]=this.m[0]*i+this.m[2]*e,this.m[1]=n,this.m[2]=r,this.m[3]=a,this},s.prototype.translate=function(t,i){return this.m[4]+=this.m[0]*t+this.m[2]*i,this.m[5]+=this.m[1]*t+this.m[3]*i,this},s.prototype.scale=function(t,i){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=i,this.m[3]*=i,this},s.prototype.transformPoint=function(t,i){var e=t;return[t=e*this.m[0]+i*this.m[2]+this.m[4],i=e*this.m[1]+i*this.m[3]+this.m[5]]},s.prototype.clone=function(){var t=new s;return t.m=this.m.slice(0),t};var h=function(t){function i(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];t.apply(this,i),this.transform=null,this.transformInvert=null}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype._getViewport=function(){if(!this.engine)return new s;if(!this.transform){var t=this.engine._output.w/2,i=this.engine._output.h/2,e=this.engine._output.ratio>1?t:i;this.transform=(new s).translate(t,i).scale(e,e),this.transformInvert=null}return this.transform},i.prototype.resize=function(t){this.transform=void 0,this.additionalModifier={a:1,x:-1,y:-1,w:2,h:2,orgW:t.w,orgH:t.h}},i.prototype.transformPoint=function(t,i){return this.transformInvert||(this.transformInvert=this._getViewport().clone().invert()),this.transformInvert.transformPoint(t,i)},i.prototype.draw=function(i){var e;i.context.save(),(e=i.context).setTransform.apply(e,this._getViewport().m),t.prototype.draw.call(this,i),i.context.restore()},i}(a),l=function(t){function i(i){t.call(this,i)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.resize=function(t){this.additionalModifier={a:1,x:-1,y:-1,w:2,h:2,orgW:t.w,orgH:t.h}},i.prototype.draw=function(i){i.context.save(),i.context.translate(i.w/2,i.h/2),i.context.scale(i.w,i.h),i.context.translate(-.5,-.5),t.prototype.draw.call(this,i),i.context.restore()},i}(o),c={Default:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(a,[null].concat(t)))},Audio:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(o,[null].concat(t)))},Norm:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(h,[null].concat(t)))},NormAudio:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(l,[null].concat(t)))}};function u(t,i){return null==t||""===t?i:t}var p=function(t){this.x=u(r(t.x),0),this.y=u(r(t.y),0),this.arc=u(r(t.arc),0),this.scaleX=u(r(t.scaleX),1),this.scaleY=u(r(t.scaleY),1),this.a=u(r(t.a),1),this.alphaMode=u(r(t.alphaMode),"source-over"),this.color=u(r(t.color),"#fff"),this.animation=r(t.animation),this.enabled=u(r(t.enabled),!0)};p.prototype.changeAnimationStatus=function(t){"object"==typeof this.animation&&this.animation.changeAnimationStatus(t)},p.prototype.animate=function(t){return"object"==typeof this.animation&&this.animation.run(this,t,!0)>=0&&(this.enabled=!1,!0)},p.prototype.draw=function(t,i){this.enabled&&(t.globalCompositeOperation=this.alphaMode,t.globalAlpha=this.a*i.a,t.save(),t.translate(this.x,this.y),t.scale(this.scaleX,this.scaleY),t.beginPath(),t.fillStyle=this.color,t.arc(0,0,1,.017453292519943295*(90+this.arc),.017453292519943295*(450-this.arc),!1),t.fill(),t.closePath(),t.restore())};var f=function(t){function i(i){t.call(this,i),this.callback=i.callback}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.draw=function(t,i){this.enabled&&this.callback(t,i,this)},i}(p),d=function(t){function i(i){t.call(this,i),this.sprite=u(i.sprite,[])}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.changeAnimationStatus=function(i){for(var e in t.prototype.changeAnimationStatus.call(this,i),this.sprite)this.sprite[e].changeAnimationStatus(i)},i.prototype.animate=function(i){var e=t.prototype.animate.call(this,i),n=!0;if(this.enabled)for(var r in this.sprite)n=this.sprite[r].animate(i)&&n;return this.animation?e:(n&&(this.enabled=!1),n)},i.prototype.draw=function(t,i){if(this.enabled){for(var e in this.a<1&&((i=Object.assign({},i)).a*=this.a),t.save(),t.translate(this.x,this.y),t.scale(this.scaleX,this.scaleY),t.rotate(.017453292519943295*this.arc),this.sprite)this.sprite[e].draw(t,i);t.restore()}},i}(p),m=function(t){function i(i){t.call(this,i),this.width=r(i.width),this.height=r(i.height)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.generateTempCanvas=function(t,i){var e=t.canvas.width,n=t.canvas.height;this.temp_canvas=document.createElement("canvas"),this.temp_canvas.width=Math.round(e/this.scaleX),this.temp_canvas.height=Math.round(n/this.scaleY),this.tctx=this.temp_canvas.getContext("2d"),this.tctx.globalCompositeOperation="source-over",this.tctx.globalAlpha=1,this.width||(this.width=i.w),this.height||(this.height=i.h)},i.prototype.draw=function(t,i){if(this.enabled){this.temp_canvas||this.generateTempCanvas(t,i);var e=this.width,n=this.height,r=e/2,a=n/2;for(var o in this.sprite)this.sprite[o].draw(this.tctx,!1);t.save(),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=this.a*i.a,t.translate(this.x+r,this.y+a),t.scale(this.scaleX,this.scaleY),t.rotate(.017453292519943295*this.arc),t.drawImage(this.temp_canvas,0,0,this.temp_canvas.width,this.temp_canvas.height,-r,-a,e,n),t.restore()}},i}(d),g=function(t){function i(i){t.call(this,i.self||{});var e={},n={};for(var a in i)-1===["self","class","count"].indexOf(a)&&("function"==typeof i[a]?n[a]=i[a]:e[a]=i[a]);var o=u(r(i.count),1);this.sprite=[];for(var s=0;s<o;s++){var h=i.class,l={};for(var c in e)l[c]=e[c];for(var p in n)l[p]=n[p].call(null,s);this.sprite[s]=new h(l)}}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i}(d),y=function(t){function i(i){t.call(this,i),this.width=r(i.width),this.height=r(i.height),this.darker=u(r(i.darker),0),this.pixel=u(r(i.pixel),!1),this.clear=u(r(i.clear),!1)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.generateTempCanvas=function(t,i){var e=t.canvas.width,n=t.canvas.height;this.temp_canvas=document.createElement("canvas"),this.temp_canvas.width=Math.ceil(e/this.scaleX),this.temp_canvas.height=Math.ceil(n/this.scaleY),this.tctx=this.temp_canvas.getContext("2d"),this.tctx.globalCompositeOperation="source-over",this.tctx.globalAlpha=1,this.x||(this.x=i.x),this.y||(this.y=i.y),this.width||(this.width=i.w),this.height||(this.height=i.h)},i.prototype.draw=function(t,i){if(this.enabled){this.temp_canvas||this.generateTempCanvas(t,i);var e=this.a*i.a,n=this.width,r=this.height,a=Math.round(n*i.orgW/i.w/this.scaleX),o=Math.round(r*i.orgH/i.h/this.scaleY);e>0&&a&&o&&(this.tctx.globalCompositeOperation="copy",this.tctx.globalAlpha=1,this.tctx.drawImage(t.canvas,0,0,t.canvas.width,t.canvas.height,0,0,a,o),this.darker>0&&(this.tctx.globalCompositeOperation=this.clear?"source-atop":"source-over",this.tctx.fillStyle="rgba(0,0,0,"+this.darker+")",this.tctx.fillRect(0,0,a,o)),this.clear&&t.clearRect(this.x,this.y,n,r),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=e,t.imageSmoothingEnabled=!this.pixel,t.drawImage(this.temp_canvas,0,0,a,o,this.x,this.y,n,r),t.imageSmoothingEnabled=!0)}else this.clear&&(this.x||(this.x=i.x),this.y||(this.y=i.y),this.width||(this.width=i.w),this.height||(this.height=i.h),t.clearRect(this.x,this.y,this.width,this.height))},i}(p),v=function(t){function e(n){t.call(this,n),this.image=i.getImage(r(n.image)),this.position=u(r(n.position),e.CENTER),this.frameX=u(r(n.frameX),0),this.frameY=u(r(n.frameY),0),this.frameWidth=u(r(n.frameWidth),0),this.frameHeight=u(r(n.frameHeight),0)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.draw=function(t,i){if(this.enabled){var n=this.frameWidth||this.image.width,r=this.frameHeight||this.image.height,a=n*this.scaleX,o=r*this.scaleY;t.globalCompositeOperation=this.alphaMode,t.globalAlpha=this.a*i.a,0==this.arc?this.position===e.LEFT_TOP?t.drawImage(this.image,this.frameX,this.frameY,n,r,this.x,this.y,a,o):t.drawImage(this.image,this.frameX,this.frameY,n,r,this.x-a/2,this.y-o/2,a,o):(t.save(),t.translate(this.x,this.y),t.rotate(.017453292519943295*this.arc),t.drawImage(this.image,this.frameX,this.frameY,n,r,-(a>>1),-(o>>1),a,o),t.restore())}},e}(p);v.LEFT_TOP=0,v.CENTER=1;var b=function(t){function i(e){t.call(this,e),this.text=r(e.text),this.font=u(r(e.font),"26px monospace"),this.position=u(r(e.position),i.CENTER),this.color=r(e.color),this.borderColor=r(e.borderColor),this.lineWidth=u(r(e.lineWidth),1)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.draw=function(t,e){this.enabled&&(t.globalCompositeOperation=this.alphaMode,t.globalAlpha=this.a*e.a,t.save(),i.LEFT_TOP&&(t.textAlign="left",t.textBaseline="top"),t.translate(this.x,this.y),t.scale(this.scaleX,this.scaleY),t.rotate(.017453292519943295*this.arc),t.font=this.font,this.color&&(t.fillStyle=this.color,t.fillText(this.text,0,0)),this.borderColor&&(t.strokeStyle=this.borderColor,t.lineWidth=this.lineWidth,t.strokeText(this.text,0,0)),t.restore())},i}(p);function w(t,i){return t(i={exports:{}},i.exports),i.exports}b.LEFT_TOP=0,b.CENTER=1,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var M={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},x=w(function(t){var i=Array.prototype.concat,e=Array.prototype.slice,n=t.exports=function(t){for(var n,r=[],a=0,o=t.length;a<o;a++){var s=t[a];(n=s)&&"string"!=typeof n&&(n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&"String"!==n.constructor.name))?r=i.call(r,e.call(s)):r.push(s)}return r};n.wrap=function(t){return function(){return t(n(arguments))}}}),_=w(function(t){var i={};for(var e in M)M.hasOwnProperty(e)&&(i[M[e]]=e);var n=t.exports={to:{},get:{}};function r(t,i,e){return Math.min(Math.max(i,t),e)}function a(t){var i=t.toString(16).toUpperCase();return i.length<2?"0"+i:i}n.get=function(t){var i,e;switch(t.substring(0,3).toLowerCase()){case"hsl":i=n.get.hsl(t),e="hsl";break;case"hwb":i=n.get.hwb(t),e="hwb";break;default:i=n.get.rgb(t),e="rgb"}return i?{model:e,value:i}:null},n.get.rgb=function(t){if(!t)return null;var i,e,n,a=[0,0,0,1];if(i=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=i[2],i=i[1],e=0;e<3;e++){var o=2*e;a[e]=parseInt(i.slice(o,o+2),16)}n&&(a[3]=Math.round(parseInt(n,16)/255*100)/100)}else if(i=t.match(/^#([a-f0-9]{3,4})$/i)){for(n=(i=i[1])[3],e=0;e<3;e++)a[e]=parseInt(i[e]+i[e],16);n&&(a[3]=Math.round(parseInt(n+n,16)/255*100)/100)}else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(e=0;e<3;e++)a[e]=parseInt(i[e+1],0);i[4]&&(a[3]=parseFloat(i[4]))}else{if(!(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(i=t.match(/(\D+)/))?"transparent"===i[1]?[0,0,0,0]:(a=M[i[1]])?(a[3]=1,a):null:null;for(e=0;e<3;e++)a[e]=Math.round(2.55*parseFloat(i[e+1]));i[4]&&(a[3]=parseFloat(i[4]))}for(e=0;e<3;e++)a[e]=r(a[e],0,255);return a[3]=r(a[3],0,1),a},n.get.hsl=function(t){if(!t)return null;var i=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(i){var e=parseFloat(i[4]);return[(parseFloat(i[1])+360)%360,r(parseFloat(i[2]),0,100),r(parseFloat(i[3]),0,100),r(isNaN(e)?1:e,0,1)]}return null},n.get.hwb=function(t){if(!t)return null;var i=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(i){var e=parseFloat(i[4]);return[(parseFloat(i[1])%360+360)%360,r(parseFloat(i[2]),0,100),r(parseFloat(i[3]),0,100),r(isNaN(e)?1:e,0,1)]}return null},n.to.hex=function(){var t=x(arguments);return"#"+a(t[0])+a(t[1])+a(t[2])+(t[3]<1?a(Math.round(255*t[3])):"")},n.to.rgb=function(){var t=x(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},n.to.rgb.percent=function(){var t=x(arguments),i=Math.round(t[0]/255*100),e=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+i+"%, "+e+"%, "+n+"%)":"rgba("+i+"%, "+e+"%, "+n+"%, "+t[3]+")"},n.to.hsl=function(){var t=x(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},n.to.hwb=function(){var t=x(arguments),i="";return t.length>=4&&1!==t[3]&&(i=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+i+")"},n.to.keyword=function(t){return i[t.slice(0,3)]}}),E=w(function(t){var i={};for(var e in M)M.hasOwnProperty(e)&&(i[M[e]]=e);var n=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var r in n)if(n.hasOwnProperty(r)){if(!("channels"in n[r]))throw new Error("missing channels property: "+r);if(!("labels"in n[r]))throw new Error("missing channel labels property: "+r);if(n[r].labels.length!==n[r].channels)throw new Error("channel and label counts mismatch: "+r);var a=n[r].channels,o=n[r].labels;delete n[r].channels,delete n[r].labels,Object.defineProperty(n[r],"channels",{value:a}),Object.defineProperty(n[r],"labels",{value:o})}n.rgb.hsl=function(t){var i,e,n=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(n,r,a),s=Math.max(n,r,a),h=s-o;return s===o?i=0:n===s?i=(r-a)/h:r===s?i=2+(a-n)/h:a===s&&(i=4+(n-r)/h),(i=Math.min(60*i,360))<0&&(i+=360),e=(o+s)/2,[i,100*(s===o?0:e<=.5?h/(s+o):h/(2-s-o)),100*e]},n.rgb.hsv=function(t){var i,e,n,r,a,o=t[0]/255,s=t[1]/255,h=t[2]/255,l=Math.max(o,s,h),c=l-Math.min(o,s,h),u=function(t){return(l-t)/6/c+.5};return 0===c?r=a=0:(a=c/l,i=u(o),e=u(s),n=u(h),o===l?r=n-e:s===l?r=1/3+i-n:h===l&&(r=2/3+e-i),r<0?r+=1:r>1&&(r-=1)),[360*r,100*a,100*l]},n.rgb.hwb=function(t){var i=t[0],e=t[1],r=t[2];return[n.rgb.hsl(t)[0],1/255*Math.min(i,Math.min(e,r))*100,100*(r=1-1/255*Math.max(i,Math.max(e,r)))]},n.rgb.cmyk=function(t){var i,e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*((1-e-(i=Math.min(1-e,1-n,1-r)))/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},n.rgb.keyword=function(t){var e=i[t];if(e)return e;var n,r,a,o=Infinity;for(var s in M)if(M.hasOwnProperty(s)){var h=(r=t,a=M[s],Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)+Math.pow(r[2]-a[2],2));h<o&&(o=h,n=s)}return n},n.keyword.rgb=function(t){return M[t]},n.rgb.xyz=function(t){var i=t[0]/255,e=t[1]/255,n=t[2]/255;return[100*(.4124*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.3576*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*i+.7152*e+.0722*n),100*(.0193*i+.1192*e+.9505*n)]},n.rgb.lab=function(t){var i=n.rgb.xyz(t),e=i[0],r=i[1],a=i[2];return r/=100,a/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(e-r),200*(r-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},n.hsl.rgb=function(t){var i,e,n,r,a,o=t[0]/360,s=t[1]/100,h=t[2]/100;if(0===s)return[a=255*h,a,a];i=2*h-(e=h<.5?h*(1+s):h+s-h*s),r=[0,0,0];for(var l=0;l<3;l++)(n=o+1/3*-(l-1))<0&&n++,n>1&&n--,r[l]=255*(a=6*n<1?i+6*(e-i)*n:2*n<1?e:3*n<2?i+(e-i)*(2/3-n)*6:i);return r},n.hsl.hsv=function(t){var i=t[0],e=t[1]/100,n=t[2]/100,r=e,a=Math.max(n,.01);return e*=(n*=2)<=1?n:2-n,r*=a<=1?a:2-a,[i,100*(0===n?2*r/(a+r):2*e/(n+e)),(n+e)/2*100]},n.hsv.rgb=function(t){var i=t[0]/60,e=t[1]/100,n=t[2]/100,r=Math.floor(i)%6,a=i-Math.floor(i),o=255*n*(1-e),s=255*n*(1-e*a),h=255*n*(1-e*(1-a));switch(n*=255,r){case 0:return[n,h,o];case 1:return[s,n,o];case 2:return[o,n,h];case 3:return[o,s,n];case 4:return[h,o,n];case 5:return[n,o,s]}},n.hsv.hsl=function(t){var i,e,n,r=t[0],a=t[1]/100,o=t[2]/100,s=Math.max(o,.01);return n=(2-a)*o,e=a*s,[r,100*(e=(e/=(i=(2-a)*s)<=1?i:2-i)||0),100*(n/=2)]},n.hwb.rgb=function(t){var i,e,n,r,a,o,s,h=t[0]/360,l=t[1]/100,c=t[2]/100,u=l+c;switch(u>1&&(l/=u,c/=u),n=6*h-(i=Math.floor(6*h)),0!=(1&i)&&(n=1-n),r=l+n*((e=1-c)-l),i){default:case 6:case 0:a=e,o=r,s=l;break;case 1:a=r,o=e,s=l;break;case 2:a=l,o=e,s=r;break;case 3:a=l,o=r,s=e;break;case 4:a=r,o=l,s=e;break;case 5:a=e,o=l,s=r}return[255*a,255*o,255*s]},n.cmyk.rgb=function(t){var i=t[1]/100,e=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n)),255*(1-Math.min(1,e*(1-n)+n))]},n.xyz.rgb=function(t){var i,e,n,r=t[0]/100,a=t[1]/100,o=t[2]/100;return e=-.9689*r+1.8758*a+.0415*o,n=.0557*r+-.204*a+1.057*o,i=(i=3.2406*r+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(i=Math.min(Math.max(0,i),1)),255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1))]},n.xyz.lab=function(t){var i=t[0],e=t[1],n=t[2];return e/=100,n/=108.883,i=(i/=95.047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116)-16,500*(i-e),200*(e-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},n.lab.xyz=function(t){var i,e,n;i=t[1]/500+(e=(t[0]+16)/116),n=e-t[2]/200;var r=Math.pow(e,3),a=Math.pow(i,3),o=Math.pow(n,3);return e=r>.008856?r:(e-16/116)/7.787,i=a>.008856?a:(i-16/116)/7.787,n=o>.008856?o:(n-16/116)/7.787,[i*=95.047,e*=100,n*=108.883]},n.lab.lch=function(t){var i,e=t[0],n=t[1],r=t[2];return(i=360*Math.atan2(r,n)/2/Math.PI)<0&&(i+=360),[e,Math.sqrt(n*n+r*r),i]},n.lch.lab=function(t){var i,e=t[1];return i=t[2]/360*2*Math.PI,[t[0],e*Math.cos(i),e*Math.sin(i)]},n.rgb.ansi16=function(t){var i=t[0],e=t[1],r=t[2],a=1 in arguments?arguments[1]:n.rgb.hsv(t)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(e/255)<<1|Math.round(i/255));return 2===a&&(o+=60),o},n.hsv.ansi16=function(t){return n.rgb.ansi16(n.hsv.rgb(t),t[2])},n.rgb.ansi256=function(t){var i=t[0],e=t[1],n=t[2];return i===e&&e===n?i<8?16:i>248?231:Math.round((i-8)/247*24)+232:16+36*Math.round(i/255*5)+6*Math.round(e/255*5)+Math.round(n/255*5)},n.ansi16.rgb=function(t){var i=t%10;if(0===i||7===i)return t>50&&(i+=3.5),[i=i/10.5*255,i,i];var e=.5*(1+~~(t>50));return[(1&i)*e*255,(i>>1&1)*e*255,(i>>2&1)*e*255]},n.ansi256.rgb=function(t){if(t>=232){var i=10*(t-232)+8;return[i,i,i]}var e;return t-=16,[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},n.rgb.hex=function(t){var i=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(i.length)+i},n.hex.rgb=function(t){var i=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!i)return[0,0,0];var e=i[0];3===i[0].length&&(e=e.split("").map(function(t){return t+t}).join(""));var n=parseInt(e,16);return[n>>16&255,n>>8&255,255&n]},n.rgb.hcg=function(t){var i,e=t[0]/255,n=t[1]/255,r=t[2]/255,a=Math.max(Math.max(e,n),r),o=Math.min(Math.min(e,n),r),s=a-o;return i=s<=0?0:a===e?(n-r)/s%6:a===n?2+(r-e)/s:4+(e-n)/s+4,i/=6,[360*(i%=1),100*s,100*(s<1?o/(1-s):0)]},n.hsl.hcg=function(t){var i,e=t[1]/100,n=t[2]/100,r=0;return(i=n<.5?2*e*n:2*e*(1-n))<1&&(r=(n-.5*i)/(1-i)),[t[0],100*i,100*r]},n.hsv.hcg=function(t){var i=t[2]/100,e=t[1]/100*i,n=0;return e<1&&(n=(i-e)/(1-e)),[t[0],100*e,100*n]},n.hcg.rgb=function(t){var i=t[1]/100,e=t[2]/100;if(0===i)return[255*e,255*e,255*e];var n,r=[0,0,0],a=t[0]/360%1*6,o=a%1,s=1-o;switch(Math.floor(a)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=s,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=s,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=s}return[255*(i*r[0]+(n=(1-i)*e)),255*(i*r[1]+n),255*(i*r[2]+n)]},n.hcg.hsv=function(t){var i=t[1]/100,e=i+t[2]/100*(1-i),n=0;return e>0&&(n=i/e),[t[0],100*n,100*e]},n.hcg.hsl=function(t){var i=t[1]/100,e=t[2]/100*(1-i)+.5*i,n=0;return e>0&&e<.5?n=i/(2*e):e>=.5&&e<1&&(n=i/(2*(1-e))),[t[0],100*n,100*e]},n.hcg.hwb=function(t){var i=t[1]/100,e=i+t[2]/100*(1-i);return[t[0],100*(e-i),100*(1-e)]},n.hwb.hcg=function(t){var i=1-t[2]/100,e=i-t[1]/100,n=0;return e<1&&(n=(i-e)/(1-e)),[t[0],100*e,100*n]},n.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},n.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},n.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},n.gray.hsl=n.gray.hsv=function(t){return[0,0,t[0]]},n.gray.hwb=function(t){return[0,100,t[0]]},n.gray.cmyk=function(t){return[0,0,0,t[0]]},n.gray.lab=function(t){return[t[0],0,0]},n.gray.hex=function(t){var i=255&Math.round(t[0]/100*255),e=((i<<16)+(i<<8)+i).toString(16).toUpperCase();return"000000".substring(e.length)+e},n.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});function k(t,i){return function(e){return i(t(e))}}function O(t,i){for(var e=[i[t].parent,t],n=E[i[t].parent][t],r=i[t].parent;i[r].parent;)e.unshift(i[r].parent),n=k(E[i[r].parent][r],n),r=i[r].parent;return n.conversion=e,n}var F={};Object.keys(E).forEach(function(t){F[t]={},Object.defineProperty(F[t],"channels",{value:E[t].channels}),Object.defineProperty(F[t],"labels",{value:E[t].labels});var i=function(t){for(var i=function(t){var i=function(){for(var t={},i=Object.keys(E),e=i.length,n=0;n<e;n++)t[i[n]]={distance:-1,parent:null};return t}(),e=[t];for(i[t].distance=0;e.length;)for(var n=e.pop(),r=Object.keys(E[n]),a=r.length,o=0;o<a;o++){var s=r[o],h=i[s];-1===h.distance&&(h.distance=i[n].distance+1,h.parent=n,e.unshift(s))}return i}(t),e={},n=Object.keys(i),r=n.length,a=0;a<r;a++){var o=n[a];null!==i[o].parent&&(e[o]=O(o,i))}return e}(t);Object.keys(i).forEach(function(e){var n=i[e];F[t][e]=function(t){var i=function(i){if(null==i)return i;arguments.length>1&&(i=Array.prototype.slice.call(arguments));var e=t(i);if("object"==typeof e)for(var n=e.length,r=0;r<n;r++)e[r]=Math.round(e[r]);return e};return"conversion"in t&&(i.conversion=t.conversion),i}(n),F[t][e].raw=function(t){var i=function(i){return null==i?i:(arguments.length>1&&(i=Array.prototype.slice.call(arguments)),t(i))};return"conversion"in t&&(i.conversion=t.conversion),i}(n)})});var A=F,S=[].slice,P=["keyword","gray","hex"],C={};Object.keys(A).forEach(function(t){C[S.call(A[t].labels).sort().join("")]=t});var I={};function T(t,i){if(!(this instanceof T))return new T(t,i);if(i&&i in P&&(i=null),i&&!(i in A))throw new Error("Unknown model: "+i);var e,n;if(void 0===t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof T)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var r=_.get(t);if(null===r)throw new Error("Unable to parse color from string: "+t);this.model=r.model,this.color=r.value.slice(0,n=A[this.model].channels),this.valpha="number"==typeof r.value[n]?r.value[n]:1}else if(t.length){this.model=i||"rgb";var a=S.call(t,0,n=A[this.model].channels);this.color=q(a,n),this.valpha="number"==typeof t[n]?t[n]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var o=Object.keys(t);"alpha"in t&&(o.splice(o.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var s=o.sort().join("");if(!(s in C))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=C[s];var h=A[this.model].labels,l=[];for(e=0;e<h.length;e++)l.push(t[h[e]]);this.color=q(l)}if(I[this.model])for(n=A[this.model].channels,e=0;e<n;e++){var c=I[this.model][e];c&&(this.color[e]=c(this.color[e]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function j(t,i,e){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(I[t]||(I[t]=[]))[i]=e}),t=t[0],function(n){var r;return arguments.length?(e&&(n=e(n)),(r=this[t]()).color[i]=n,r):(r=this[t]().color[i],e&&(r=e(r)),r)}}function z(t){return function(i){return Math.max(0,Math.min(t,i))}}function q(t,i){for(var e=0;e<i;e++)"number"!=typeof t[e]&&(t[e]=0);return t}T.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var i=this.model in _.to?this:this.rgb(),e=1===(i=i.round("number"==typeof t?t:1)).valpha?i.color:i.color.concat(this.valpha);return _.to[i.model](e)},percentString:function(t){var i=this.rgb().round("number"==typeof t?t:1),e=1===i.valpha?i.color:i.color.concat(this.valpha);return _.to.rgb.percent(e)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},i=A[this.model].channels,e=A[this.model].labels,n=0;n<i;n++)t[e[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new T(this.color.map(function(t){return function(i){return function(t,i){return Number(t.toFixed(i))}(i,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new T(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:j("rgb",0,z(255)),green:j("rgb",1,z(255)),blue:j("rgb",2,z(255)),hue:j(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:j("hsl",1,z(100)),lightness:j("hsl",2,z(100)),saturationv:j("hsv",1,z(100)),value:j("hsv",2,z(100)),chroma:j("hcg",1,z(100)),gray:j("hcg",2,z(100)),white:j("hwb",1,z(100)),wblack:j("hwb",2,z(100)),cyan:j("cmyk",0,z(100)),magenta:j("cmyk",1,z(100)),yellow:j("cmyk",2,z(100)),black:j("cmyk",3,z(100)),x:j("xyz",0,z(100)),y:j("xyz",1,z(100)),z:j("xyz",2,z(100)),l:j("lab",0,z(100)),a:j("lab",1),b:j("lab",2),keyword:function(t){return arguments.length?new T(t):A[this.model].keyword(this.color)},hex:function(t){return arguments.length?new T(t):_.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,i=[],e=0;e<t.length;e++){var n=t[e]/255;i[e]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*i[0]+.7152*i[1]+.0722*i[2]},contrast:function(t){var i=this.luminosity(),e=t.luminosity();return i>e?(i+.05)/(e+.05):(e+.05)/(i+.05)},level:function(t){var i=this.contrast(t);return i>=7.1?"AAA":i>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),i=0;i<3;i++)t.color[i]=255-t.color[i];return t},lighten:function(t){var i=this.hsl();return i.color[2]+=i.color[2]*t,i},darken:function(t){var i=this.hsl();return i.color[2]-=i.color[2]*t,i},saturate:function(t){var i=this.hsl();return i.color[1]+=i.color[1]*t,i},desaturate:function(t){var i=this.hsl();return i.color[1]-=i.color[1]*t,i},whiten:function(t){var i=this.hwb();return i.color[1]+=i.color[1]*t,i},blacken:function(t){var i=this.hwb();return i.color[2]+=i.color[2]*t,i},grayscale:function(){var t=this.rgb().color,i=.3*t[0]+.59*t[1]+.11*t[2];return T.rgb(i,i,i)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var i=this.hsl(),e=i.color[0];return i.color[0]=e=(e=(e+t)%360)<0?360+e:e,i},mix:function(t,i){var e=t.rgb(),n=this.rgb(),r=void 0===i?.5:i,a=2*r-1,o=e.alpha()-n.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,h=1-s;return T.rgb(s*e.red()+h*n.red(),s*e.green()+h*n.green(),s*e.blue()+h*n.blue(),e.alpha()*r+n.alpha()*(1-r))}},Object.keys(A).forEach(function(t){if(-1===P.indexOf(t)){var i=A[t].channels;T.prototype[t]=function(){if(this.model===t)return new T(this);if(arguments.length)return new T(arguments,t);var e,n="number"==typeof arguments[i]?i:this.valpha;return new T((e=A[this.model][t].raw(this.color),Array.isArray(e)?e:[e]).concat(n),t)},T[t]=function(e){return"number"==typeof e&&(e=q(S.call(arguments),i)),new T(e,t)}}});var N=T,L=function(t){function i(i){t.call(this,i)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.getGradientImage=function(t,e,n){var r,a,o=t>>4,s=e>>4,h=n>>4;if(!i.Gradient)for(i.Gradient=new Array(16),r=0;r<i.Gradient.length;r++)for(i.Gradient[r]=new Array(16),a=0;a<i.Gradient[r].length;a++)i.Gradient[r][a]=new Array(16);return i.Gradient[o][s][h]||(i.Gradient[o][s][h]=i.generateGradientImage(o,s,h)),i.Gradient[o][s][h]},i.generateGradientImage=function(t,i,e){var n=document.createElement("canvas");n.width=n.height=64;var r=n.getContext("2d");r.globalAlpha=1,r.globalCompositeOperation="source-over",r.clearRect(0,0,64,64);var a=r.createRadialGradient(32,32,0,32,32,32);return a.addColorStop(0,"rgba("+(16+(t<<4)-1)+","+(16+(i<<4)-1)+","+(16+(e<<4)-1)+",1)"),a.addColorStop(.3,"rgba("+(16+(t<<4)-1)+","+(16+(i<<4)-1)+","+(16+(e<<4)-1)+",0.4)"),a.addColorStop(1,"rgba("+(16+(t<<4)-1)+","+(16+(i<<4)-1)+","+(16+(e<<4)-1)+",0)"),r.fillStyle=a,r.fillRect(0,0,64,64),n},i.prototype.draw=function(t,e){if(this.enabled){this.color&&this.color.color||(this.color=N(this.color).rgb());var n=this.color.color;t.globalCompositeOperation=this.alphaMode,t.globalAlpha=this.a*e.a,t.imageSmoothingEnabled=this.scaleX*e.orgW/e.w>64,t.drawImage(i.getGradientImage(n[0],n[1],n[2]),0,0,64,64,this.x-this.scaleX/2,this.y-this.scaleY/2,this.scaleX,this.scaleY),t.imageSmoothingEnabled=!0}},i}(p);L.Gradient=null;var W=function(t){function i(i){t.call(this,i),this.oldPath=void 0,this.path=r(i.path),this.path2D=new Path2D,this.color=r(i.color),this.borderColor=r(i.borderColor),this.lineWidth=u(r(i.lineWidth),1),this.clip=u(r(i.clip),!1),this.fixed=u(r(i.fixed),!1)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.draw=function(t,i){var e=this;if(this.enabled){var n=this.a;this.oldPath!==this.path&&(Array.isArray(this.path)?(this.path2D=new Path2D,this.path.forEach(function(t){e.path2D.moveTo(t[0][0],t[0][1]),t.forEach(function(t){e.path2D.bezierCurveTo(t[2],t[3],t[4],t[5],t[6],t[7])}),e.path2D.closePath()})):this.path2D=new Path2D(this.path),this.oldPath=this.path),i&&(n*=i.a);var r=this.scaleX,a=this.scaleY;for(var o in this.fixed&&(0==r&&(r=1e-10),0==a&&(a=1e-10)),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=n,t.save(),t.translate(this.x,this.y),t.scale(r,a),t.rotate(.017453292519943295*this.arc),this.color&&(t.fillStyle=this.color,t.fill(this.path2D)),t.save(),this.clip&&(t.clip(this.path2D),this.fixed&&(t.rotate(.017453292519943295*-this.arc),t.scale(1/r,1/a),t.translate(-this.x,-this.y))),this.sprite)this.sprite[o].draw(t,i);t.restore(),this.borderColor&&(t.strokeStyle=this.borderColor,t.lineWidth=this.lineWidth,t.stroke(this.path2D)),t.restore()}},i}(d),X=function(t){function i(i){t.call(this,i),this.width=r(i.width),this.height=r(i.height),this.x=r(i.x),this.y=r(i.y),this.borderColor=r(i.borderColor),this.lineWidth=u(r(i.lineWidth),1),this.clear=u(r(i.clear),!1)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.draw=function(t,i){if(this.enabled)if(this.width||(this.width=i.w),this.height||(this.height=i.h),void 0===this.x&&(this.x=i.x),void 0===this.y&&(this.y=i.y),t.globalCompositeOperation=this.alphaMode,t.globalAlpha=this.a*i.a,0===this.arc)this.clear?t.clearRect(this.x,this.y,this.width,this.height):(t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height)),this.borderColor&&(t.beginPath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.borderColor,t.rect(this.x,this.y,this.width,this.height),t.stroke());else{var e=this.width/2,n=this.height/2;t.save(),t.translate(this.x+e,this.y+n),t.rotate(.017453292519943295*this.arc),this.clear?t.clearRect(-e,-n,this.width,this.height):(t.fillStyle=this.color,t.fillRect(-e,-n,this.width,this.height)),this.borderColor&&(t.beginPath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.borderColor,t.rect(-e,-n,this.width,this.height),t.stroke()),t.restore()}},i}(p),R=function(t){function i(i){var e=r(i.text),n=Array.isArray(e)?e:[].concat(e);t.call(this,Object.assign({},i,{class:b,count:n.length,text:function(t){return n[t]},enabled:function(t){return" "!==n[t]&&r(i.enabled,t)}}))}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i}(g),D=function(t){function i(i){t.call(this,i),this.count=u(r(i.count),40),this.moveX=u(r(i.moveX),0),this.moveY=u(r(i.moveY),0),this.moveZ=u(r(i.moveZ),0),this.lineWidth=r(i.lineWidth),void 0!==this.x&&void 0!==this.y&&this.width&&this.height&&this.lineWidth?this.init():this.centerX=void 0}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.init=function(){this.centerX=this.width/2+this.x,this.centerY=this.height/2+this.y,this.scaleZ=Math.max(this.width,this.height)/2,this.starsX=[],this.starsY=[],this.starsZ=[],this.starsOldX=[],this.starsOldY=[],this.starsNewX=[],this.starsNewY=[],this.starsEnabled=[],this.starsLineWidth=[];for(var t=0;t<this.count;t++)this.starsX[t]=Math.random()*this.width-this.width/2,this.starsY[t]=Math.random()*this.height-this.height/2,this.starsZ[t]=Math.random()*this.scaleZ},i.prototype.moveStar=function(t,i,e){e&&(this.starsEnabled[t]=!0);for(var n=this.width/2,r=this.height/2,a=this.starsX[t]+this.moveX*i,o=this.starsY[t]+this.moveY*i,s=this.starsZ[t]+this.moveZ*i;a<-n;)a+=this.width,o=Math.random()*this.height-r,this.starsEnabled[t]=!1;for(;a>n;)a-=this.width,o=Math.random()*this.height-r,this.starsEnabled[t]=!1;for(;o<-r;)o+=this.height,a=Math.random()*this.width-n,this.starsEnabled[t]=!1;for(;o>r;)o-=this.height,a=Math.random()*this.width-n,this.starsEnabled[t]=!1;for(;s<=0;)s+=this.scaleZ,a=Math.random()*this.width-n,o=Math.random()*this.height-r,this.starsEnabled[t]=!1;for(;s>this.scaleZ;)s-=this.scaleZ,a=Math.random()*this.width-n,o=Math.random()*this.height-r,this.starsEnabled[t]=!1;var h=this.centerX+a/s*n,l=this.centerY+o/s*r;this.starsEnabled[t]=this.starsEnabled[t]&&h>=this.x&&l>=this.y&&h<this.x+this.width&&l<this.y+this.height,e?(this.starsX[t]=a,this.starsY[t]=o,this.starsZ[t]=s,this.starsNewX[t]=h,this.starsNewY[t]=l):(this.starsOldX[t]=h,this.starsOldY[t]=l,this.starsLineWidth[t]=Math.floor(4*(1-this.starsZ[t]/this.scaleZ))+1)},i.prototype.animate=function(i){var e=t.prototype.animate.call(this,i);if(this.enabled&&void 0!==this.centerX)for(var n=this.count;n--;)this.moveStar(n,i/16,!0),this.starsEnabled[n]&&this.moveStar(n,-5,!1);return e},i.prototype.draw=function(t,i){if(this.enabled){if(void 0===this.centerX)return this.width=this.width||i.w,this.height=this.height||i.h,this.x=void 0===this.x?i.x:this.x,this.y=void 0===this.y?i.y:this.y,this.lineWidth=this.lineWidth||i.h/i.orgH/4,void this.init();if(t.globalCompositeOperation=this.alphaMode,t.globalAlpha=this.a*i.a,0==this.moveY&&0==this.moveZ&&this.moveX<0){t.fillStyle=this.color;for(var e=this.count;e--;)this.starsEnabled[e]&&t.fillRect(this.starsNewX[e],this.starsNewY[e]-this.starsLineWidth[e]*this.lineWidth/2,this.starsOldX[e]-this.starsNewX[e],this.starsLineWidth[e]*this.lineWidth)}else{t.strokeStyle=this.color;for(var n,r=5;--r;){for(t.beginPath(),t.lineWidth=r*this.lineWidth,n=this.count;n--;)this.starsEnabled[n]&&this.starsLineWidth[n]===r&&(t.moveTo(this.starsOldX[n],this.starsOldY[n]),t.lineTo(this.starsNewX[n],this.starsNewY[n]));t.stroke(),t.closePath()}}}},i}(X),Y={Callback:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(f,[null].concat(t)))},Canvas:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(m,[null].concat(t)))},Circle:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(p,[null].concat(t)))},Emitter:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(g,[null].concat(t)))},FastBlur:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(y,[null].concat(t)))},Group:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(d,[null].concat(t)))},Image:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(v,[null].concat(t)))},Text:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(b,[null].concat(t)))},Particle:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(L,[null].concat(t)))},Path:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(W,[null].concat(t)))},Rect:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(X,[null].concat(t)))},Scroller:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(R,[null].concat(t)))},StarField:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(D,[null].concat(t)))}},B=function(t,i,e){for(var n in this.loop=t,this.timeWait=u(i,0),this.animation=e||{},this.animationPosition={},this.animation)this.animationPosition[n]={position:0,timelapsed:-r(this.timeWait),object:null,loop:r("object"==typeof t?t[n]:t),enabled:!("object"==typeof t&&!1===r(t[n])||!1===r(t))},this.setObject(n);this.last_timestamp=0,this.hide_vote=!1};B.prototype.setObject=function(t){this.animationPosition[t].position<this.animation[t].length&&null!==this.animation[t][this.animationPosition[t].position]?(this.animationPosition[t].object=this.animation[t][this.animationPosition[t].position],"function"==typeof this.animationPosition[t].object.reset&&this.animationPosition[t].object.reset(),"function"!=typeof this.animationPosition[t].object.run&&(this.animationPosition[t].object={run:this.animationPosition[t].object})):this.animationPosition[t].object=null},B.prototype.changeAnimationStatus=function(t){var i;for(i in t)"object"==typeof this.animationPosition[i]&&(null!==t[i].position&&(this.animationPosition[i].position=t[i].position),null!==t[i].loop&&(this.animationPosition[i].loop=t[i].loop,this.animationPosition[i].enabled=!(!1===t[i].loop)),null!==t[i].timelapsed&&(this.animationPosition[i].timelapsed=t[i].timelapsed),this.setObject(i));for(i in this.animation)"object"==typeof this.animationPosition[i]&&this.animationPosition[i].object instanceof B&&this.animationPosition[i].object.changeAnimationStatus(t)},B.prototype.run=function(t,i,e){var n=i,r=0,a=0,o=0,s=0,h=null;for(var l in e||(n=i-this.last_timestamp,this.last_timestamp=i),this.animation)if(o++,!0===(h=this.animationPosition[l]).enabled)if(s=n,null===h.object)r++,a++,s=0;else if(s>0)for(;s>0;)if(h.timelapsed+=s,h.timelapsed>=0){if(!0===(s=h.object.run(t,h.timelapsed))&&(s=0),s===B.TIMELAPSE_TO_FORCE_DISABLE)return n;s===B.TIMELAPSE_TO_STOP?(h.timelapsed=0,this.setObject(l),h.object=null,s=0):!1!==s&&s>=0&&(h.position++,h.position>=this.animation[l].length&&(!0!==h.loop&&h.loop--,h.loop?h.position=h.position%this.animation[l].length:h.enabled=!1),h.timelapsed=0,this.setObject(l),h.enabled||(h.object=null,h.enabled=!0),null===h.object&&(r++,s=0))}else s=0,a++;else a++;if(o>0){if(r===o)return n;t.enabled&&a===o?(t.enabled=!1,this.hide_vote=!0):this.hide_vote&&a!==o&&(this.hide_vote=!1,t.enabled=!0)}return-1},B.TIMELAPSE_TO_FORCE_DISABLE="FORCE_DISABLE",B.TIMELAPSE_TO_STOP="STOP";var V=function(t,i){this.callback=t,this.duration=u(r(i),void 0),this.initialized=!1};V.prototype.reset=function(){this.initialized=!1},V.prototype.run=function(t,i){var e;return void 0!==this.duration?(this.callback(t,Math.min(i,this.duration),!this.initialized),this.initialized=!0,i-this.duration):(e=this.callback(t,i,!this.initialized),this.initialized=!0,e)};var U=w(function(t,i){t.exports=function(){var t=2*Math.PI,i=function(t,i,e,n,r,a,o){var s=t.x,h=t.y;return{x:n*(s*=i)-r*(h*=e)+a,y:r*s+n*h+o}},e=function(t,i){var e=4/3*Math.tan(i/4),n=Math.cos(t),r=Math.sin(t),a=Math.cos(t+i),o=Math.sin(t+i);return[{x:n-r*e,y:r+n*e},{x:a+o*e,y:o-a*e},{x:a,y:o}]},n=function(t,i,e,n){var r=t*n-i*e<0?-1:1,a=(t*e+i*n)/(Math.sqrt(t*t+i*i)*Math.sqrt(t*t+i*i));return a>1&&(a=1),a<-1&&(a=-1),r*Math.acos(a)},r=function(r){var a=r.px,o=r.py,s=r.cx,h=r.cy,l=r.rx,c=r.ry,u=r.xAxisRotation,p=void 0===u?0:u,f=r.largeArcFlag,d=void 0===f?0:f,m=r.sweepFlag,g=void 0===m?0:m,y=[];if(0===l||0===c)return[];var v=Math.sin(p*t/360),b=Math.cos(p*t/360),w=b*(a-s)/2+v*(o-h)/2,M=-v*(a-s)/2+b*(o-h)/2;if(0===w&&0===M)return[];l=Math.abs(l),c=Math.abs(c);var x=Math.pow(w,2)/Math.pow(l,2)+Math.pow(M,2)/Math.pow(c,2);x>1&&(l*=Math.sqrt(x),c*=Math.sqrt(x));var _=function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,i){var e=[],n=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(e.push(o.value),4!==e.length);n=!0);}catch(t){r=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return e}(t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(i,e,r,a,o,s,h,l,c,u,p,f){var d=Math.pow(o,2),m=Math.pow(s,2),g=Math.pow(p,2),y=Math.pow(f,2),v=d*m-d*y-m*g;v<0&&(v=0),v/=d*y+m*g;var b=(v=Math.sqrt(v)*(h===l?-1:1))*o/s*f,w=v*-s/o*p,M=u*b-c*w+(i+r)/2,x=c*b+u*w+(e+a)/2,_=(p-b)/o,E=(f-w)/s,k=(-p-b)/o,O=(-f-w)/s,F=n(1,0,_,E),A=n(_,E,k,O);return 0===l&&A>0&&(A-=t),1===l&&A<0&&(A+=t),[M,x,F,A]}(a,o,s,h,l,c,d,g,v,b,w,M)),E=_[0],k=_[1],O=_[2],F=_[3],A=Math.max(Math.ceil(Math.abs(F)/(t/4)),1);F/=A;for(var S=0;S<A;S++)y.push(e(O,F)),O+=F;return y.map(function(t){var e=i(t[0],l,c,b,v,E,k),n=e.x,r=e.y,a=i(t[1],l,c,b,v,E,k),o=a.x,s=a.y,h=i(t[2],l,c,b,v,E,k);return{x1:n,y1:r,x2:o,y2:s,x:h.x,y:h.y}})},a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=/([astvzqmhlc])([^astvzqmhlc]*)/gi,s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function h(t){var i=t[0][0],e=t[0][1],n=i,r=e;return t.forEach(function(t){var a=t[0],o=t[2],s=t[4],h=t[6],l=t[1],c=t[3],u=t[5],p=t[7];i=Math.min(i,a,o,s,h),e=Math.min(e,l,c,u,p),n=Math.max(n,a,o,s,h),r=Math.max(r,l,c,u,p)}),[i,e,n,r]}var l={};function c(t,i,e,n,r,a,o,s,h,l){var c=(e-t)*h+t,u=(n-i)*h+i,p=(r-e)*h+e,f=(a-n)*h+n,d=(p-c)*h+c,m=(f-u)*h+u,g=(((o-r)*h+r-p)*h+p-d)*h+d,y=(((s-a)*h+a-f)*h+f-m)*h+m;return l?[g,y,d,m,c,u,t,i]:[t,i,c,u,d,m,g,y]}return l.parser=function(t){var i=[];return t.replace(o,function(t,e,n){var r=e.toLowerCase();for(n=function(t){var i=t.match(s);return i?i.map(Number):[]}(n),"m"==r&&n.length>2&&(i.push([e].concat(n.splice(0,2))),r="l",e="m"==e?"l":"L");;){if(n.length==a[r])return n.unshift(e),i.push(n);if(n.length<a[r])throw new Error("malformed path data");i.push([e].concat(n.splice(0,a[r])))}}),i},l.lerpCurve=function(t,i,e){return l.lerpPoints(t[0],t[1],i[0],i[1],e).concat(l.lerpPoints(t[2],t[3],i[2],i[3],e)).concat(l.lerpPoints(t[4],t[5],i[4],i[5],e)).concat(l.lerpPoints(t[6],t[7],i[6],i[7],e))},l.lerpPoints=function(t,i,e,n,r){return[t+(e-t)*r,i+(n-i)*r]},l.q2b=function(t,i,e,n,r,a){return[t,i,(t+2*e)/3,(i+2*n)/3,(r+2*e)/3,(a+2*n)/3,r,a]},l.path2shapes=function(t){for(var i=l.parser(t),e=0,n=0,a=0,o=i.length,s=[],h=null,c=void 0,u=void 0,p=void 0,f=void 0,d=void 0,m=void 0,g=void 0;a<o;a++){var y=i[a],v=i[a-1];switch(y[0]){case"m":s[d=s.length]=[],h=s[d],e+=y[1],n+=y[2];break;case"M":s[d=s.length]=[],h=s[d],e=y[1],n=y[2];break;case"l":h.push([e,n,e,n,e,n,e+y[1],n+y[2]]),e+=y[1],n+=y[2];break;case"L":h.push([e,n,y[1],y[2],y[1],y[2],y[1],y[2]]),e=y[1],n=y[2];break;case"h":h.push([e,n,e,n,e,n,e+y[1],n]),e+=y[1];break;case"H":h.push([e,n,y[1],n,y[1],n,y[1],n]),e=y[1];break;case"v":h.push([e,n,e,n,e,n,e,n+y[1]]),n+=y[1];break;case"V":h.push([e,n,e,y[1],e,y[1],e,y[1]]),n=y[1];break;case"C":h.push([e,n,y[1],y[2],y[3],y[4],y[5],y[6]]),e=y[5],n=y[6];break;case"S":"C"===v[0]||"c"===v[0]?h.push([e,n,e+v[5]-v[3],n+v[6]-v[4],y[1],y[2],y[3],y[4]]):"S"!==v[0]&&"s"!==v[0]||h.push([e,n,e+v[3]-v[1],n+v[4]-v[2],y[1],y[2],y[3],y[4]]),e=y[3],n=y[4];break;case"c":h.push([e,n,e+y[1],n+y[2],e+y[3],n+y[4],e+y[5],n+y[6]]),e+=y[5],n+=y[6];break;case"s":"C"===v[0]||"c"===v[0]?h.push([e,n,e+v[5]-v[3],n+v[6]-v[4],e+y[1],n+y[2],e+y[3],n+y[4]]):"S"!==v[0]&&"s"!==v[0]||h.push([e,n,e+v[3]-v[1],n+v[4]-v[2],e+y[1],n+y[2],e+y[3],n+y[4]]),e+=y[3],n+=y[4];break;case"a":g=(m=r({rx:y[1],ry:y[2],px:e,py:n,xAxisRotation:y[3],largeArcFlag:y[4],sweepFlag:y[5],cx:e+y[6],cy:e+y[7]}))[m.length-1],m.forEach(function(t,i){h.push(0===i?[e,n,t.x1,t.y1,t.x2,t.y2,t.x,t.y]:[m[i-1].x,m[i-1].y,t.x1,t.y1,t.x2,t.y2,t.x,t.y])}),e=g.x,n=g.y;break;case"A":g=(m=r({rx:y[1],ry:y[2],px:e,py:n,xAxisRotation:y[3],largeArcFlag:y[4],sweepFlag:y[5],cx:y[6],cy:y[7]}))[m.length-1],m.forEach(function(t,i){h.push(0===i?[e,n,t.x1,t.y1,t.x2,t.y2,t.x,t.y]:[m[i-1].x,m[i-1].y,t.x1,t.y1,t.x2,t.y2,t.x,t.y])}),e=g.x,n=g.y;break;case"Q":h.push(l.q2b(e,n,y[1],y[2],y[3],y[4])),e=y[3],n=y[4];break;case"q":h.push(l.q2b(e,n,e+y[1],n+y[2],y[3]+e,y[4]+n)),e+=y[3],n+=y[4];break;case"T":"Q"===v[0]||"q"===v[0]?h.push(l.q2b(e,n,p=e+v[3]-v[1],f=n+v[4]-v[2],y[1],y[2])):"T"!==v[0]&&"t"!==v[0]||(h.push(l.q2b(e,n,e+e-p,n+n-f,y[1],y[2])),p=e+e-p,f=n+n-f),e=y[1],n=y[2];break;case"t":"Q"===v[0]||"q"===v[0]?h.push(l.q2b(e,n,p=e+v[3]-v[1],f=n+v[4]-v[2],e+y[1],n+y[2])):"T"!==v[0]&&"t"!==v[0]||(h.push(l.q2b(e,n,e+e-p,n+n-f,e+y[1],n+y[2])),p=e+e-p,f=n+n-f),e+=y[1],n+=y[2];break;case"Z":case"z":h.push([e,n,c=h[0][0],u=h[0][1],c,u,c,u])}}return s},l._upCurves=function(t,i){for(var e=0,n=0,r=t.length;e<i;e++)t.push(t[n].slice(0)),++n>r-1&&(n-=r)},l._splitCurves=function(t,i){for(var e,n,r,a,o,s,h,l,u=0,p=0;u<i;u++){var f=t[p],d={left:c(e=f[0],n=f[1],r=f[2],a=f[3],o=f[4],s=f[5],h=f[6],l=f[7],.5),right:c(h,l,o,s,r,a,e,n,.5,!0)};t.splice(p,1),t.splice(p,0,d.left,d.right),(p+=2)>=t.length-1&&(p=0)}},l._upShapes=function(t,i){for(var e=function(i){var e=[];t[t.length-1].forEach(function(t){e.push(t.slice(0))}),t.push(e)},n=0;n<i;n++)e()},l._subShapes=function(t,i,e){for(var n=function(t){var e=i[i.length-1],n=[],r=e[0][0],a=e[0][1];e.forEach(function(){n.push([r,a,r,a,r,a,r,a])}),i.push(n)},r=0;r<e;r++)n()},l.lerp=function(t,i,e){return l._lerp(l.path2shapes(t),l.path2shapes(i),e)},l.MIM_CURVES_COUNT=100,l._preprocessing=function(t,i){var e=t.length,n=i.length,r=JSON.parse(JSON.stringify(t)),a=JSON.parse(JSON.stringify(i));return e>n?l._subShapes(r,a,e-n):e<n&&l._upShapes(r,n-e),(r=function(t,i){var e=function(t){for(var i=[],e=0;e<t;e++)i.push(e);return n=[],r=[],function t(i){var e,a;for(e=0;e<i.length;e++)a=i.splice(e,1)[0],r.push(a),0==i.length&&n.push(r.slice()),t(i),i.splice(e,0,a),r.pop();return n}(i);var n,r}(t.length),n=[];e.forEach(function(e){var r=0;e.forEach(function(e){var n,a;r+=(n=h(t[e]),a=h(i[e]),Math.sqrt(Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2))+Math.sqrt(Math.pow(n[2]-a[2],2)+Math.pow(n[3]-a[3],2)))}),n.push({index:e,distance:r})}),n.sort(function(t,i){return t.distance-i.distance});var r=[];return n[0].index.forEach(function(i){r.push(t[i])}),r}(r,a)).forEach(function(t,i){var e=t.length,n=a[i].length;e>n?e<l.MIM_CURVES_COUNT?(l._splitCurves(t,l.MIM_CURVES_COUNT-e),l._splitCurves(a[i],l.MIM_CURVES_COUNT-n)):l._splitCurves(a[i],e-n):e<n&&(n<l.MIM_CURVES_COUNT?(l._splitCurves(t,l.MIM_CURVES_COUNT-e),l._splitCurves(a[i],l.MIM_CURVES_COUNT-n)):l._splitCurves(t,n-e))}),r.forEach(function(t,i){r[i]=function(t,i){var e=function(t){for(var i=[],e=0;e<t;e++){for(var n=[],r=0;r<t;r++){var a=r+e;a>t-1&&(a-=t),n[a]=r}i.push(n)}return i}(t.length),n=[];e.forEach(function(e){var r=0,a=0;e.forEach(function(e){var n,o,s,h,l,c,u,p,f,d,m,g,y,v,b,w;r+=(o=i[a++],s=(n=t[e])[2],h=n[4],l=n[6],c=n[1],u=n[3],p=n[5],f=n[7],d=o[2],m=o[4],g=o[6],y=o[1],v=o[3],b=o[5],w=o[7],Math.sqrt(Math.pow(o[0]-n[0],2)+Math.pow(y-c,2))+Math.sqrt(Math.pow(d-s,2)+Math.pow(v-u,2))+Math.sqrt(Math.pow(m-h,2)+Math.pow(b-p,2))+Math.sqrt(Math.pow(g-l,2)+Math.pow(w-f,2)))}),n.push({index:e,distance:r})}),n.sort(function(t,i){return t.distance-i.distance});var r=[];return n[0].index.forEach(function(i){r.push(t[i])}),r}(t,a[i])}),[r,a]},l._lerp=function(t,i,e){var n=[];return t.forEach(function(t,r){var a=[];t.forEach(function(t,n){a.push(l.lerpCurve(t,i[r][n],e))}),n.push(a)}),n},l.animate=function(t){var i=l.path2shapes(t.from),e=l.path2shapes(t.to),n=l._preprocessing(i,e),r=new Date,a=t.end||function(){},o=t.progress||function(){},s=t.easing||function(t){return t},h=null,c=null,u=t.time;(t.begin||function(){})(i),function t(){var i=new Date-r;if(i>=u)return o(c=e,1),a(c),void cancelAnimationFrame(h);var p=s(i/u);c=l._lerp(n[0],n[1],p),o(c,p),h=requestAnimationFrame(t)}()},l}()});function H(t,i){return i.from+t*i.delta}function G(t,i){for(var e,n=[].concat(i.values),r=n.length;r>1;)for(r--,e=0;e<r;e++)n[e]=n[e]+t*(n[e+1]-n[e]);return n[0]}function Z(t,i,e){return i.colorTo.mix(i.colorFrom,t).string()}function J(t,i,e){return U._lerp(i.pathFrom,i.pathTo,t)}var Q=function(t,i,e){for(var n in this.initialized=!1,this.changeValues=[],t){var a=t[n],o="color"===n,s="path"===n,h="function"==typeof a,l=!o&&Array.isArray(a);this.changeValues.push({name:n,to:l?a[a.length-1]:r(a,1,{}),bezier:!!l&&a,isColor:o,isPath:s,isFunction:!!h&&a,moveAlgorithm:o?Z:s?J:l?G:H})}this.duration=u(r(i),0),this.ease=u(e,function(t){return t})};Q.prototype.reset=function(){this.initialized=!1},Q.prototype.init=function(t,i){for(var e,n,r,a=this.changeValues.length;a--;)(r=this.changeValues[a]).isFunction?(r.from=t[r.name],r.to=r.isFunction(r.from),r.isColor?(r.colorFrom=N(r.from),r.colorTo=N(r.to),r.moveAlgorithm=Z):r.isPath?(e=U._preprocessing(U.path2shapes(r.from),U.path2shapes(r.to)),r.pathFrom=e[0],r.pathTo=e[1],r.moveAlgorithm=J):Array.isArray(r.to)?(r.values=[t[r.name]].concat(r.to),r.moveAlgorithm=G):(r.delta=r.to-r.from,r.moveAlgorithm=H)):r.isColor?(r.colorFrom=N(t[r.name]),r.colorTo=N(r.to)):r.isPath?(n=U._preprocessing(U.path2shapes(t[r.name]),U.path2shapes(r.to)),r.pathFrom=n[0],r.pathTo=n[1]):r.bezier?r.values=[t[r.name]].concat(r.bezier):(r.from=t[r.name],r.delta=r.to-r.from)},Q.prototype.run=function(t,i){if(this.initialized||(this.initialized=!0,this.init(t,i)),this.duration<=i)for(var e,n=this.changeValues.length;n--;)t[(e=this.changeValues[n]).name]=e.to;else for(var r,a=this.changeValues.length,o=this.ease(i/this.duration);a--;)t[(r=this.changeValues[a]).name]=r.moveAlgorithm(o,r,t);return i-this.duration};var K=function(){};K.prototype.run=function(t,i){return B.TIMELAPSE_TO_FORCE_DISABLE};var tt=function(){};tt.prototype.run=function(t,i){return t.enabled=!1,B.TIMELAPSE_TO_FORCE_DISABLE};var it=function(t,i){this.initialized=!1,this.image=r(t),this.durationBetweenFrames=u(r(i),0),Array.isArray(this.image)?this.count=this.image.length:(this.image=[this.image],this.count=1),this.duration=this.count*this.durationBetweenFrames};it.prototype.reset=function(){this.initialized=!1},it.prototype.run=function(t,e){if(this.initialized||(this.initialized=!0,this.current=-1),e>=this.duration)t.image=i.getImage(this.image[this.image.length-1]);else{var n=Math.floor(e/this.durationBetweenFrames);n!==this.current&&(this.current=n,t.image=i.getImage(this.image[this.current]))}return e-this.duration};var et=function(t,i,e){this.initialized=!1,this.frameNumber=r(t),this.framesToRight=u(r(i),!0),this.durationBetweenFrames=u(r(e),0),Array.isArray(this.frameNumber)?this.count=this.frameNumber.length:(this.frameNumber=[this.frameNumber],this.count=1),this.duration=this.count*this.durationBetweenFrames};et.prototype.run=function(t,i){var e;return e=i>=this.duration?this.frameNumber[this.frameNumber.length-1]:Math.floor(i/this.durationBetweenFrames),this.framesToRight?t.frameX=t.frameWidth*e:t.frameY=t.frameHeight*e,i-this.duration};var nt=function(t){function i(i,e,n,a){t.call(this,{x:i,y:e},0,a),this.speed=r(n)||1}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.init=function(i,e){if(0==this.speed||this.targetX===i.x&&this.targetY===i.y)this.duration=0;else{var n=this.changeValues[0],r=this.changeValues[1];n.from=i.x,r.from=i.y,n.delta=n.to-n.from,r.delta=r.to-r.from;var a=Math.sqrt(n.delta*n.delta+r.delta*r.delta);this.duration=10*a/this.speed}t.prototype.init.call(this,i,e)},i}(Q),rt=function(t,i){this.Aniobject=t,this.times=u(r(i),1)};rt.prototype.run=function(t,i){if(this.times<=0)return i;var e=this.Aniobject.run(t,i);return e>0&&this.times--,e};var at=function(t,i,e){this.duration=u(r(i),1),this.name=r(t),this.loop=r(u(e,1))};at.prototype.run=function(t,i){var e;return i>=this.duration&&t.changeAnimationStatus(((e={})[this.name]={position:0,timelapsed:i-this.duration,loop:this.loop},e)),i-this.duration};var ot=function(t,i){this.initialized=!1,this.duration=r(i),this.shakeDiff=r(t),this.shakeDiffHalf=this.shakeDiff/2};ot.prototype.reset=function(){this.initialized=!1},ot.prototype.run=function(t,i){return this.initialized||(this.initialized=!0,this.x=t.x,this.y=t.y),i>=this.duration?(t.x=this.x,t.y=this.y):(t.x=this.x+Math.random()*this.shakeDiff-this.shakeDiffHalf,t.y=this.y+Math.random()*this.shakeDiff-this.shakeDiffHalf),i-this.duration};var st=function(){this.showOnce=!0};st.prototype.run=function(t,i){return t.enabled=t.enabled&&this.showOnce,this.showOnce=!1,0};var ht=function(){};ht.prototype.run=function(t,i){return B.TIMELAPSE_TO_STOP};var lt=function(t){this.duration=r(t)};lt.prototype.run=function(t,i){return this.duration?i-this.duration:-1};var ct=function(t){this.duration=r(t)};ct.prototype.run=function(t,i){return t.enabled=i>=this.duration,i-this.duration};var ut={Callback:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(V,[null].concat(t)))},ChangeTo:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(Q,[null].concat(t)))},End:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(K,[null].concat(t)))},EndDisabled:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(tt,[null].concat(t)))},Image:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(it,[null].concat(t)))},ImageFrame:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(et,[null].concat(t)))},Move:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(nt,[null].concat(t)))},Once:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(rt,[null].concat(t)))},Play:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(at,[null].concat(t)))},Shake:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(ot,[null].concat(t)))},ShowOnce:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(st,[null].concat(t)))},Stop:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(ht,[null].concat(t)))},Wait:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(lt,[null].concat(t)))},WaitDisabled:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(ct,[null].concat(t)))}},pt=function(t){var i=t*t;return t<4/11?7.5625*i:t<8/11?9.075*i-9.9*t+3.4:t<.9?4356/361*i-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72},ft={backInOut:function(t){var i=2.5949095;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)},backIn:function(t){var i=1.70158;return t*t*((i+1)*t-i)},backOut:function(t){var i=1.70158;return--t*t*((i+1)*t+i)+1},bounceInOut:function(t){return t<.5?.5*(1-pt(1-2*t)):.5*pt(2*t-1)+.5},bounceIn:function(t){return 1-pt(1-t)},bounceOut:pt,circInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},circIn:function(t){return 1-Math.sqrt(1-t*t)},circOut:function(t){return Math.sqrt(1- --t*t)},cubicInOut:function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1},cubicIn:function(t){return t*t*t},cubicOut:function(t){var i=t-1;return i*i*i+1},elasticInOut:function(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1},elasticIn:function(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))},elasticOut:function(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1},expoInOut:function(t){return 0===t||1===t?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1},expoIn:function(t){return 0===t?t:Math.pow(2,10*(t-1))},expoOut:function(t){return 1===t?t:1-Math.pow(2,-10*t)},linear:function(t){return t},quadInOut:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},quadIn:function(t){return t*t},quadOut:function(t){return-t*(t-2)},quartInOut:function(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1},quartIn:function(t){return Math.pow(t,4)},quartOut:function(t){return Math.pow(t-1,3)*(1-t)+1},quintInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},quintIn:function(t){return t*t*t*t*t},quintOut:function(t){return--t*t*t*t*t+1},sineInOut:function(t){return-.5*(Math.cos(Math.PI*t)-1)},sineIn:function(t){var i=Math.cos(t*Math.PI*.5);return Math.abs(i)<1e-14?1:1-i},sineOut:function(t){return Math.sin(t*Math.PI/2)}},dt=function(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];return new(Function.prototype.bind.apply(t,[null].concat(i)))},mt=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return new(Function.prototype.bind.apply(B,[null].concat(t)))};export{dt as Engine,c as Scenes,i as ImageManager,Y as Sprites,mt as Sequence,ut as Animations,ft as Easing};
//# sourceMappingURL=animationvideo.mjs.map
